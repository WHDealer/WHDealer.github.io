(this["webpackJsonphb-frontend"]=this["webpackJsonphb-frontend"]||[]).push([[24],{1164:function(e,t,a){},1165:function(e,t,a){},1205:function(e,t,a){"use strict";a.r(t);var s=a(4),n=a(8),i=a(27),c=a(1),l=a(57),r=a(34),d=a(28),o=a(71),j=a(609),u=a(610),m=a(45),b=a(649),h=a(59),O=a(605),f=a(628),x=function(e,t){return u.b().shape({first_name:u.d().trim().required("first-name-must-be-at-least-1"),last_name:u.d().trim().required("last-name-must-be-at-least-1-c"),email:u.d().notOneOf([t.email],"this-email-already-exists-ple").matches(r.c.validate.validateEmail(),"email-format-is-incorrect").required("email-must-be-at-least-3-chara"),password:u.d().trim().min(8,"your-password-must-be-at-least").required("your-password-must-be-at-least").matches(r.c.validate.validatePassword(),"your-password-must-be-at-least")})},p=function(e,t){return function(a){var s=e(a,t);try{return s.validateSync(a,{abortEarly:!1}),{}}catch(n){return Object(h.g)(n)}}},v=function(e){var t=Object(b.a)().t,a=Object(d.b)(),n=e.searchUsers,u=e.handleClose,v=e.show,g=e.initialValues,y=Object(c.useState)({email:"",text:""}),w=Object(i.a)(y,2),_=w[0],N=w[1],k=Object(c.useState)(!0),C=Object(i.a)(k,2),S=C[0],E=C[1],A=Object(c.useRef)(null),D=Object(c.useState)(null),B=Object(i.a)(D,2),I=B[0],z=B[1];Object(c.useEffect)((function(){v&&(z(null),A.current.resetForm())}),[v]);var V=function(){E(!S)},F=Object(c.useState)(!1),L=Object(i.a)(F,2),q=L[0],M=L[1],R=function(){A.current.resetForm(),e.handleClose(),M(!1)};return Object(s.jsx)("div",{className:"flex-row align-items-center",children:Object(s.jsxs)(l.D,{centered:!0,show:v,onClose:u,closeOnBackdrop:!1,children:[Object(s.jsxs)(l.G,{children:[t("create-new-user"),Object(s.jsx)("i",{className:"fa fa-close cursor-pointer",onClick:function(){A.current.dirty||I?M(!0):R()}})]}),Object(s.jsxs)(l.E,{className:"popup--update-user",children:[Object(s.jsxs)(l.D,{size:"sm",show:q,centered:!0,closeOnBackdrop:!1,children:[Object(s.jsx)(l.E,{style:{textAlign:"center"},children:"Are you sure you want to discard your changes?"}),Object(s.jsxs)(l.F,{style:{display:"flex",justifyContent:"space-around"},children:[Object(s.jsx)("button",{className:"btn btn-danger",style:{width:160},color:"danger",onClick:R,children:"Discard"}),Object(s.jsx)("button",{style:{width:160},className:"btn btn-primary",onClick:function(){return M(!1)},children:"Keep Editing"})]})]}),Object(s.jsx)(l.L,{className:"justify-content-center",children:Object(s.jsx)(l.j,{md:"12",children:Object(s.jsx)(l.h,{children:Object(s.jsx)(l.e,{className:"popup--update-user__card--wrapper",children:Object(s.jsx)(l.f,{children:Object(s.jsx)(j.a,{innerRef:A,enableReinitialize:!0,initialValues:g,validate:p(x,_),onSubmit:function(e){var t,s,i={first_name:e.first_name.trim(),last_name:e.last_name.trim(),email:e.email.trim(),password:e.password.trim(),status_id:Number(e.status_id),gender:Number(e.gender),birth_date:Object(h.f)(I)},c=JSON.stringify(i);t={method:"post",api:r.c.rest.createUser(),body:c,loading:!0},s=function(e){var t=e.status,a=e.text,s=e.id;t===m.c?(n(),u()):"2"===s&&(N({email:i.email,text:a}),A.current.validateForm())},a(Object(m.d)(t,s))},children:function(e){var a=e.values,n=e.errors,i=e.touched,c=(e.status,e.dirty),d=e.handleChange,j=e.handleBlur,u=e.handleSubmit,m=(e.isSubmitting,e.isValid);e.handleReset,e.setTouched;return Object(s.jsxs)(l.q,{onSubmit:u,children:[Object(s.jsx)(l.r,{className:"mb-3",children:Object(s.jsxs)(f.a,{label:"First Name",width:110,children:[Object(s.jsx)(l.u,{type:"text",placeholder:t("first-name"),invalid:""!==a.first_name.trim()&&i.first_name&&!!n.first_name,autoComplete:"first_name",maxLength:50,value:Object(h.c)(a.first_name),onBlur:j,onChange:function(e){r.c.validate.valueTypingExpressionsName(e)&&d(e)},name:"first_name"}),Object(s.jsx)(l.A,{children:t(n.first_name||"")})]})}),Object(s.jsx)(l.r,{className:"mb-3",children:Object(s.jsxs)(f.a,{label:"Last Name",width:110,children:[Object(s.jsx)(l.u,{type:"text",placeholder:t("last-name"),invalid:""!==a.last_name.trim()&&i.last_name&&!!n.last_name,autoComplete:"last_name",maxLength:50,value:Object(h.c)(a.last_name),onBlur:j,onChange:function(e){r.c.validate.valueTypingExpressionsName(e)&&d(e)},name:"last_name"}),Object(s.jsx)(l.A,{children:t(n.last_name||"")})]})}),Object(s.jsx)(l.r,{className:"mb-3",children:Object(s.jsxs)(f.a,{label:"Email",width:110,children:[Object(s.jsx)(l.u,{type:"text",placeholder:t("email"),maxLength:50,invalid:""!==a.email&&i.email&&!!n.email,autoComplete:"email",value:a.email,onBlur:j,onChange:function(e){e.target.value.includes(" ")||d(e)},name:"email"}),Object(s.jsx)(l.A,{children:t(n.email||"")})]})}),Object(s.jsx)(l.r,{className:"mb-3",children:Object(s.jsx)(f.a,{label:"Password",width:110,children:Object(s.jsxs)(l.w,{children:[Object(s.jsx)(l.u,{type:S?"text":"password",placeholder:t("password"),invalid:""!==a.password&&i.password&&!!n.password,autoComplete:"password",maxLength:16,value:a.password,onBlur:j,onChange:function(e){e.target.value.includes(" ")||d(e)},name:"password"}),Object(s.jsx)(l.y,{style:{cursor:"pointer"},children:Object(s.jsx)(l.z,{onClick:V,children:Object(s.jsx)(o.a,{name:S?"cil-lock-locked":"cil-lock-unlocked"})})}),Object(s.jsx)(l.A,{children:t(n.password||"")})]})})}),Object(s.jsx)(l.r,{className:"mb-3",children:Object(s.jsx)(f.a,{label:"Gender",width:110,children:Object(s.jsxs)("div",{className:"d-flex",children:[Object(s.jsx)(l.u,{type:"radio",name:"gender",value:"0",onChange:d,checked:"0"===a.gender}),"Male",Object(s.jsx)(l.u,{type:"radio",name:"gender",value:"1",onChange:d,checked:"1"===a.gender}),"Female",Object(s.jsx)(l.u,{type:"radio",name:"gender",value:"2",onChange:d,checked:"2"===a.gender}),"Other"]})})}),Object(s.jsx)("div",{className:"mb-3",children:Object(s.jsx)(f.a,{label:"Date Of Birth",width:110,children:Object(s.jsx)(O.e,{date:I,setDate:z,fullWidth:!0})})}),Object(s.jsx)(l.r,{children:Object(s.jsx)(f.a,{label:"Status",width:110,children:Object(s.jsxs)(l.M,{value:a.status_id,onChange:d,name:"status_id",children:[Object(s.jsx)("option",{value:3,children:"Approved"}),Object(s.jsx)("option",{value:2,children:"Disapproved"})]})})}),Object(s.jsx)("div",{style:{textAlign:"right"},children:Object(s.jsx)(l.d,{color:"primary",className:"px-4",type:"submit",disabled:!m||!I||!["0","1","2"].includes(a.gender)||!c&&I===g.birth_date,children:t("create")})})]})}})})})})})})]})]})})},g=function(e){return u.b().shape({first_name:u.d().trim().required("first-name-must-be-at-least-1"),last_name:u.d().trim().required("last-name-must-be-at-least-1-c")})},y=function(e){var t=Object(b.a)().t,a=Object(d.b)(),n=e.searchUsers,o=e.handleClose,u=e.show,x=e.initialValues,p=e.type,v=Object(c.useState)(null),y=Object(i.a)(v,2),w=y[0],_=y[1];Object(c.useEffect)((function(){u&&_(x.birth_date)}),[u]);var N=Object(c.useState)(!1),k=Object(i.a)(N,2),C=k[0],S=k[1],E=Object(c.useRef)(null),A=function(){E.current.resetForm(),e.handleClose(),S(!1)};return Object(s.jsx)("div",{className:"flex-row align-items-center",children:Object(s.jsxs)(l.D,{centered:!0,show:u,onClose:A,closeOnBackdrop:!1,children:[Object(s.jsxs)(l.G,{children:["Edit Account",Object(s.jsx)("i",{className:"fa fa-close cursor-pointer",onClick:function(){E.current.dirty||w!==x.birth_date?S(!0):A()}})]}),Object(s.jsxs)(l.E,{className:"popup--update-user",children:[Object(s.jsxs)(l.D,{size:"sm",show:C,centered:!0,closeOnBackdrop:!1,children:[Object(s.jsx)(l.E,{style:{textAlign:"center"},children:"Are you sure you want to discard your changes?"}),Object(s.jsxs)(l.F,{style:{display:"flex",justifyContent:"space-around"},children:[Object(s.jsx)("button",{className:"btn btn-danger",style:{width:160},color:"danger",onClick:A,children:"Discard"}),Object(s.jsx)("button",{style:{width:160},className:"btn btn-primary",onClick:function(){return S(!1)},children:"Keep Editing"})]})]}),Object(s.jsx)(l.L,{className:"justify-content-center",children:Object(s.jsx)(l.j,{md:"12",children:Object(s.jsx)(l.h,{children:Object(s.jsx)(l.e,{className:"popup--update-user__card--wrapper",children:Object(s.jsx)(l.f,{children:Object(s.jsx)(j.a,{innerRef:E,enableReinitialize:!0,initialValues:x,validate:Object(h.q)(g),onSubmit:function(e){var t,s,i={first_name:e.first_name.trim(),last_name:e.last_name.trim(),email:e.email,status_id:Number(e.status_id),gender:Number(e.gender),birth_date:Object(h.f)(w)};t={method:"put",api:"/api/v1/admin/users/".concat(r.j[p],"/").concat(e.id),body:i,loading:!0,msg:r.c.messages.createUserFailure},s=function(e){e.status===m.c&&(n(),o())},a(Object(m.d)(t,s))},children:function(e){var a=e.values,n=e.errors,i=e.touched,c=e.dirty,d=e.handleChange,o=e.handleBlur,j=e.handleSubmit,u=e.isValid;return Object(s.jsxs)(l.q,{onSubmit:j,children:[Object(s.jsx)(l.r,{className:"mb-3",children:Object(s.jsxs)(f.a,{label:"First Name",width:110,children:[Object(s.jsx)(l.u,{type:"text",placeholder:t("first-name"),invalid:""!==a.first_name.trim()&&i.first_name&&!!n.first_name,autoComplete:"first_name",maxLength:50,value:Object(h.c)(a.first_name),onBlur:o,onChange:function(e){r.c.validate.valueTypingExpressionsName(e)&&d(e)},name:"first_name"}),Object(s.jsx)(l.A,{children:t(n.first_name||"")})]})}),Object(s.jsx)(l.r,{className:"mb-3",children:Object(s.jsxs)(f.a,{label:"Last Name",width:110,children:[Object(s.jsx)(l.u,{type:"text",placeholder:t("last-name"),invalid:""!==a.last_name.trim()&&i.last_name&&!!n.last_name,autoComplete:"last_name",maxLength:50,value:Object(h.c)(a.last_name),onBlur:o,onChange:function(e){r.c.validate.valueTypingExpressionsName(e)&&d(e)},name:"last_name"}),Object(s.jsx)(l.A,{children:t(n.last_name||"")})]})}),Object(s.jsx)(l.r,{className:"mb-4",children:Object(s.jsx)(f.a,{label:"Email",width:110,children:Object(s.jsx)(l.u,{type:"text",placeholder:t("email"),invalid:""!==a.email&&i.email&&!!n.email,autoComplete:"email",maxLength:50,value:a.email,onBlur:o,onChange:function(e){e.target.value.includes(" ")||d(e)},name:"email",disabled:!0})})}),Object(s.jsx)(l.r,{className:"mb-3",children:Object(s.jsx)(f.a,{label:"Gender",width:110,children:Object(s.jsxs)("div",{className:"d-flex",children:[Object(s.jsx)(l.u,{type:"radio",name:"gender",value:"0",onChange:d,checked:"0"===a.gender}),"Male",Object(s.jsx)(l.u,{type:"radio",name:"gender",value:"1",onChange:d,checked:"1"===a.gender}),"Female",Object(s.jsx)(l.u,{type:"radio",name:"gender",value:"2",onChange:d,checked:"2"===a.gender}),"Other"]})})}),Object(s.jsx)("div",{className:"mb-3",children:Object(s.jsx)(f.a,{label:"Date Of Birth",width:110,children:Object(s.jsx)(O.e,{date:w,setDate:_,fullWidth:!0})})}),"nurse"!==p&&Object(s.jsx)(l.r,{children:Object(s.jsx)(f.a,{label:"Status",width:110,children:Object(s.jsxs)(l.M,{value:a.status_id,onChange:d,name:"status_id",children:[Object(s.jsx)("option",{value:3,children:"Approved"}),Object(s.jsx)("option",{value:2,children:"Disapproved"})]})})}),Object(s.jsx)("div",{style:{textAlign:"right"},children:Object(s.jsx)(l.d,{color:"primary",className:"px-4",type:"submit",disabled:!u||!w||!["0","1","2"].includes(a.gender)||!c&&w===x.birth_date,children:t("update")})})]})}})})})})})})]})]})})},w=function(e){var t=Object(b.a)().t,a=Object(d.b)(),n=e.show,i=e.email,c=e.userId,o=e.handleClose;return Object(s.jsxs)(l.D,{centered:!0,show:n,onClose:o,closeOnBackdrop:!1,children:[Object(s.jsx)(l.G,{children:t("reset-password-confirmation")}),Object(s.jsxs)(l.E,{children:[t("do-you-want-to-reset-password")," ",i," ",t("admin"),"?"]}),Object(s.jsx)(l.F,{children:Object(s.jsxs)(l.L,{children:[Object(s.jsx)(l.j,{children:Object(s.jsx)(l.d,{color:"danger",className:"px-4",onClick:o,children:t("no")})}),Object(s.jsx)(l.j,{children:Object(s.jsx)(l.d,{color:"info",className:"px-4",onClick:function(){var t,s;e.handleClose(),t={method:"get",api:r.c.rest.resetPassword(c),msg:r.c.messages.resetPasswordFailure},a(Object(m.d)(t,s))},children:t("yes")})})]})})]})},_=a(35),N=a(102),k=a.n(N),C=(a(1164),function(e){var t,a=e.show,n=e.handleClose,i=e.url,c=e.name,l=null===i||void 0===i||null===(t=i.split)||void 0===t?void 0:t.call(i,"."),r="pdf"===(null===l||void 0===l?void 0:l[l.length-1]);return Object(s.jsxs)("div",{style:{width:"100vw",height:"100vh",position:"fixed",display:a?"flex":"none",zIndex:100,top:0,left:0,background:"#1b2638",flexDirection:"column",alignItems:"center",overflow:"auto"},children:[Object(s.jsx)("div",{style:{height:60},children:Object(s.jsxs)("div",{className:"d-flex justify-content-between p-3",style:{width:"100vw",color:"#afc0dc",fontSize:16,position:"fixed",top:0,left:0},children:[Object(s.jsx)("div",{children:c}),Object(s.jsx)("div",{className:"modal-view-image-close-btn",onClick:n,children:Object(s.jsx)("i",{className:"fas fa-times",style:{color:"#9fb0cc",fontSize:20}})})]})}),r?Object(s.jsx)("div",{style:{height:"90vh",display:"flex",alignItems:"center",width:"95vw"},children:Object(s.jsx)("iframe",{title:c,width:"100%",height:"100%",style:{border:"solid 1px gray",textAlign:"center"},src:i},i)}):Object(s.jsx)("div",{style:{height:"90vh",display:"flex",alignItems:"center"},children:Object(s.jsx)("div",{style:{width:1e3,minHeight:500,background:"white",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(s.jsx)("img",{src:i||"https://i.imgur.com/hGefqAz.jpg",alt:c,style:{maxWidth:1e3,maxHeight:640}})})})]})}),S=a(125),E={signature:"",card_number:"",image_back:"",card_expires:0,image_front:"",card_location:"",gender:"",last_name:"",first_name:"",date_of_birth:"",files_professional:[],files_consultation:[],loading:!1},A=function(e){var t,a=null===e||void 0===e||null===(t=e.split)||void 0===t?void 0:t.call(e,".");return"pdf"===a[a.length-1]?Object(s.jsx)(S.a,{file:e,children:Object(s.jsx)(S.b,{pageNumber:1,height:240})}):Object(s.jsx)("img",{src:e,alt:"document",style:{objectFit:"contain"}})},D=function(e){var t=Object(d.b)(),a=function(e,a){return t(Object(m.d)(e,a))},r=e.show,o=e.handleClose,j=e.id,u=e.userStatus,b=e.modalSendEmail,h=e.getUsers,O=e.setModalSendEmail,f=Object(c.useState)(E),x=Object(i.a)(f,2),p=x[0],v=x[1],g=Object(c.useState)({show:!1,url:"",name:""}),y=Object(i.a)(g,2),w=y[0],N=y[1];Object(c.useEffect)((function(){r&&j&&(v(Object(n.a)(Object(n.a)({},p),{},{loading:!0})),a({method:"get",api:"/api/v1/admin/users/nurse/".concat(j,"/documents-profile")},(function(e){var t=e.status,a=e.data;t===m.c?v(Object(n.a)(Object(n.a)({},a),{},{loading:!1})):v(E)})))}),[j]);var S,D,B=function(e){a({method:"put",api:"/api/v1/admin/users/nurse/".concat(j,"/documents-profile"),body:{approval:e},loading:!0},(function(e){e.status===m.c&&(o(),h())}))},I=_.e;p.loading||(I=Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"modal-view-documents-title",children:["Name: ",p.first_name+" "+p.last_name]}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"col-4",children:[Object(s.jsx)("div",{className:"modal-view-documents-title mt-3",children:"I. Identification Information"}),Object(s.jsxs)("div",{className:"modal-view-documents-children mb-3",children:[Object(s.jsxs)("div",{className:"mt-1",children:["ID number: ",p.card_number]}),Object(s.jsxs)("div",{className:"mt-1",children:["Expires on: ",k()(1e3*p.card_expires).format("DD-MM-YYYY")]}),Object(s.jsxs)("div",{className:"mt-1",children:["Location: ",p.card_location]})]}),Object(s.jsx)("div",{className:"modal-view-documents-title mt-3",children:"II. Certificate"}),Object(s.jsxs)("div",{className:"modal-view-documents-children",children:[null===(S=p.files_professional)||void 0===S?void 0:S.map((function(e){return Object(s.jsxs)("div",{style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},className:"link mt-1",onClick:function(){return N({show:!0,url:e.link,name:e.file_name})},children:["\u2022 ",e.file_name]})})),null===(D=p.files_consultation)||void 0===D?void 0:D.map((function(e){return Object(s.jsxs)("div",{style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},className:"link mt-1",onClick:function(){return N({show:!0,url:e.link,name:e.file_name})},children:["\u2022 ",e.file_name]})}))]})]}),Object(s.jsx)("div",{className:"col-8",children:Object(s.jsxs)("div",{className:"d-flex justify-content-evenly",children:[Object(s.jsx)("div",{className:"cursor-pointer p-3",onClick:function(){return N({show:!0,url:p.image_front,name:"Front Card"})},style:{width:"50%",height:240,display:"flex",justifyContent:"center"},children:A(p.image_front||"https://i.imgur.com/hGefqAz.jpg")}),Object(s.jsx)("div",{className:"cursor-pointer p-3",onClick:function(){return N({show:!0,url:p.image_back,name:"Back Card"})},style:{width:"50%",height:240,display:"flex",justifyContent:"center"},children:A(p.image_back||"https://i.imgur.com/hGefqAz.jpg")})]})})]}),Object(s.jsxs)("div",{className:"mb-3",children:[Object(s.jsx)("div",{className:"modal-view-documents-title mt-3",children:"III. E-Signature"}),Object(s.jsx)("div",{className:"d-flex justify-content-center",children:Object(s.jsx)("img",{className:"cursor-pointer",onClick:function(){return N({show:!0,url:p.signature,name:"E-Signature"})},src:p.signature||"https://i.imgur.com/hGefqAz.jpg",style:{width:480,height:250}})})]}),Object(s.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(s.jsx)("button",{className:"btn btn-primary mr-3",onClick:function(){return O({show:!0})},children:"Send email"}),Object(s.jsx)("button",{className:"btn btn-primary mr-3",onClick:function(){return B(!1)},disabled:2===u,children:"Disapproved"}),Object(s.jsx)("button",{className:"btn btn-primary",onClick:function(){return B(!0)},disabled:3===u,children:"Approved"})]})]}));return Object(s.jsx)("div",{className:b.show?"hb-modal-hidden":"",children:Object(s.jsxs)(l.D,{size:"xl",centered:!0,show:r,onClosed:o,onClose:o,closeOnBackdrop:!1,children:[Object(s.jsx)(l.G,{closeButton:!0,children:"Nurse Infomation"}),Object(s.jsxs)(l.E,{children:[Object(s.jsx)(C,Object(n.a)(Object(n.a)({},w),{},{handleClose:function(){return N(Object(n.a)(Object(n.a)({},w),{},{show:!1}))}})),I]})]})})},B=a(702),I=function(e){var t=e.show,a=e.handleClose,n=e.popupViewDocuments,r=e.handleCloseParent,d=e.callApi,o=Object(c.useState)(""),j=Object(i.a)(o,2),u=j[0],b=j[1];Object(c.useEffect)((function(){t&&b("")}),[t]);return Object(s.jsxs)(l.D,{style:{borderRadius:10},size:"lg",centered:!0,show:t,onClosed:a,onClose:a,closeOnBackdrop:!1,children:[Object(s.jsxs)(l.G,{closeButton:!0,children:["To: ",n.userEmail]}),Object(s.jsxs)(l.E,{className:"px-4 pt-3",style:{textAlign:"right"},children:[Object(s.jsx)("textarea",{value:u,onChange:function(e){return b(e.target.value)},className:"form-control",rows:12,placeholder:"Email content ..."}),Object(s.jsx)("button",{className:"btn btn-primary px-4 mt-3",onClick:function(){d({method:"post",api:"/api/v1/admin/users/nurse/".concat(n.id,"/re-upload-email"),loading:!0,body:{data:u}},(function(e){e.status===m.c&&(a(),r())}))},disabled:""===u.trim(),children:"Send"})]})]})},z=(a(1165),[{key:"no",_style:{width:"3%"}},{key:"first_name",_classes:"font-weight-bold",_style:{width:"12%"}},{key:"last_name",_classes:"font-weight-bold",_style:{width:"12%"}},{key:"email",_style:{width:"17%"}},{key:"gender",_style:{width:"8%"}},{key:"birth_date",_style:{width:"10%"},label:"Date Of Birth"},{key:"feed_back",_style:{width:"10%"},label:"Feedback"},{key:"verify_email",_style:{width:"10%"}},{key:"status_id",label:"Status",_style:{width:"8%"}},{key:"action",_style:{width:"10%"}}]),V=[{key:"no",_style:{width:"4%"}},{key:"first_name",_classes:"font-weight-bold",_style:{width:"15%"}},{key:"last_name",_classes:"font-weight-bold",_style:{width:"15%"}},{key:"email",_style:{width:"18%"}},{key:"gender",_style:{width:"8%"}},{key:"birth_date",label:"Date Of Birth",_style:{width:"10%"}},{key:"verify_email",_style:{width:"10%"}},{key:"status_id",label:"Status",_style:{width:"8%"}},{key:"action",_style:{width:"8%"}}],F={first_name:"",last_name:"",email:"",password:"",status_id:3},L={first_name:"",last_name:"",email:"",status_id:3,gender:"3",birth_date:null};t.default=function(e){var t,a,o=Object(b.a)().t,j=Object(d.b)(),u=function(e,t){return j(Object(m.d)(e,t))},f="admin"===Object(d.c)((function(e){return e.auth})).group_name,x=new URLSearchParams(null===(t=e.location)||void 0===t?void 0:t.search),p=x.get("type")||"admin",g=Number(x.get("status"))||0;["nurse","user","admin"].includes(p)||(p="admin"),(g<0||g>4)&&(g=0);var N="nurse"===p?z:V,k=(null===(a=r.g.filter((function(e){return(null===e||void 0===e?void 0:e.id)===g})))||void 0===a?void 0:a[0])||null,C=Object(c.useState)(""),S=Object(i.a)(C,2),E=S[0],A=S[1],q=Object(c.useState)(p),M=Object(i.a)(q,2),R=M[0],T=M[1],G=Object(c.useState)(k),P=Object(i.a)(G,2),U=P[0],Y=P[1],W=Object(c.useState)({data:[],loading:!0,total:0,totalPages:0,page:1}),J=Object(i.a)(W,2),K=J[0],H=J[1],X=Object(c.useState)({show:!1,initialValues:F}),Q=Object(i.a)(X,2),Z=Q[0],$=Q[1],ee=Object(c.useState)({show:!1,initialValues:L}),te=Object(i.a)(ee,2),ae=te[0],se=te[1],ne=Object(c.useState)({show:!1,email:"",userId:""}),ie=Object(i.a)(ne,2),ce=ie[0],le=ie[1],re=Object(c.useState)({show:!1,id:"",userStatus:0,userEmail:""}),de=Object(i.a)(re,2),oe=de[0],je=de[1],ue=Object(c.useState)(!1),me=Object(i.a)(ue,2),be=me[0],he=me[1],Oe=Object(c.useState)({show:!1,nurseId:"",nurseName:"",nurseThumbnail:"",nurseRating:0}),fe=Object(i.a)(Oe,2),xe=fe[0],pe=fe[1],ve=Object(c.useState)({show:!1}),ge=Object(i.a)(ve,2),ye=ge[0],we=ge[1],_e=Object(c.useRef)(0),Ne=r.j[R],ke=function(e){H(Object(n.a)(Object(n.a)({},K),{},{loading:!0})),u({method:"get",api:"/api/v1/admin/users/".concat(Ne,"?status=").concat(U?U.id:"","&page_size=").concat(10,"&page_number=").concat(e,"&search_name=").concat(E)},(function(t){var a=t.data;t.status===m.c?H({data:a.users.map((function(t,a){return Object(n.a)(Object(n.a)({},t),{},{no:a+1+10*(e-1),birth_date:Object(h.e)(t.birth_date)})})),loading:!1,total:a.total,totalPages:Math.ceil(a.total/10),page:e}):H(Object(n.a)(Object(n.a)({},K),{},{loading:!1}))}))};Object(c.useEffect)((function(){T(p),"nurse"!==p&&Y(null),H(Object(n.a)(Object(n.a)({},K),{},{loading:!0,data:[],total:0,totalPages:0}))}),[p]),Object(c.useEffect)((function(){Y(k)}),[g]),Object(c.useEffect)((function(){be&&(_e.current&&clearTimeout(_e.current),_e.current=setTimeout((function(){ke(1)}),1e3)),he(!0)}),[E]);Object(c.useEffect)((function(){ke(1)}),[U,R]);var Ce=Object(s.jsx)("div",{});K.loading||K.total||(Ce=Object(s.jsx)("div",{children:o("no-items-found")}));var Se=function(){je(Object(n.a)(Object(n.a)({},oe),{},{show:!1}))};return Object(s.jsxs)("div",{style:{width:"90%",margin:"10px auto"},children:[Object(s.jsx)(B.a,Object(n.a)(Object(n.a)({},xe),{},{handleClose:function(){return pe(Object(n.a)(Object(n.a)({},xe),{},{show:!1}))}})),Object(s.jsx)(v,{initialValues:Z.initialValues,show:Z.show,handleClose:function(){return $({show:!1,initialValues:F})},searchUsers:function(){return ke(1)}}),Object(s.jsx)(y,{type:R,initialValues:ae.initialValues,show:ae.show,handleClose:function(){return se({show:!1,initialValues:L})},searchUsers:function(){return ke(1)}}),Object(s.jsx)(w,{show:ce.show,handleClose:function(){return le({show:!1,email:"",userId:""})},email:ce.email,userId:ce.userId}),Object(s.jsx)(D,Object(n.a)(Object(n.a)({modalSendEmail:ye},oe),{},{setModalSendEmail:we,handleClose:Se,getUsers:ke})),Object(s.jsx)(I,Object(n.a)(Object(n.a)({callApi:u},ye),{},{popupViewDocuments:oe,handleClose:function(){return we(Object(n.a)(Object(n.a)({},ye),{},{show:!1}))},handleCloseParent:Se})),Object(s.jsxs)("div",{children:[Object(s.jsx)("h3",{children:"admin"===R?"Admin Management":"nurse"===R?"Nurse ".concat(1===U?"- Pending Approval":"Management"):"Basic Member Management"}),Object(s.jsxs)("div",{style:{display:"flex",flexDirection:"row",marginTop:20,marginBottom:30},children:[Object(s.jsxs)("div",{style:{position:"relative",width:218,height:35},children:[Object(s.jsx)(l.u,{className:"mr-3",style:{width:218,position:"absolute",paddingLeft:32},type:"text",placeholder:o("search"),value:E,maxLength:50,onChange:function(e){return A(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&ke(1)}}),Object(s.jsx)("i",{style:{position:"absolute",left:10,top:11,color:"#777"},className:"fa fa-search icon"})]}),!g&&Object(s.jsx)("div",{style:{width:250},children:Object(s.jsx)(O.k,{className:"mx-3",selected:U,setSelected:Y,defaultValue:"Select status",data:"nurse"===p?r.g:r.g.filter((function(e){return 1!==(null===e||void 0===e?void 0:e.id)&&4!==(null===e||void 0===e?void 0:e.id)})),loading:!1,full:!0,value:U?U.name:""})}),!f&&"admin"===p&&Object(s.jsx)("div",{style:{textAlign:"right",flex:1},children:Object(s.jsx)(l.d,{color:"primary",onClick:function(){return $({show:!0,initialValues:{first_name:"",last_name:"",email:"",password:"",status_id:3}})},children:o("add-new-user")})})]})]}),Object(s.jsx)("div",{children:Object(s.jsx)(l.l,{items:K.data,fields:N,loading:K.loading,noItemsViewSlot:Ce,hover:!0,striped:!0,scopedSlots:{no:function(e){return Object(s.jsx)("td",{className:"align-middle",children:e.no})},first_name:function(e){return Object(s.jsx)("td",{className:"align-middle",style:{textAlign:"left",height:60},children:e.first_name})},last_name:function(e){return Object(s.jsx)("td",{className:"align-middle",style:{textAlign:"left"},children:e.last_name})},email:function(e){return Object(s.jsx)("td",{className:"align-middle",style:{textAlign:"left"},children:e.email})},gender:function(e){return Object(s.jsx)("td",{className:"align-middle",children:r.h[e.gender]})},birth_date:function(e){return Object(s.jsx)("td",{className:"align-middle",children:e.birth_date?Object(h.f)(e.birth_date):Object(s.jsx)("div",{style:{marginLeft:"25%"},children:"-"})})},feed_back:function(e){return Object(s.jsx)("td",{className:"align-middle",children:e.feed_back?Object(s.jsxs)("div",{children:[Object(s.jsx)(O.l,{rating:e.feed_back,size:"sm"}),Object(s.jsx)("div",{className:"link",style:{fontSize:12},onClick:function(){return pe({show:!0,nurseId:e.id,nurseName:e.first_name+" "+e.last_name,nurseThumbnail:"",nurseRating:e.feed_back})},children:"View detail"})]}):Object(s.jsx)("div",{style:{marginLeft:"25%"},children:"-"})})},verify_email:function(e){return Object(s.jsx)("td",{className:"align-middle",children:e.verify_email})},status_id:function(e){return Object(s.jsx)("td",{className:"align-middle",children:Object(s.jsxs)("div",{className:"d-flex align-items-center",children:[Object(s.jsx)(l.a,{className:"status--style--data--table",children:r.k[e.status_id]}),Object(s.jsx)("div",{style:{width:"100%",textAlign:"right",fontSize:15,visibility:"nurse"===p&&4!==e.status_id?"visible":"hidden",cursor:"pointer"},onClick:function(){return function(e){je({show:!0,id:e.id,userStatus:e.status,userEmail:e.email})}(e)},children:Object(s.jsx)("i",{className:"fas fa-caret-square-down"})})]})})},action:function(e){return Object(s.jsxs)("td",{className:"py-2 align-middle",children:[Object(s.jsx)(l.d,{color:"primary",variant:"outline",shape:"square",size:"sm",style:{marginRight:10,visibility:f||"admin"!==e.type?"hidden":"visible"},onClick:function(){return le({show:!0,email:e.email,userId:e.id})},children:Object(s.jsx)("i",{className:"fas fa-sync-alt",children:" "})}),Object(s.jsx)(l.d,{disabled:"Inactive"===e.verify_email,color:"primary",variant:"outline",shape:"square",size:"sm",onClick:function(){se({show:!0,initialValues:e})},children:Object(s.jsx)("i",{className:"fas fa-pencil-alt",children:" "})})]})}}})}),Object(_.h)(K.totalPages,K.page,(function(e){K.page!==e&&ke(e)}),K.total)]})}},628:function(e,t,a){"use strict";var s=a(4);a(1);t.a=function(e){var t=e.className,a=e.label,n=e.children,i=e.width,c=e.centered,l=e.style;return i=i||110,Object(s.jsxs)("div",{className:"d-flex mb-3 ".concat(c?"align-items-center":""," ").concat(t||""),style:l,children:[Object(s.jsx)("div",{style:{minWidth:i,marginTop:6},children:a}),Object(s.jsx)("div",{style:{width:"calc(100% - ".concat(i,"px)")},children:n})]})}},702:function(e,t,a){"use strict";var s=a(4),n=a(8),i=a(27),c=a(1),l=a(57),r=a(605),d=a(102),o=a.n(d),j=(a(703),a(28)),u=a(45),m=a(34),b=a(35),h=[0,5,4,3,2,1];t.a=function(e){var t,a=e.show,d=e.nurseId,O=e.nurseName,f=e.nurseThumbnail,x=e.nurseRating,p=e.handleClose,v=Object(j.b)(),g=Object(c.useState)({data:[],loading:!0,full:!0,page:1}),y=Object(i.a)(g,2),w=y[0],_=y[1],N=Object(c.useState)(0),k=Object(i.a)(N,2),C=k[0],S=k[1];Object(c.useEffect)((function(){var e,t;a&&(S(0),_(Object(n.a)(Object(n.a)({},w),{},{loading:!0})),e={method:"get",api:m.c.rest.getDetailFeedbacks(d,1)},t=function(e){var t=e.status,a=e.data;t===u.c&&_((function(e){return{data:a,loading:!1,full:!0,page:1}}))},v(Object(u.d)(e,t)))}),[d]);return Object(s.jsxs)(l.D,{size:"xl",style:{height:"90vh"},centered:!0,show:a,onClose:p,closeOnBackdrop:!1,children:[Object(s.jsx)(l.G,{closeButton:!0,children:"Feedbacks"}),Object(s.jsxs)(l.E,{className:"px-0 py-3",style:{overflowY:"auto",overflowX:"hidden"},children:[Object(s.jsxs)("div",{className:"p-5 nurse-wrapper",children:[Object(s.jsxs)("div",{className:"text-center",children:[Object(s.jsx)("img",{alt:"nurse-avatar",src:f||b.a,className:"nurse-avatar"}),Object(s.jsx)("div",{className:"nurse-name",children:O})]}),Object(s.jsxs)("div",{className:"text-center",children:[Object(s.jsxs)("span",{className:"rating-wrapper",children:[Object(s.jsx)("span",{className:"rating",children:null===(t=Number(x))||void 0===t?void 0:t.toFixed(1)}),Object(s.jsx)("span",{className:"max-rating",children:"/5.0"})]}),Object(s.jsx)(r.l,{size:"lg",rating:x})]})]}),w.loading?Object(s.jsx)("div",{className:"mt-5",children:b.e}):Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"row px-5 py-3",children:h.map((function(e){return function(e){var t;return t=0===e?Object(s.jsx)("span",{children:"All"}):Array.from({length:e}).map((function(e,t){return Object(s.jsx)("i",{className:"fa fa-star"},t)})),Object(s.jsx)("div",{onClick:function(){return S(e)},className:"col-md-2",children:Object(s.jsxs)("div",{className:"rating-select ".concat(e===C?"active":""),style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(s.jsx)("div",{children:t}),Object(s.jsxs)("div",{children:["(",w.data[e].number_feedback,")"]})]})},e)}(e)}))}),Object(s.jsx)("div",{children:w.data[C].user_comments.map((function(e){return function(e){var t=e.user_id,a=e.avatar,n=e.first_name,i=e.last_name,c=e.feedback,l=e.customer_comments,d=e.modified_date;return Object(s.jsxs)("div",{className:"feedback-wrapper",children:[Object(s.jsx)("div",{className:"mx-3",children:Object(s.jsx)("img",{alt:"user-avatar",src:a||b.a,className:"user-avatar"})}),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"feedback-username",children:n+" "+i}),Object(s.jsx)(r.m,{size:"sm",rating:c}),Object(s.jsx)("div",{className:"feedback-content",children:l}),Object(s.jsx)("div",{className:"feedback-created-date",children:o()(1e3*d).format("DD.MM.YYYY hh:mm")})]})]},t)}(e)}))}),0===w.data[C].user_comments.length&&Object(s.jsx)("div",{className:"mt-5",style:{textAlign:"center",fontSize:20},children:"There is no feedback yet"})]})]})]})}},703:function(e,t,a){}}]);
//# sourceMappingURL=24.589cd7a3.chunk.js.map