{"version":3,"sources":["views/user/mobility/PostureType.tsx","views/user/mobility/PostureType.module.scss"],"names":["PostureType","props","dispatch","useDispatch","history","useHistory","email","useSelector","state","auth","useState","isloading","setIsLoading","postureType","settings","posture_type","posture","setPosture","showAttention","setShowAttention","attentions","ls","get","needShowAttention","includes","useEffect","set","choosePosture","payload","callback","body","method","api","config","rest","response","status","data","SUCCESS","changeSetting","push","callApiAction","show","handleClose","title","content","up","upCallback","className","styles","sub_title","cardWrapper","cardWrapperFirst","style","justifyContent","id","map","item","md","card","radio","type","name","onChange","checked","htmlFor","container","infomation","titleCard","footer","wrapperBack","button","disabled","color","children","size","onClick","module","exports"],"mappings":"kPA0IeA,UA/HoC,SAACC,GAClD,IAAMC,EAAWC,cAEXC,EAAUC,cAEVC,EAAQC,aAAY,SAACC,GAAD,OAAgBA,EAAMC,KAAKH,SALO,EAM1BI,oBAAS,GANiB,mBAMrDC,EANqD,KAM1CC,EAN0C,KAOtDC,EAAcN,aAAY,SAACC,GAAD,OAAgBA,EAAMM,SAASC,iBAAiB,MAPpB,EAQ9BL,mBAASG,GARqB,mBAQrDG,EARqD,KAQ5CC,EAR4C,OASlBP,oBAAS,GATS,mBASrDQ,EATqD,KAStCC,EATsC,KAUtDC,EAAaC,IAAGC,IAAI,wBAA0B,GAC9CC,GAAqBH,EAAWI,SAASlB,GAyB/CmB,qBAAU,WACRJ,IAAGK,IAAH,kBAAkBpB,GAASO,KAE1B,IAEH,IAAMc,EAAgB,SAACX,GACrB,IAxCeY,EAAcC,EAwCvBC,EAAY,CAChBf,aAAcC,GAEhBJ,GAAa,GA3CEgB,EA6Cb,CACEG,OAAQ,OACRC,IAAKC,IAAOC,KAAKpB,WACjBgB,KAAMA,GAhDmBD,EAkD3B,SAACM,GAAc,IACLC,EAAiBD,EAAjBC,OAAQC,EAASF,EAATE,KAEZD,IAAWE,MACbjB,IAAGK,IAAH,kBAAkBpB,GAASU,GAC3BJ,GAAa,GACbV,EAASqC,YAAcF,IAEnBd,EAAmBJ,GAAiB,GACnCf,EAAQoC,KAAK,eA3D0CtC,EAASuC,YAAcb,EAASC,KAiEpG,OACE,qCACE,cAAC,IAAD,CACEa,KAAMxB,EACNyB,YAAa,kBAAMxB,GAAiB,IACpCyB,MAAM,UACNC,QAAQ,8GACRC,GAAG,gBACHC,WAAY,WACV1B,IAAGK,IAAI,sBAAP,sBAAkCN,GAAlC,CAA8Cd,KAC9Ca,GAAiB,GACjBf,EAAQoC,KAAK,gBAIjB,qBAAKQ,UAAU,OAAf,SACE,sBAAKA,UAAS,qBAAgBC,IAAOjC,SAArC,UACE,oBAAIgC,UAAWC,IAAOL,MAAtB,0DACA,qBAAKI,UAAWC,IAAOC,UAAvB,oFACA,cAAC,IAAD,CAAMF,UAAW,CAACC,IAAOE,YAAaF,IAAOG,kBAAmBC,MAAO,CAAEC,eAAgB,UAAzF,SAzEK,CACX,CACEC,GAAI,MACJX,MAAO,cACPC,QAAS,6FAEX,CACEU,GAAI,WACJX,MAAO,uBACPC,QAAS,2DAEX,CACEU,GAAI,MACJX,MAAO,uBACPC,QAAS,uDAEX,CACEU,GAAI,MACJX,MAAO,uBACPC,QAAS,wDAuDGW,KAAI,SAACC,GAAD,OACR,cAAC,IAAD,CAAMC,GAAI,EAAV,SACE,eAAC,IAAD,CAAOV,UAAWC,IAAOU,KAAzB,UACE,sBAAKX,UAAWC,IAAOW,MAAvB,UACE,uBACEL,GAAIE,EAAKF,GACTM,KAAK,QACLC,KAAK,UACLC,SAAU,kBAAM9C,EAAWwC,EAAKF,KAChCS,QAASP,EAAKF,KAAOvC,IAEvB,uBAAOiD,QAASR,EAAKF,GAAIP,UAAS,UAAKC,IAAOiB,UAAZ,mBAEpC,wBAAOlB,UAAWC,IAAOkB,WAAYF,QAASR,EAAKF,GAAnD,UACE,sBAAMP,UAAWC,IAAOmB,UAAxB,SAAoCX,EAAKb,QACzC,uBAAMI,UAAWC,IAAOJ,QAAxB,UAAkCY,EAAKZ,QAAvC,cAdYY,EAAKF,SAqB3B,qBAAKP,UAAWC,IAAOoB,OAAvB,SACE,qBAAKrB,UAAWC,IAAOqB,YAAvB,SACE,cAAC,IAAD,CACEtB,UAAWC,IAAOsB,OAClBC,SAAsB,SAAZxD,EACVyD,MAAM,SACNC,SAAU/D,EAAY,cAAC,IAAD,CAAUgE,KAAK,KAAKF,MAAM,UAAa,kBAC7DG,QAAS,kBAAMjD,EAAcX,IAC7B6C,KAAK,yB,qBC/HrBgB,EAAOC,QAAU,CAAC,QAAU,6BAA6B,MAAQ,2BAA2B,UAAY,+BAA+B,OAAS,4BAA4B,YAAc,iCAAiC,iBAAmB,sCAAsC,KAAO,0BAA0B,MAAQ,2BAA2B,UAAY,+BAA+B,WAAa,gCAAgC,UAAY,+BAA+B,QAAU,6BAA6B,OAAS,4BAA4B,YAAc,iCAAiC,OAAS","file":"static/js/56.cb2810a7.chunk.js","sourcesContent":["import { CCard, CCol, CRow, CSpinner } from '@coreui/react';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { RouteComponentProps, useHistory } from 'react-router-dom';\nimport config from '../../../config';\nimport { ls } from '../../../extensions';\nimport { HBButtonFull, HBModalConfirm } from '../../../hbBaseClass';\nimport { callApiAction, SUCCESS } from '../../../store/callApi/actions';\nimport styles from './PostureType.module.scss';\nimport { changeSetting } from '../../../store/settings/actions';\n\nconst PostureType: React.FC<RouteComponentProps> = (props) => {\n  const dispatch = useDispatch();\n  const callApi = (payload: any, callback?: (result: any) => void) => dispatch(callApiAction(payload, callback));\n  const history = useHistory();\n  // const [posture, setPosture] = useState<any>(null);\n  const email = useSelector((state: any) => state.auth.email);\n  const [isloading, setIsLoading] = useState(false);\n  const postureType = useSelector((state: any) => state.settings.posture_type) || 'all';\n  const [posture, setPosture] = useState(postureType);\n  const [showAttention, setShowAttention] = useState(false);\n  const attentions = ls.get('mobility-attentions') || [];\n  const needShowAttention = !attentions.includes(email);\n\n  const data = [\n    {\n      id: 'all',\n      title: 'Alle Videos',\n      content: 'Sie können alle Videos mit allen Schwierigkeitsstufen sehen (Stehen, Sitzen, Liegen). ',\n    },\n    {\n      id: 'standing',\n      title: 'Übungen im Stehen',\n      content: 'Sie haben keine Einschränkungen in Ihren Bewegungen.',\n    },\n    {\n      id: 'sit',\n      title: 'Übungen im Sitzen',\n      content: 'Bei Bewegungen im Sitzen fühlen Sie sich sicher.',\n    },\n    {\n      id: 'lie',\n      title: 'Übungen im Liegen',\n      content: 'Bei Bewegungen im Liegen fühlen Sie sich sicher.',\n    },\n  ];\n\n  useEffect(() => {\n    ls.set(`posture-${email}`, postureType);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const choosePosture = (posture: any) => {\n    const body: any = {\n      posture_type: posture,\n    };\n    setIsLoading(true);\n    callApi(\n      {\n        method: 'post',\n        api: config.rest.settings(),\n        body: body,\n      },\n      (response) => {\n        const { status, data } = response;\n\n        if (status === SUCCESS) {\n          ls.set(`posture-${email}`, posture);\n          setIsLoading(false);\n          dispatch(changeSetting(data));\n\n          if (needShowAttention) setShowAttention(true);\n          else history.push('/mobility');\n        }\n      },\n    );\n  };\n\n  return (\n    <>\n      <HBModalConfirm\n        show={showAttention}\n        handleClose={() => setShowAttention(false)}\n        title=\"Achtung\"\n        content=\"Bevor Sie die Übung starten, konsultieren Sie Ihren Arzt um mögliche Verletzungsrisiken zu vermeiden.\"\n        up=\"Bestätigen\"\n        upCallback={() => {\n          ls.set('mobility-attentions', [...attentions, email]);\n          setShowAttention(false);\n          history.push('/mobility');\n        }}\n        // dark\n      />\n      <div className=\"wide\">\n        <div className={`hb-wrapper ${styles.posture}`}>\n          <h1 className={styles.title}>Welche Übungen können Sie absolvieren?</h1>\n          <div className={styles.sub_title}>Wählen Sie aus welche Übungen Sie angezeigt bekommen möchten:</div>\n          <CRow className={[styles.cardWrapper, styles.cardWrapperFirst]} style={{ justifyContent: 'center' }}>\n            {data.map((item) => (\n              <CCol md={6} key={item.id}>\n                <CCard className={styles.card}>\n                  <div className={styles.radio}>\n                    <input\n                      id={item.id}\n                      type=\"radio\"\n                      name=\"posture\"\n                      onChange={() => setPosture(item.id)}\n                      checked={item.id === posture}\n                    />\n                    <label htmlFor={item.id} className={`${styles.container} container`}></label>\n                  </div>\n                  <label className={styles.infomation} htmlFor={item.id}>\n                    <span className={styles.titleCard}>{item.title}</span>\n                    <span className={styles.content}>{item.content} </span>\n                  </label>\n                </CCard>\n              </CCol>\n            ))}\n          </CRow>\n\n          <div className={styles.footer}>\n            <div className={styles.wrapperBack}>\n              <HBButtonFull\n                className={styles.button}\n                disabled={posture === 'none'}\n                color=\"violet\"\n                children={isloading ? <CSpinner size=\"sm\" color=\"light\" /> : 'Filter anwenden'}\n                onClick={() => choosePosture(posture)}\n                type=\"button\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default PostureType;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posture\":\"PostureType_posture__3xpUi\",\"title\":\"PostureType_title__1gb8w\",\"sub_title\":\"PostureType_sub_title__1ZUvB\",\"search\":\"PostureType_search__7sSEb\",\"cardWrapper\":\"PostureType_cardWrapper__3afHZ\",\"cardWrapperFirst\":\"PostureType_cardWrapperFirst__10ghc\",\"card\":\"PostureType_card__2Gel4\",\"radio\":\"PostureType_radio__3BI1c\",\"container\":\"PostureType_container__1umok\",\"infomation\":\"PostureType_infomation__TdYaH\",\"titleCard\":\"PostureType_titleCard__3MdLk\",\"content\":\"PostureType_content__3TEp8\",\"footer\":\"PostureType_footer__16G_-\",\"wrapperBack\":\"PostureType_wrapperBack__-MKIa\",\"button\":\"PostureType_button__1-AzC\"};"],"sourceRoot":""}