(this["webpackJsonphb-frontend"]=this["webpackJsonphb-frontend"]||[]).push([[39],{1067:function(e,t,n){"use strict";n.r(t);var r=n(4),o=n(27),i=n(1),a=n(605),s=n(102),c=n.n(s),l=(n(1068),n(28)),u=n(45),d=n(34),f=n(35),p=n(31),v=n(163),m=[0,5,4,3,2,1];t.default=function(e){var t,n=Object(l.b)(),s=Object(p.h)(),h=Object(l.c)((function(e){return e.auth})),b=Object(i.useState)({data:[],loading:!0,full:!0,page:1,rating:0}),w=Object(o.a)(b,2),y=w[0],g=w[1],j=Object(i.useState)(0),_=Object(o.a)(j,2),O=_[0],x=_[1];Object(i.useEffect)((function(){var e,t;e={method:"get",api:d.c.rest.getDetailFeedbacks(h.user_id,1)},t=function(e){var t=e.status,n=e.data;t===u.c&&g((function(e){var t=(n=[{rating:0,number_feedback:3,user_comments:[{user_id:"0",avatar:"",first_name:"Nguyen",last_name:"Khanh",feedback:4,customer_comments:"sadsad",modified_date:1621236992},{user_id:"1",avatar:"",first_name:"Nguyen",last_name:"Khanh",feedback:5,customer_comments:"sadsad",modified_date:1621236992},{user_id:"2",avatar:"",first_name:"Nguyen",last_name:"Khanh",feedback:5,customer_comments:"sadsad",modified_date:1621236992}]},{rating:1,number_feedback:0,user_comments:[]},{rating:2,number_feedback:0,user_comments:[]},{rating:3,number_feedback:0,user_comments:[]},{rating:4,number_feedback:1,user_comments:[{user_id:"",avatar:"",first_name:"Nguyen",last_name:"Khanh",feedback:4,customer_comments:"sadsad",modified_date:1621236992}]},{rating:5,number_feedback:2,user_comments:[{user_id:"1",avatar:"",first_name:"Nguyen",last_name:"Khanh",feedback:5,customer_comments:"sadsad",modified_date:1621236992},{user_id:"2",avatar:"",first_name:"Nguyen",last_name:"Khanh",feedback:5,customer_comments:"sadsad",modified_date:1621236992}]}]).slice(1).reduce((function(e,t){return{s:e.s+t.rating*t.number_feedback,c:e.c+t.number_feedback}}),{s:0,c:0});console.log(t);var r=t.s/(t.c||1);return{data:n,loading:!1,full:!0,page:1,rating:r}}))},n(Object(u.d)(e,t))}),[]);return Object(r.jsx)("div",{className:"hb-wrapper",children:Object(r.jsxs)("div",{className:"hb-mx-20",style:{paddingBottom:50},children:[Object(r.jsx)("div",{className:"hb-my-28",children:Object(r.jsxs)(v.d,{color:"nightblue",onClick:function(){return s.goBack()},children:[Object(r.jsx)("i",{className:"hb-icon-arrow-left hb-icon-md"})," Zur\xfcck"]})}),Object(r.jsx)("div",{className:"hb-title",children:"R\xfcckmeldungen"}),y.loading?Object(r.jsx)("div",{className:"mt-5",children:f.e}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"pb-5 nurse-wrapper",children:Object(r.jsxs)("div",{className:"text-center",children:[Object(r.jsxs)("span",{className:"rating-wrapper",children:[Object(r.jsx)("span",{className:"rating",children:null===(t=Number(y.rating))||void 0===t?void 0:t.toFixed(1)}),Object(r.jsx)("span",{className:"max-rating",children:"/5.0"})]}),Object(r.jsx)(a.l,{size:"lg",rating:y.rating})]})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"row px-5 py-3",children:m.map((function(e){return function(e){var t;return t=0===e?Object(r.jsx)("span",{children:"All"}):Array.from({length:e}).map((function(e,t){return Object(r.jsx)("i",{className:"fa fa-star"},t)})),Object(r.jsx)("div",{onClick:function(){return x(e)},className:"col-md-2",children:Object(r.jsxs)("div",{className:"rating-select ".concat(e===O?"active":""),style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(r.jsx)("div",{children:t}),Object(r.jsxs)("div",{children:["(",y.data[e].number_feedback,")"]})]})},e)}(e)}))}),Object(r.jsx)("div",{children:y.data[O].user_comments.map((function(e){return function(e){var t=e.user_id,n=e.avatar,o=e.first_name,i=e.last_name,s=e.feedback,l=e.customer_comments,u=e.modified_date;return Object(r.jsxs)("div",{className:"feedback-wrapper",children:[Object(r.jsx)("div",{className:"mx-3",children:Object(r.jsx)("img",{alt:"user-avatar",src:n||f.a,className:"user-avatar"})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"feedback-username",children:o+" "+i}),Object(r.jsx)(a.m,{size:"sm",rating:s}),Object(r.jsx)("div",{className:"feedback-content",children:l}),Object(r.jsx)("div",{className:"feedback-created-date",children:c()(1e3*u).format("DD.MM.YYYY hh:mm")})]})]},t)}(e)}))}),0===y.data[O].user_comments.length&&Object(r.jsx)("div",{className:"mt-5",style:{textAlign:"center",fontSize:20},children:"There is no feedback yet"})]})]})]})})}},1068:function(e,t,n){},606:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=!("undefined"===typeof window||!window.document||!window.document.createElement);var o=void 0;function i(){return void 0===o&&(o=function(){if(!r)return!1;if(!window.addEventListener||!window.removeEventListener||!Object.defineProperty)return!1;var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t)}catch(o){}return e}()),o}function a(e){e.handlers===e.nextHandlers&&(e.nextHandlers=e.handlers.slice())}function s(e){this.target=e,this.events={}}s.prototype.getEventHandlers=function(e,t){var n,r=String(e)+" "+String((n=t)?!0===n?100:(n.capture<<0)+(n.passive<<1)+(n.once<<2):0);return this.events[r]||(this.events[r]={handlers:[],handleEvent:void 0},this.events[r].nextHandlers=this.events[r].handlers),this.events[r]},s.prototype.handleEvent=function(e,t,n){var r=this.getEventHandlers(e,t);r.handlers=r.nextHandlers,r.handlers.forEach((function(e){e&&e(n)}))},s.prototype.add=function(e,t,n){var r=this,o=this.getEventHandlers(e,n);a(o),0===o.nextHandlers.length&&(o.handleEvent=this.handleEvent.bind(this,e,n),this.target.addEventListener(e,o.handleEvent,n)),o.nextHandlers.push(t);var i=!0;return function(){if(i){i=!1,a(o);var s=o.nextHandlers.indexOf(t);o.nextHandlers.splice(s,1),0===o.nextHandlers.length&&(r.target&&r.target.removeEventListener(e,o.handleEvent,n),o.handleEvent=void 0)}}};var c="__consolidated_events_handlers__";function l(e,t,n,r){e[c]||(e[c]=new s(e));var o=function(e){if(e)return i()?e:!!e.capture}(r);return e[c].add(t,n,o)}},607:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return _}));var r=n(606),o=(n(0),n(1)),i=n.n(o),a=n(103);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function f(e,t){var n,r=(n=e,!isNaN(parseFloat(n))&&isFinite(n)?parseFloat(n):"px"===n.slice(-2)?parseFloat(n.slice(0,-2)):void 0);if("number"===typeof r)return r;var o=function(e){if("%"===e.slice(-1))return parseFloat(e.slice(0,-1))/100}(e);return"number"===typeof o?o*t:void 0}var p="above",v="inside",m="below",h="invisible";function b(e){return"string"===typeof e.type}var w;var y=[];function g(e){y.push(e),w||(w=setTimeout((function(){var e;for(w=null;e=y.shift();)e()}),0));var t=!0;return function(){if(t){t=!1;var n=y.indexOf(e);-1!==n&&(y.splice(n,1),!y.length&&w&&(clearTimeout(w),w=null))}}}var j={debug:!1,scrollableAncestor:void 0,children:void 0,topOffset:"0px",bottomOffset:"0px",horizontal:!1,onEnter:function(){},onLeave:function(){},onPositionChange:function(){},fireOnRapidScroll:!0},_=function(t){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(w,t);var n,o,c,u=d(w);function w(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,w),(t=u.call(this,e)).refElement=function(e){t._ref=e},t}return n=w,(o=[{key:"componentDidMount",value:function(){var e=this;w.getWindow()&&(this.cancelOnNextTick=g((function(){e.cancelOnNextTick=null;var t=e.props,n=t.children;t.debug,function(e,t){if(e&&!b(e)&&!t)throw new Error("<Waypoint> needs a DOM element to compute boundaries. The child you passed is neither a DOM element (e.g. <div>) nor does it use the innerRef prop.\n\nSee https://goo.gl/LrBNgw for more info.")}(n,e._ref),e._handleScroll=e._handleScroll.bind(e),e.scrollableAncestor=e._findScrollableAncestor(),e.scrollEventListenerUnsubscribe=Object(r.a)(e.scrollableAncestor,"scroll",e._handleScroll,{passive:!0}),e.resizeEventListenerUnsubscribe=Object(r.a)(window,"resize",e._handleScroll,{passive:!0}),e._handleScroll(null)})))}},{key:"componentDidUpdate",value:function(){var e=this;w.getWindow()&&this.scrollableAncestor&&(this.cancelOnNextTick||(this.cancelOnNextTick=g((function(){e.cancelOnNextTick=null,e._handleScroll(null)}))))}},{key:"componentWillUnmount",value:function(){w.getWindow()&&(this.scrollEventListenerUnsubscribe&&this.scrollEventListenerUnsubscribe(),this.resizeEventListenerUnsubscribe&&this.resizeEventListenerUnsubscribe(),this.cancelOnNextTick&&this.cancelOnNextTick())}},{key:"_findScrollableAncestor",value:function(){var t=this.props,n=t.horizontal,r=t.scrollableAncestor;if(r)return function(t){return"window"===t?e.window:t}(r);for(var o=this._ref;o.parentNode;){if((o=o.parentNode)===document.body)return window;var i=window.getComputedStyle(o),a=(n?i.getPropertyValue("overflow-x"):i.getPropertyValue("overflow-y"))||i.getPropertyValue("overflow");if("auto"===a||"scroll"===a||"overlay"===a)return o}return window}},{key:"_handleScroll",value:function(e){if(this._ref){var t=this._getBounds(),n=function(e){return e.viewportBottom-e.viewportTop===0?h:e.viewportTop<=e.waypointTop&&e.waypointTop<=e.viewportBottom||e.viewportTop<=e.waypointBottom&&e.waypointBottom<=e.viewportBottom||e.waypointTop<=e.viewportTop&&e.viewportBottom<=e.waypointBottom?v:e.viewportBottom<e.waypointTop?m:e.waypointTop<e.viewportTop?p:h}(t),r=this._previousPosition,o=this.props,i=(o.debug,o.onPositionChange),a=o.onEnter,s=o.onLeave,c=o.fireOnRapidScroll;if(this._previousPosition=n,r!==n){var l={currentPosition:n,previousPosition:r,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom};i.call(this,l),n===v?a.call(this,l):r===v&&s.call(this,l),c&&(r===m&&n===p||r===p&&n===m)&&(a.call(this,{currentPosition:v,previousPosition:r,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom}),s.call(this,{currentPosition:n,previousPosition:v,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom}))}}}},{key:"_getBounds",value:function(){var e,t,n=this.props,r=n.horizontal,o=(n.debug,this._ref.getBoundingClientRect()),i=o.left,a=o.top,s=o.right,c=o.bottom,l=r?i:a,u=r?s:c;this.scrollableAncestor===window?(e=r?window.innerWidth:window.innerHeight,t=0):(e=r?this.scrollableAncestor.offsetWidth:this.scrollableAncestor.offsetHeight,t=r?this.scrollableAncestor.getBoundingClientRect().left:this.scrollableAncestor.getBoundingClientRect().top);var d=this.props,p=d.bottomOffset;return{waypointTop:l,waypointBottom:u,viewportTop:t+f(d.topOffset,e),viewportBottom:t+e-f(p,e)}}},{key:"render",value:function(){var e=this,t=this.props.children;return t?b(t)||Object(a.isForwardRef)(t)?i.a.cloneElement(t,{ref:function(n){e.refElement(n),t.ref&&("function"===typeof t.ref?t.ref(n):t.ref.current=n)}}):i.a.cloneElement(t,{innerRef:this.refElement}):i.a.createElement("span",{ref:this.refElement,style:{fontSize:0}})}}])&&s(n.prototype,o),c&&s(n,c),w}(i.a.PureComponent);_.above=p,_.below=m,_.inside=v,_.invisible=h,_.getWindow=function(){if("undefined"!==typeof window)return window},_.defaultProps=j,_.displayName="Waypoint"}).call(this,n(29))},624:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n.d(t,"a",(function(){return r}))}}]);
//# sourceMappingURL=39.f07273e6.chunk.js.map