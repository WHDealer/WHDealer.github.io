(this["webpackJsonphb-frontend"]=this["webpackJsonphb-frontend"]||[]).push([[23],{1198:function(e,t,n){"use strict";n.r(t);var i=n(4),a=(n(1),n(710));t.default=function(){return Object(i.jsx)(a.a,{})}},613:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r}));var i={black:"#1d1d1d",white:"#ffffff",offWhite:"#e6e6e6",orange:"#FBA928",orangeDarker:"#EB9918",lightGrey:"#939AA4",lighterGrey:"#CDD4DA",red:"#ED3833",gray:"#687187",lightBlue:"#C5CEE0",mLightBgDarkPrimaryText:"#DE000000",mLightBgDarkSecondaryText:"#8A000000",mLightBgDarkDisabledText:"#61000000",mLightBgDarkHintText:"#61000000",mDarkBgLightPrimaryText:"#FFFFFFFF",mDarkBgLightSecondaryText:"#B3FFFFFF",mDarkBgLightDisabledText:"#80FFFFFF",mDarkBgLightHintText:"#80FFFFFF",mRed50:"#FFEBEE",mRed100:"#FFCDD2",mRed200:"#EF9A9A",mRed300:"#E57373",mRed400:"#EF5350",mRed500:"#F44336",mRed600:"#E53935",mRed700:"#D32F2F",mRed800:"#C62828",mRed900:"#B71C1C",mRedA100:"#FF8A80",mRedA200:"#FF5252",mRedA400:"#FF1744",mRedA700:"#D50000",mDeepPurple50:"#EDE7F6",mDeepPurple100:"#D1C4E9",mDeepPurple200:"#B39DDB",mDeepPurple300:"#9575CD",mDeepPurple400:"#7E57C2",mDeepPurple500:"#673AB7",mDeepPurple600:"#5E35B1",mDeepPurple700:"#512DA8",mDeepPurple800:"#4527A0",mDeepPurple900:"#311B92",mDeepPurpleA100:"#B388FF",mDeepPurpleA200:"#7C4DFF",mDeepPurpleA400:"#651FFF",mDeepPurpleA700:"#6200EA",mLightBlue50:"#E1F5FE",mLightBlue100:"#B3E5FC",mLightBlue200:"#81D4FA",mLightBlue300:"#4FC3F7",mLightBlue400:"#29B6F6",mLightBlue500:"#03A9F4",mLightBlue600:"#039BE5",mLightBlue700:"#0288D1",mLightBlue800:"#0277BD",mLightBlue900:"#01579B",mLightBlueA100:"#80D8FF",mLightBlueA200:"#40C4FF",mLightBlueA400:"#00B0FF",mLightBlueA700:"#0091EA",mGreen50:"#E8F5E9",mGreen100:"#C8E6C9",mGreen200:"#A5D6A7",mGreen300:"#81C784",mGreen400:"#66BB6A",mGreen500:"#4CAF50",mGreen600:"#43A047",mGreen700:"#388E3C",mGreen800:"#2E7D32",mGreen900:"#1B5E20",mGreenA100:"#B9F6CA",mGreenA200:"#69F0AE",mGreenA400:"#00E676",mGreenA700:"#00C853",mYellow50:"#FFFDE7",mYellow100:"#FFF9C4",mYellow200:"#FFF59D",mYellow300:"#FFF176",mYellow400:"#FFEE58",mYellow500:"#FFEB3B",mYellow600:"#FDD835",mYellow700:"#FBC02D",mYellow800:"#F9A825",mYellow900:"#F57F17",mYellowA100:"#FFFF8D",mYellowA200:"#FFFF00",mYellowA400:"#FFEA00",mYellowA700:"#FFD600",mDeepOrange50:"#FBE9E7",mDeepOrange100:"#FFCCBC",mDeepOrange200:"#FFAB91",mDeepOrange300:"#FF8A65",mDeepOrange400:"#FF7043",mDeepOrange500:"#FF5722",mDeepOrange600:"#F4511E",mDeepOrange700:"#E64A19",mDeepOrange800:"#D84315",mDeepOrange900:"#BF360C",mDeepOrangeA100:"#FF9E80",mDeepOrangeA200:"#FF6E40",mDeepOrangeA400:"#FF3D00",mDeepOrangeA700:"#DD2C00",mBlueGrey50:"#ECEFF1",mBlueGrey100:"#CFD8DC",mBlueGrey200:"#B0BEC5",mBlueGrey300:"#90A4AE",mBlueGrey400:"#78909C",mBlueGrey500:"#607D8B",mBlueGrey600:"#546E7A",mBlueGrey700:"#455A64",mBlueGrey800:"#37474F",mBlueGrey900:"#263238",mPink50:"#FCE4EC",mPink100:"#F8BBD0",mPink200:"#F48FB1",mPink300:"#F06292",mPink400:"#EC407A",mPink500:"#E91E63",mPink600:"#D81B60",mPink700:"#C2185B",mPink800:"#AD1457",mPink900:"#880E4F",mPinkA100:"#FF80AB",mPinkA200:"#FF4081",mPinkA400:"#F50057",mPinkA700:"#C51162",mIndigo50:"#E8EAF6",mIndigo100:"#C5CAE9",mIndigo200:"#9FA8DA",mIndigo300:"#7986CB",mIndigo400:"#5C6BC0",mIndigo500:"#3F51B5",mIndigo600:"#3949AB",mIndigo700:"#303F9F",mIndigo800:"#283593",mIndigo900:"#1A237E",mIndigoA100:"#8C9EFF",mIndigoA200:"#536DFE",mIndigoA400:"#3D5AFE",mIndigoA700:"#304FFE",mCyan50:"#E0F7FA",mCyan100:"#B2EBF2",mCyan200:"#80DEEA",mCyan300:"#4DD0E1",mCyan400:"#26C6DA",mCyan500:"#00BCD4",mCyan600:"#00ACC1",mCyan700:"#0097A7",mCyan800:"#00838F",mCyan900:"#006064",mCyanA100:"#84FFFF",mCyanA200:"#18FFFF",mCyanA400:"#00E5FF",mCyanA700:"#00B8D4",mLightGreen50:"#F1F8E9",mLightGreen100:"#DCEDC8",mLightGreen200:"#C5E1A5",mLightGreen300:"#AED581",mLightGreen400:"#9CCC65",mLightGreen500:"#8BC34A",mLightGreen600:"#7CB342",mLightGreen700:"#689F38",mLightGreen800:"#558B2F",mLightGreen900:"#33691E",mLightGreenA100:"#CCFF90",mLightGreenA200:"#B2FF59",mLightGreenA400:"#76FF03",mLightGreenA700:"#64DD17",mAmber50:"#FFF8E1",mAmber100:"#FFECB3",mAmber200:"#FFE082",mAmber300:"#FFD54F",mAmber400:"#FFCA28",mAmber500:"#FFC107",mAmber600:"#FFB300",mAmber700:"#FFA000",mAmber800:"#FF8F00",mAmber900:"#FF6F00",mAmberA100:"#FFE57F",mAmberA200:"#FFD740",mAmberA400:"#FFC400",mAmberA700:"#FFAB00",mBrown50:"#EFEBE9",mBrown100:"#D7CCC8",mBrown200:"#BCAAA4",mBrown300:"#A1887F",mBrown400:"#8D6E63",mBrown500:"#795548",mBrown600:"#6D4C41",mBrown700:"#5D4037",mBrown800:"#4E342E",mBrown900:"#3E2723",mPurple50:"#F3E5F5",mPurple100:"#E1BEE7",mPurple200:"#CE93D8",mPurple300:"#BA68C8",mPurple400:"#AB47BC",mPurple500:"#9C27B0",mPurple600:"#8E24AA",mPurple700:"#7B1FA2",mPurple800:"#6A1B9A",mPurple900:"#4A148C",mPurpleA100:"#EA80FC",mPurpleA200:"#E040FB",mPurpleA400:"#D500F9",mPurpleA700:"#AA00FF",mBlue50:"#E3F2FD",mBlue100:"#BBDEFB",mBlue200:"#90CAF9",mBlue300:"#64B5F6",mBlue400:"#42A5F5",mBlue500:"#2196F3",mBlue600:"#1E88E5",mBlue700:"#1976D2",mBlue800:"#1565C0",mBlue900:"#0D47A1",mBlueA100:"#82B1FF",mBlueA200:"#448AFF",mBlueA400:"#2979FF",mBlueA700:"#2962FF",mTeal50:"#E0F2F1",mTeal100:"#B2DFDB",mTeal200:"#80CBC4",mTeal300:"#4DB6AC",mTeal400:"#26A69A",mTeal500:"#009688",mTeal600:"#00897B",mTeal700:"#00796B",mTeal800:"#00695C",mTeal900:"#004D40",mTealA100:"#A7FFEB",mTealA200:"#64FFDA",mTealA400:"#1DE9B6",mTealA700:"#00BFA5",mLime50:"#F9FBE7",mLime100:"#F0F4C3",mLime200:"#E6EE9C",mLime300:"#DCE775",mLime400:"#D4E157",mLime500:"#CDDC39",mLime600:"#C0CA33",mLime700:"#AFB42B",mLime800:"#9E9D24",mLime900:"#827717",mLimeA100:"#F4FF81",mLimeA200:"#EEFF41",mLimeA400:"#C6FF00",mLimeA700:"#AEEA00",mOrange50:"#FFF3E0",mOrange100:"#FFE0B2",mOrange200:"#FFCC80",mOrange300:"#FFB74D",mOrange400:"#FFA726",mOrange500:"#FF9800",mOrange600:"#FB8C00",mOrange700:"#F57C00",mOrange800:"#EF6C00",mOrange900:"#E65100",mOrangeA100:"#FFD180",mOrangeA200:"#FFAB40",mOrangeA400:"#FF9100",mOrangeA700:"#FF6D00",mGrey50:"#FAFAFA",mGrey100:"#F5F5F5",mGrey200:"#EEEEEE",mGrey300:"#E0E0E0",mGrey400:"#BDBDBD",mGrey500:"#9E9E9E",mGrey600:"#757575",mGrey700:"#616161",mGrey800:"#424242",mGrey900:"#212121"},a={background:"#ffffff",backgroundGray:"#F1F2F3",transparentBackground:"#00000055",border:"#EDF1F7",primary:"#ed3833",primaryLighter:"#EE4953",secondary:"#f3a805",line:i.offWhite,text:"#22242a",dim:"#cdcdd7",error:"#ef4b5f",success:"#27ae60",shadow:"#2f3542",storybookDarkBg:i.black,storybookTextColor:i.black,white:"#ffffff",gray70:"#222B45",gray650:"#687187",gray60:"#8F9BB3",gray50:"#C5CEE0",gray3:"#cdcdd7",gray4:"#8d92a3",blue:"#3785D9",gray2:"#f1f3f8",gray1:"#F7F9FC",gray5:"#798195",gray6:"#E4E9F2",darkBlue:"#2E3A59",palette:i,transparent:"rgba(0, 0, 0, 0)",link:"#1890ff",scrim:"rgba(0, 0, 0, 0.6)",purple:"#722ed1",pink:"#eb2f96",yellow:"#fadb14",lime:"#a0d911",teal:"#13c2c2",indigo:"#2f54eb"},o={textSize:{h1:32,h2:28,h3:24,h4:20,h5:16,h6:12,large:20,title:18,normal:16,subTitle:14,small:12}},r=[0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100]},631:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var i=n(642),a=n(643),o=n(613);function r(){var e=Object(i.a)(["\n  font-size: ","px;\n  color: ",";\n  margin-top: ","px;\n"]);return r=function(){return e},e}function l(){var e=Object(i.a)(["\n  width: 90%;\n  margin: 10px auto;\n"]);return l=function(){return e},e}var s=a.a.div(l()),c=a.a.p(r(),o.b.textSize.small,o.a.error,o.c[1])},658:function(e,t,n){},706:function(e,t,n){e.exports=n(707)},707:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var o=i.createElement("svg",{viewBox:"-2 -5 14 20",height:"100%",width:"100%",style:{position:"absolute",top:0}},i.createElement("path",{d:"M9.9 2.12L7.78 0 4.95 2.828 2.12 0 0 2.12l2.83 2.83L0 7.776 2.123 9.9 4.95 7.07 7.78 9.9 9.9 7.776 7.072 4.95 9.9 2.12",fill:"#fff",fillRule:"evenodd"})),r=i.createElement("svg",{height:"100%",width:"100%",viewBox:"-2 -5 17 21",style:{position:"absolute",top:0}},i.createElement("path",{d:"M11.264 0L5.26 6.004 2.103 2.847 0 4.95l5.26 5.26 8.108-8.107L11.264 0",fill:"#fff",fillRule:"evenodd"}));function l(e){if(7===e.length)return e;for(var t="#",n=1;n<4;n+=1)t+=e[n]+e[n];return t}function s(e,t,n,i,a){return function(e,t,n,i,a){var o=(e-n)/(t-n);if(0===o)return i;if(1===o)return a;for(var r="#",l=1;l<6;l+=2){var s=parseInt(i.substr(l,2),16),c=parseInt(a.substr(l,2),16),d=Math.round((1-o)*s+o*c).toString(16);1===d.length&&(d="0"+d),r+=d}return r}(e,t,n,l(i),l(a))}var c=function(e){function t(t){e.call(this,t);var n=t.height,i=t.width,a=t.checked;this.t=t.handleDiameter||n-2,this.i=Math.max(i-n,i-(n+this.t)/2),this.o=Math.max(0,(n-this.t)/2),this.state={h:a?this.i:this.o},this.l=0,this.u=0,this.p=this.p.bind(this),this.v=this.v.bind(this),this.g=this.g.bind(this),this.k=this.k.bind(this),this.M=this.M.bind(this),this.m=this.m.bind(this),this.T=this.T.bind(this),this.$=this.$.bind(this),this.C=this.C.bind(this),this.D=this.D.bind(this),this.O=this.O.bind(this),this.S=this.S.bind(this)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.componentDidMount=function(){this.W=!0},t.prototype.componentDidUpdate=function(e){e.checked!==this.props.checked&&this.setState({h:this.props.checked?this.i:this.o})},t.prototype.componentWillUnmount=function(){this.W=!1},t.prototype.I=function(e){this.H.focus(),this.setState({R:e,j:!0,B:Date.now()})},t.prototype.L=function(e){var t=this.state,n=t.R,i=t.h,a=(this.props.checked?this.i:this.o)+e-n;t.N||e===n||this.setState({N:!0});var o=Math.min(this.i,Math.max(this.o,a));o!==i&&this.setState({h:o})},t.prototype.U=function(e){var t=this.state,n=t.h,i=t.N,a=t.B,o=this.props.checked,r=(this.i+this.o)/2;this.setState({h:this.props.checked?this.i:this.o});var l=Date.now()-a;(!i||l<250||o&&n<=r||!o&&n>=r)&&this.A(e),this.W&&this.setState({N:!1,j:!1}),this.l=Date.now()},t.prototype.p=function(e){e.preventDefault(),"number"==typeof e.button&&0!==e.button||(this.I(e.clientX),window.addEventListener("mousemove",this.v),window.addEventListener("mouseup",this.g))},t.prototype.v=function(e){e.preventDefault(),this.L(e.clientX)},t.prototype.g=function(e){this.U(e),window.removeEventListener("mousemove",this.v),window.removeEventListener("mouseup",this.g)},t.prototype.k=function(e){this.X=null,this.I(e.touches[0].clientX)},t.prototype.M=function(e){this.L(e.touches[0].clientX)},t.prototype.m=function(e){e.preventDefault(),this.U(e)},t.prototype.$=function(e){Date.now()-this.l>50&&(this.A(e),Date.now()-this.u>50&&this.W&&this.setState({j:!1}))},t.prototype.C=function(){this.u=Date.now()},t.prototype.D=function(){this.setState({j:!0})},t.prototype.O=function(){this.setState({j:!1})},t.prototype.S=function(e){this.H=e},t.prototype.T=function(e){e.preventDefault(),this.H.focus(),this.A(e),this.W&&this.setState({j:!1})},t.prototype.A=function(e){var t=this.props;(0,t.onChange)(!t.checked,e,t.id)},t.prototype.render=function(){var e=this.props,t=e.checked,n=e.disabled,o=e.className,r=e.offColor,l=e.onColor,c=e.offHandleColor,d=e.onHandleColor,u=e.checkedIcon,h=e.uncheckedIcon,m=e.checkedHandleIcon,p=e.uncheckedHandleIcon,f=e.boxShadow,b=e.activeBoxShadow,v=e.height,g=e.width,j=e.borderRadius,y=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&-1===t.indexOf(i)&&(n[i]=e[i]);return n}(e,["checked","disabled","className","offColor","onColor","offHandleColor","onHandleColor","checkedIcon","uncheckedIcon","checkedHandleIcon","uncheckedHandleIcon","boxShadow","activeBoxShadow","height","width","borderRadius","handleDiameter"]),O=this.state,F=O.h,x=O.N,D=O.j,C={position:"relative",display:"inline-block",textAlign:"left",opacity:n?.5:1,direction:"ltr",borderRadius:v/2,WebkitTransition:"opacity 0.25s",MozTransition:"opacity 0.25s",transition:"opacity 0.25s",touchAction:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},k={height:v,width:g,margin:Math.max(0,(this.t-v)/2),position:"relative",background:s(F,this.i,this.o,r,l),borderRadius:"number"==typeof j?j:v/2,cursor:n?"default":"pointer",WebkitTransition:x?null:"background 0.25s",MozTransition:x?null:"background 0.25s",transition:x?null:"background 0.25s"},B={height:v,width:Math.min(1.5*v,g-(this.t+v)/2+1),position:"relative",opacity:(F-this.o)/(this.i-this.o),pointerEvents:"none",WebkitTransition:x?null:"opacity 0.25s",MozTransition:x?null:"opacity 0.25s",transition:x?null:"opacity 0.25s"},A={height:v,width:Math.min(1.5*v,g-(this.t+v)/2+1),position:"absolute",opacity:1-(F-this.o)/(this.i-this.o),right:0,top:0,pointerEvents:"none",WebkitTransition:x?null:"opacity 0.25s",MozTransition:x?null:"opacity 0.25s",transition:x?null:"opacity 0.25s"},w={height:this.t,width:this.t,background:s(F,this.i,this.o,c,d),display:"inline-block",cursor:n?"default":"pointer",borderRadius:"number"==typeof j?j-1:"50%",position:"absolute",transform:"translateX("+F+"px)",top:Math.max(0,(v-this.t)/2),outline:0,boxShadow:D?b:f,border:0,WebkitTransition:x?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",MozTransition:x?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",transition:x?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s"},E={height:this.t,width:this.t,opacity:Math.max(2*(1-(F-this.o)/(this.i-this.o)-.5),0),position:"absolute",left:0,top:0,pointerEvents:"none",WebkitTransition:x?null:"opacity 0.25s",MozTransition:x?null:"opacity 0.25s",transition:x?null:"opacity 0.25s"},_={height:this.t,width:this.t,opacity:Math.max(2*((F-this.o)/(this.i-this.o)-.5),0),position:"absolute",left:0,top:0,pointerEvents:"none",WebkitTransition:x?null:"opacity 0.25s",MozTransition:x?null:"opacity 0.25s",transition:x?null:"opacity 0.25s"};return i.createElement("div",{className:o,style:C},i.createElement("div",{className:"react-switch-bg",style:k,onClick:n?null:this.T,onMouseDown:function(e){return e.preventDefault()}},u&&i.createElement("div",{style:B},u),h&&i.createElement("div",{style:A},h)),i.createElement("div",{className:"react-switch-handle",style:w,onClick:function(e){return e.preventDefault()},onMouseDown:n?null:this.p,onTouchStart:n?null:this.k,onTouchMove:n?null:this.M,onTouchEnd:n?null:this.m,onTouchCancel:n?null:this.O},p&&i.createElement("div",{style:E},p),m&&i.createElement("div",{style:_},m)),i.createElement("input",a({},{type:"checkbox",role:"switch","aria-checked":t,checked:t,disabled:n,style:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1}},y,{ref:this.S,onFocus:this.D,onBlur:this.O,onKeyUp:this.C,onChange:this.$})))},t}(i.Component);c.defaultProps={disabled:!1,offColor:"#888",onColor:"#080",offHandleColor:"#fff",onHandleColor:"#fff",uncheckedIcon:o,checkedIcon:r,boxShadow:null,activeBoxShadow:"0 0 2px 3px #3bf",height:28,width:56},t.default=c},708:function(e,t,n){var i,a,o;a=[e,t,n(1),n(0)],void 0===(o="function"===typeof(i=function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n);function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}o(i);var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function h(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}function m(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}function p(e){return window.clipboardData?window.clipboardData.getData("Text"):e.clipboardData?e.clipboardData.getData("text/plain"):""}function f(e){var t=e.tag,n=e.key,i=e.disabled,o=e.onRemove,r=e.classNameRemove,l=e.getTagDisplayValue,s=h(e,["tag","key","disabled","onRemove","classNameRemove","getTagDisplayValue"]);return a.default.createElement("span",u({key:n},s),l(t),!i&&a.default.createElement("a",{className:r,onClick:function(e){return o(n)}}))}function b(e){e.addTag;var t=h(e,["addTag"]),n=t.onChange,i=t.value,o=h(t,["onChange","value"]);return a.default.createElement("input",u({type:"text",onChange:n,value:i},o))}function v(e,t){return a.default.createElement("span",null,e,t)}function g(e){return e.split(" ").map((function(e){return e.trim()}))}var j={className:"react-tagsinput-input",placeholder:"Add a tag"},y=function(e){function t(){l(this,t);var e=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={tag:"",isFocused:!1},e.focus=e.focus.bind(e),e.blur=e.blur.bind(e),e}return d(t,e),s(t,[{key:"_getTagDisplayValue",value:function(e){var t=this.props.tagDisplayProp;return t?e[t]:e}},{key:"_makeTag",value:function(e){var t=this.props.tagDisplayProp;return t?r({},t,e):e}},{key:"_removeTag",value:function(e){var t=this.props.value.concat([]);if(e>-1&&e<t.length){var n=t.splice(e,1);this.props.onChange(t,n,[e])}}},{key:"_clearInput",value:function(){this.hasControlledInput()?this.props.onChangeInput(""):this.setState({tag:""})}},{key:"_tag",value:function(){return this.hasControlledInput()?this.props.inputValue:this.state.tag}},{key:"_addTags",value:function(e){var t=this,n=this.props,i=n.validationRegex,a=n.onChange,o=n.onValidationReject,r=n.onlyUnique,l=n.maxTags,s=n.value;r&&(e=(e=m(e)).filter((function(e){return s.every((function(n){return t._getTagDisplayValue(n)!==t._getTagDisplayValue(e)}))})));var c=e.filter((function(e){return!i.test(t._getTagDisplayValue(e))}));if(e=(e=e.filter((function(e){return i.test(t._getTagDisplayValue(e))}))).filter((function(e){var n=t._getTagDisplayValue(e);return"function"===typeof n.trim?n.trim().length>0:n})),l>=0){var d=Math.max(l-s.length,0);e=e.slice(0,d)}if(o&&c.length>0&&o(c),e.length>0){for(var u=s.concat(e),h=[],p=0;p<e.length;p++)h.push(s.length+p);return a(u,e,h),this._clearInput(),!0}return c.length>0||this._clearInput(),!1}},{key:"_shouldPreventDefaultEventOnAdd",value:function(e,t,n){return!!e||13===n&&(this.props.preventSubmit||!this.props.preventSubmit&&!t)}},{key:"focus",value:function(){this.input&&"function"===typeof this.input.focus&&this.input.focus(),this.handleOnFocus()}},{key:"blur",value:function(){this.input&&"function"===typeof this.input.blur&&this.input.blur(),this.handleOnBlur()}},{key:"accept",value:function(){var e=this._tag();return""!==e&&(e=this._makeTag(e),this._addTags([e]))}},{key:"addTag",value:function(e){return this._addTags([e])}},{key:"clearInput",value:function(){this._clearInput()}},{key:"handlePaste",value:function(e){var t=this,n=this.props,i=n.addOnPaste,a=n.pasteSplit;if(i){e.preventDefault();var o=a(p(e)).map((function(e){return t._makeTag(e)}));this._addTags(o)}}},{key:"handleKeyDown",value:function(e){if(!e.defaultPrevented){var t=this.props,n=t.value,i=t.removeKeys,a=t.addKeys,o=""===this._tag(),r=e.keyCode,l=e.key,s=-1!==a.indexOf(r)||-1!==a.indexOf(l),c=-1!==i.indexOf(r)||-1!==i.indexOf(l);if(s){var d=this.accept();this._shouldPreventDefaultEventOnAdd(d,o,r)&&e.preventDefault()}c&&n.length>0&&o&&(e.preventDefault(),this._removeTag(n.length-1))}}},{key:"handleClick",value:function(e){e.target===this.div&&this.focus()}},{key:"handleChange",value:function(e){var t=this.props.onChangeInput,n=this.props.inputProps.onChange,i=e.target.value;n&&n(e),this.hasControlledInput()?t(i):this.setState({tag:i})}},{key:"handleOnFocus",value:function(e){var t=this.props.inputProps.onFocus;t&&t(e),this.setState({isFocused:!0})}},{key:"handleOnBlur",value:function(e){var t=this.props.inputProps.onBlur;if(this.setState({isFocused:!1}),null!=e&&(t&&t(e),this.props.addOnBlur)){var n=this._makeTag(e.target.value);this._addTags([n])}}},{key:"handleRemove",value:function(e){this._removeTag(e)}},{key:"inputProps",value:function(){var e=this.props.inputProps,t=(e.onChange,e.onFocus,e.onBlur,h(e,["onChange","onFocus","onBlur"])),n=u({},j,t);return this.props.disabled&&(n.disabled=!0),n}},{key:"inputValue",value:function(e){return e.currentValue||e.inputValue||""}},{key:"hasControlledInput",value:function(){var e=this.props,t=e.inputValue;return"function"===typeof e.onChangeInput&&"string"===typeof t}},{key:"componentDidMount",value:function(){this.hasControlledInput()||this.setState({tag:this.inputValue(this.props)})}},{key:"componentWillReceiveProps",value:function(e){this.hasControlledInput()||this.inputValue(e)&&this.setState({tag:this.inputValue(e)})}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,i=(t.onChange,t.tagProps),o=t.renderLayout,r=t.renderTag,l=t.renderInput,s=(t.addKeys,t.removeKeys,t.className),c=t.focusedClassName,d=(t.addOnBlur,t.addOnPaste,t.inputProps,t.pasteSplit,t.onlyUnique,t.maxTags,t.validationRegex,t.disabled);t.tagDisplayProp,t.inputValue,t.onChangeInput,h(t,["value","onChange","tagProps","renderLayout","renderTag","renderInput","addKeys","removeKeys","className","focusedClassName","addOnBlur","addOnPaste","inputProps","pasteSplit","onlyUnique","maxTags","validationRegex","disabled","tagDisplayProp","inputValue","onChangeInput"]),this.state.isFocused&&(s+=" "+c);var m=n.map((function(t,n){return r(u({key:n,tag:t,onRemove:e.handleRemove.bind(e),disabled:d,getTagDisplayValue:e._getTagDisplayValue.bind(e)},i))})),p=l(u({ref:function(t){e.input=t},value:this._tag(),onPaste:this.handlePaste.bind(this),onKeyDown:this.handleKeyDown.bind(this),onChange:this.handleChange.bind(this),onFocus:this.handleOnFocus.bind(this),onBlur:this.handleOnBlur.bind(this),addTag:this.addTag.bind(this)},this.inputProps()));return a.default.createElement("div",{ref:function(t){e.div=t},onClick:this.handleClick.bind(this),className:s},o(m,p))}}]),t}(a.default.Component);y.defaultProps={className:"react-tagsinput",focusedClassName:"react-tagsinput--focused",addKeys:[9,13],addOnBlur:!1,addOnPaste:!1,inputProps:{},removeKeys:[8],renderInput:b,renderTag:f,renderLayout:v,pasteSplit:g,tagProps:{className:"react-tagsinput-tag",classNameRemove:"react-tagsinput-remove"},onlyUnique:!1,maxTags:-1,validationRegex:/.*/,disabled:!1,tagDisplayProp:null,preventSubmit:!0},t.default=y,e.exports=t.default})?i.apply(t,a):i)||(e.exports=o)},710:function(e,t,n){"use strict";var i,a=n(4),o=n(58),r=n(8),l=n(27),s=n(57),c=n(102),d=n.n(c),u=n(1),h=n(28),m=n(31),p=n(53),f=n(605),b=n(34),v=n(631),g=n(45),j=n(642),y=n(37),O=n.n(y),F=n(104),x=n(609),D=n(706),C=n.n(D),k=n(649),B=n(672),A=n.n(B),w=n(708),E=n.n(w),_=(n(658),n(643)),S=n(610),P=n(709),T=n(613),N=n(47),L=n.n(N),I=n(80),R=n(647),V=n.n(R),G=n(35),U=n(648),M=n.n(U);function z(){var e=Object(j.a)(["\n  font-size: 12px;\n  margin-left: ","px;\n  color: ",";\n  margin-bottom: 0px;\n"]);return z=function(){return e},e}function W(){var e=Object(j.a)(["\n  display: flex;\n  justify-content: center;\n  text-align: center;\n"]);return W=function(){return e},e}function Y(){var e=Object(j.a)(["\n  width: 100%;\n  align-items: center;\n  justify-content: center;\n  padding: 50px;\n  text-align: center;\n  border-width: 2px;\n  border-style: dashed;\n  border-color: #3b83b3;\n  border-radius: 5px;\n"]);return Y=function(){return e},e}function H(){var e=Object(j.a)(["\n  flex: 1;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  cursor: pointer;\n"]);return H=function(){return e},e}function K(){var e=Object(j.a)(["\n  margin-top: 20px;\n  margin-bottom: 20px;\n"]);return K=function(){return e},e}var q=function(e){var t,n,c,d,m,p,j=e.show,y=e.handleClose,D=e.type,B=e.formValue,w=e.uploadingVideos,_=e.setUploadingVideos,N=e.videos,R=e.setVideos,U=(e.satisfyFilter,e.auth),z=e.onSuccess,W=e.addNo,Y=Object(u.useState)({videoId:e.videoId,link:""}),H=Object(l.a)(Y,2),K=H[0],q=H[1],ee=Object(k.a)().t,te=Object(h.b)(),ne=function(e,t){return te(Object(g.d)(e,t))},ie=Object(u.useState)(null),ae=Object(l.a)(ie,2),oe=ae[0],re=ae[1],le=Object(u.useState)(""),se=Object(l.a)(le,2),ce=se[0],de=se[1],ue=Object(u.useState)(!1),he=Object(l.a)(ue,2),me=he[0],pe=he[1],fe=Object(u.useState)(""),be=Object(l.a)(fe,2),ve=be[0],ge=be[1],je=Object(u.useState)(""),ye=Object(l.a)(je,2),Oe=ye[0],Fe=ye[1],xe=Object(u.useState)({data:[],loading:!0,full:!1,page:1}),De=Object(l.a)(xe,2),Ce=De[0],ke=De[1],Be=Object(u.useState)(null),Ae=Object(l.a)(Be,2),we=Ae[0],Ee=Ae[1],_e=Object(u.useState)(""),Se=Object(l.a)(_e,2),Pe=Se[0],Te=Se[1],Ne=Object(u.useState)({data:[],loading:!0,full:!1,page:1}),Le=Object(l.a)(Ne,2),Ie=Le[0],Re=Le[1],Ve=Object(u.useState)(null),Ge=Object(l.a)(Ve,2),Ue=Ge[0],Me=Ge[1],ze=S.b().shape({title:null===(t=S.d())||void 0===t||null===(n=t.trim())||void 0===n?void 0:n.required(ee("video-title-required")),posture_type:null===(c=S.d())||void 0===c||null===(d=c.trim())||void 0===d?void 0:d.required(ee("video-title-required"))}),We=Object(u.useState)(""),Ye=Object(l.a)(We,2),He=Ye[0],Ke=Ye[1],qe=Object(u.useRef)(null),Je=function(e,t){ne({method:"get",api:"/api/v1/admin/categories?page_size=80&search_name=".concat(e,"&page_number=").concat(t)},(function(n){var i=n.status,a=n.data;i===g.c&&ke((function(n){var i=a.data.map((function(e){return{id:e.id,name:e.title}}));return{data:1===t?""===e?[null].concat(Object(o.a)(i)):i:[].concat(Object(o.a)(n.data),Object(o.a)(i)),loading:!1,full:a.data.length<10,page:t}}))}))},Xe=function(e,t){ne({method:"get",api:b.c.rest.adminGetMobilityTrainers(t,e,!0,!0)},(function(n){var i=n.status,a=n.data;i===g.c&&Re((function(n){var i=a.trainers.map((function(e){return{id:e.id,name:e.first_name+" "+e.last_name}}));return{data:1===t?""===e?[null].concat(Object(o.a)(i)):i:[].concat(Object(o.a)(n.data),Object(o.a)(i)),loading:!1,full:a.trainers.length<10,page:t}}))}))};Object(u.useEffect)((function(){j&&(q(Object(r.a)(Object(r.a)({},K),{},{videoId:e.videoId})),Je("",1),Xe("",1),Fe(B.category_name),Te(B.trainer_name),Ee(B.category_id?{id:B.category_id,name:B.category_name}:null),Me(B.trainer_id?{id:B.trainer_id,name:B.trainer_name}:null))}),[j]);var $e=(new AbortController).signal;$e.addEventListener("abort",(function(){console.log($e.aborted)}));var Qe=function(e){var t=e[0],n=null===t||void 0===t?void 0:t.name;ne({method:"get",loading:!0,api:b.c.rest.getTemporaryUploadLink(n)},(function(e){var n=e.status,i=e.data;n===g.c&&(q({videoId:i.video_id,link:i.link}),R((function(e){var t=Object(r.a)({},e);return t.data=[{id:i.video_id,thumbnail:"",hls_link:qe.current.values.video,name:"",description:"",status:"Uploading",created_date:(new Date).getTime()/1e3,modified_date:null,uploader:U.first_name+" "+U.last_name,tag:"",views:0,comment:0,like:0,documents:[]}].concat(Object(o.a)(t.data.slice(0,9))).map(W),t})),tt(i.link,t,i.video_id),Ze(i.video_id))}))},Ze=function(e){var t=JSON.parse(G.g.get("videosUploading"))||[];t.push(e),G.g.set("videosUploading",JSON.stringify(t))},et=function(){var e=Object(F.a)(O.a.mark((function e(t,n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L.a.get(b.c.rest.getTemporaryUploadDocument(t,n)).then((function(e){return null===e||void 0===e?void 0:e.data})).catch((function(e){return null===e||void 0===e?void 0:e.data})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),tt=function(e,t,n){(new Headers).append("x-amz-acl","public-read"),_((function(e){return[].concat(Object(o.a)(e),[{id:n,progress:0}])}));var a=L.a.create();delete a.defaults.baseURL,delete a.defaults.headers.common.Authorization,i=L.a.CancelToken.source(),a({method:"put",url:e,headers:{"x-amz-acl":"public-read","Content-Type":null===t||void 0===t?void 0:t.type},data:t,onUploadProgress:function(e){_((function(t){var i=Object(o.a)(t),a=i.findIndex((function(e){return e.id===n}));return a>-1?(i[a].progress=Math.round(100*e.loaded/e.total),i):i}))},cancelToken:i.token}).then((function(e){var t;!function(e){var t=G.g.get("videosUploading"),n=JSON.parse(t).filter((function(t){return t!==e}));G.g.set("videosUploading",JSON.stringify(n))}(n),_((function(e){return e.filter((function(e){return e.id!==n}))})),z(n),null===(t=qe.current)||void 0===t||t.setFieldValue("status","Processing")})).catch((function(e){console.log(e)}))},nt=function(e,t){var n={name:e.title||"",posture_type:e.posture_type||"",description:e.description||"",tag:e.tags.toString(),category_id:null===we||void 0===we?void 0:we.id,category_name:(null===we||void 0===we?void 0:we.name)||"Non category",trainer_id:null===Ue||void 0===Ue?void 0:Ue.id,trainer_name:null===Ue||void 0===Ue?void 0:Ue.name,status:"Disable"===(null===e||void 0===e?void 0:e.status)?0:1,documents:(null===e||void 0===e?void 0:e.documents)||[]},i=Object(r.a)({},n);delete i.category_name,delete i.trainer_name,ne({method:"put",api:b.c.rest.editVideo(t),body:i,loading:!0},(function(e){e.status===g.c&&(qe.current.resetForm(),y(),pe(!1),z(t,n))}))},it=Object(u.useState)({show:!1,title:"",left:"",right:"",callback:function(){}}),at=Object(l.a)(it,2),ot=at[0],rt=at[1],lt=function(){y(),pe(!1),qe.current.resetForm(),de(""),ge(""),re(null)},st=function(){y(),i.cancel("Upload cancelled"),qe.current.resetForm(),de(""),ge(""),re(null),_((function(e){return e.filter((function(e){return e.id!==K.videoId}))})),rt(Object(r.a)(Object(r.a)({},ot),{},{show:!1}))},ct=function(e,t,n,i){qe.current.dirty||((null===we||void 0===we?void 0:we.id)||"1")!==B.category_id||((null===Ue||void 0===Ue?void 0:Ue.id)||"")!==B.trainer_id?rt(Object(r.a)(Object(r.a)({},ot),{},{show:!0,title:e,left:t,right:n,callback:i})):lt()},dt=null===(m=w.filter((function(e){return e.id===K.videoId})))||void 0===m?void 0:m[0],ut=null===(p=N.data.filter((function(e){return e.id===K.videoId})))||void 0===p?void 0:p[0],ht="Processing"===(null===ut||void 0===ut?void 0:ut.status),mt="Draft"===(null===ut||void 0===ut?void 0:ut.status)||"Posted"===(null===ut||void 0===ut?void 0:ut.status);return Object(a.jsx)("div",{className:"flex-row align-items-center",children:Object(a.jsxs)(s.D,{size:"lg",centered:!0,show:j,onClose:lt,onClosed:function(){return lt()},closeOnBackdrop:!1,children:[Object(a.jsxs)(s.G,{children:[ee("create"===D?"upload-video":"edit-video"),Object(a.jsx)("i",{className:"fa fa-close cursor-pointer",onClick:"create"===D?lt:function(){return ct("Are you sure you want to discard your changes?","Discard","Keep Editing",(function(){rt(Object(r.a)(Object(r.a)({},ot),{},{show:!1})),lt()}))}})]}),Object(a.jsxs)(s.E,{children:[Object(a.jsxs)(s.D,{size:"sm",show:ot.show,centered:!0,closeOnBackdrop:!1,children:[Object(a.jsx)(s.E,{style:{textAlign:"center"},children:ot.title}),Object(a.jsxs)(s.F,{style:{display:"flex",justifyContent:"space-around"},children:[Object(a.jsx)(s.d,{style:{width:120},color:"danger",onClick:ot.callback,children:ot.left}),Object(a.jsx)(s.d,{style:{width:120},color:"primary",onClick:function(){return rt(Object(r.a)(Object(r.a)({},ot),{},{show:!1}))},children:ot.right})]})]}),Object(a.jsx)(s.L,{className:"justify-content-center",children:Object(a.jsx)(s.j,{md:"12",children:Object(a.jsx)(s.h,{children:Object(a.jsx)(s.e,{children:Object(a.jsx)(s.f,{children:Object(a.jsx)(x.a,{innerRef:qe,enableReinitialize:!0,initialValues:B,validationSchema:ze,onSubmit:function(e){nt(e,"create"===D?K.videoId:e.id)},children:function(e){var t,n,l=e.values,c=e.errors,d=e.touched,u=(e.status,e.dirty),h=e.handleChange,m=e.handleBlur,p=e.handleSubmit,b=(e.isSubmitting,e.isValid),g=(e.handleReset,e.setTouched,e.setFieldValue),j=e.setFieldTouched;return Object(a.jsxs)(s.q,{onSubmit:p,children:[("create"===D&&me||"update"===D)&&Object(a.jsxs)("div",{children:[Object(a.jsxs)(s.L,{children:[Object(a.jsxs)(s.j,{children:[Object(a.jsxs)(s.r,{children:[Object(a.jsxs)(s.B,{children:[ee("title")," (*)"]}),Object(a.jsx)(s.u,{type:"text",onChange:function(e){h(e)},invalid:!(!d.title||!c.title),placeholder:ee("title"),autoComplete:"title",maxLength:100,value:(null===l||void 0===l?void 0:l.title)||"",onBlur:m,name:"title"}),(null===c||void 0===c?void 0:c.title)&&d.title?Object(a.jsx)(v.b,{children:c.title}):null]}),Object(a.jsxs)(s.r,{children:[Object(a.jsx)(s.B,{children:"Type (*)"}),Object(a.jsxs)("div",{className:"d-flex mb-2",children:[Object(a.jsx)(s.u,{style:{maxWidth:24,marginRight:10},type:"radio",onChange:h,checked:"standing"===(null===l||void 0===l?void 0:l.posture_type),value:"standing",name:"posture_type"}),"Standing exercises"]}),Object(a.jsxs)("div",{className:"d-flex mb-2",children:[Object(a.jsx)(s.u,{style:{maxWidth:24,marginRight:10},type:"radio",onChange:h,checked:"sit"===(null===l||void 0===l?void 0:l.posture_type),value:"sit",name:"posture_type"}),"Sitting exercises"]}),Object(a.jsxs)("div",{className:"d-flex mb-2",children:[Object(a.jsx)(s.u,{style:{maxWidth:24,marginRight:10},type:"radio",onChange:h,checked:"lie"===(null===l||void 0===l?void 0:l.posture_type),value:"lie",name:"posture_type"}),"Lying down exercises"]})]}),Object(a.jsxs)(s.r,{children:[Object(a.jsx)(s.B,{children:ee("description")}),Object(a.jsx)(s.u,{type:"text",placeholder:ee("description"),onChange:function(e){h(e)},autoComplete:"description",maxLength:1e3,value:(null===l||void 0===l?void 0:l.description)||"",onBlur:m,name:"description"})]}),Object(a.jsxs)(s.r,{children:[Object(a.jsx)(s.B,{children:"Trainer"}),Object(a.jsx)("div",{style:{width:"100%"},children:Object(a.jsx)(f.k,Object(r.a)(Object(r.a)({selected:Ue,setSelected:Me,defaultValue:"Select trainer",value:Pe,setValue:Te,callbackSearch:Xe},Ie),{},{maxLength:50}))})]}),Object(a.jsxs)(s.r,{children:[Object(a.jsx)(s.B,{children:ee("category")}),Object(a.jsx)("div",{style:{width:"100%"},children:Object(a.jsx)(f.k,Object(r.a)(Object(r.a)({selected:we,setSelected:Ee,defaultValue:"Select category",value:Oe,setValue:Fe,callbackSearch:Je},Ce),{},{maxLength:100}))})]})]}),Object(a.jsx)(s.j,{children:Object(a.jsxs)(J,{children:["update"===D||(null===l||void 0===l?void 0:l.video)||oe?Object(a.jsxs)("div",{style:{backgroundColor:T.a.gray3,alignItems:"center",height:200},children:["Uploading"!==(null===l||void 0===l?void 0:l.status)&&Object(a.jsx)(A.a,{url:(null===B||void 0===B?void 0:B.hls_link)||(null===l||void 0===l?void 0:l.video),width:"100%",height:"100%",controls:!0}),"create"===D&&oe&&!(null===l||void 0===l?void 0:l.status)&&Object(a.jsx)("i",{onClick:function(){i.cancel("Upload cancelled"),g("video",null),re(null),_((function(e){return e.filter((function(e){return e.id!==K.videoId}))}))},style:{position:"absolute",top:10,right:10},className:"fas fa-times-circle fa-2x"})]}):Object(a.jsx)("div",{children:Object(a.jsx)(X,{children:Object(a.jsx)(P.a,{accept:".mp4,.wmv,.flv,.mov,.avi",maxFiles:1,maxSize:5e9,onDropRejected:function(e){de(e[0].errors[0].message||"")},onDropAccepted:function(e){var t,n,i=e[0];Qe(e),re(i),g("title",(null===i||void 0===i||null===(t=i.name)||void 0===t?void 0:t.substr(0,null===i||void 0===i||null===(n=i.name)||void 0===n?void 0:n.lastIndexOf(".")))||""),setTimeout((function(){j("title")})),g("video",URL.createObjectURL(i)),de("")},children:function(e){var t=e.getRootProps,n=e.getInputProps;return Object(a.jsxs)($,Object(r.a)(Object(r.a)({},t()),{},{children:[Object(a.jsx)("input",Object(r.a)({},n())),Object(a.jsx)("p",{style:{fontWeight:"bold"},children:"Drop and Drag file here, or click to select file"}),ce&&Object(a.jsxs)(Q,{children:[Object(a.jsx)("i",{style:{color:T.a.error},className:"fas fa-exclamation-triangle"}),Object(a.jsx)(Z,{children:ce})]})]}))}})})}),Object(a.jsxs)("div",{className:"d-flex justify-content-center",style:{position:"relative",height:20},children:[dt&&Object(a.jsx)("div",{style:{position:"absolute",top:20,borderRadius:100,overflow:"hidden",width:"100%"},children:Object(a.jsx)(V.a,{completed:null===dt||void 0===dt?void 0:dt.progress,height:"15px",baseBgColor:T.a.palette.lightBlue,bgColor:T.a.blue,transitionDuration:"0.5s",transitionTimingFunction:"linear"})}),ht&&Object(a.jsx)("div",{style:{position:"absolute"},children:Object(a.jsx)(M.a,{type:"bubbles",color:"var(--primary)",width:80})}),mt&&"create"===D&&Object(a.jsx)("div",{style:{position:"absolute",top:20,fontSize:16},children:Object(a.jsx)("div",{children:"Video is processed"})})]})]})})]}),Object(a.jsxs)(s.r,{children:[Object(a.jsx)(s.B,{children:ee("tags")}),Object(a.jsx)(E.a,{value:(null===l||void 0===l?void 0:l.tags)||[],onChange:function(e){g("tags",e),Ke("")},inputValue:He,onChangeInput:function(e){var t=(null===e||void 0===e?void 0:e.trim())||"";(""===e||/^[a-z0-9\xdf\xfc\xdc\xf6\xd6\xe4\xc4_][-\w\xdf\xfc\xdc\xf6\xd6\xe4\xc4 ]*$/.test(e))&&Ke(t)},addKeys:[9,13,32],maxTags:10,onlyUnique:!0})]}),Object(a.jsxs)(s.r,{children:[Object(a.jsx)(s.B,{children:"Document"}),null===l||void 0===l||null===(t=l.documents)||void 0===t?void 0:t.map((function(e,t){return Object(a.jsxs)("li",{style:{width:"100%",display:"flex",alignItems:"center",marginBottom:T.c[2]},children:[Object(a.jsx)("a",{target:"_blank",href:null===e||void 0===e?void 0:e.link,children:e.file_name}),Object(a.jsx)("i",{style:{marginLeft:10},onClick:function(){var e=Object(o.a)(l.documents);e.splice(t,1),g("documents",e)},className:"fas fa-times-circle fa"})]},t)})),Object(a.jsxs)("div",{children:[Object(a.jsx)(X,{children:Object(a.jsx)(P.a,{accept:".pdf",disabled:(null===l||void 0===l||null===(n=l.documents)||void 0===n?void 0:n.length)>9,maxFiles:10,onDropRejected:function(e){ge(e[0].errors[0].message||"")},onDropAccepted:function(e){ge(""),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Array.from(e).slice(0,10-t.length),i=null===n||void 0===n?void 0:n.map((function(e,t){return et(null===e||void 0===e?void 0:e.name,"create"===D?K.videoId:B.id)}));te(Object(I.c)()),Promise.all(i).then((function(i){for(var a,r,l=[],s=0;s<i.length;s++){var c;200===(null===(c=i[s])||void 0===c?void 0:c.code)?l.push(i[s].data.file_path):te(Object(I.d)())}(null===i||void 0===i?void 0:i.length)&&function(){for(var s=0,c=0;c<n.length;c++){var d,u;(new FileReader).readAsDataURL(e[c]),(a=new Headers).append("x-amz-acl","public-read"),r={method:"PUT",headers:a,body:e[c],redirect:"follow"},fetch(null===(d=i[c])||void 0===d||null===(u=d.data)||void 0===u?void 0:u.link,r).then((function(e){return e.text()})).then((function(e){var n;(s+=1)===i.length&&(null===qe||void 0===qe||null===(n=qe.current)||void 0===n||n.setFieldValue("documents",[].concat(Object(o.a)(t),l)),te(Object(I.d)()))})).catch((function(e){te(Object(I.d)())}))}}()}))}(e,null===l||void 0===l?void 0:l.documents)},children:function(e){var t,n=e.getRootProps,i=e.getInputProps;return Object(a.jsxs)("div",Object(r.a)(Object(r.a)({},n()),{},{style:{borderWidth:1,borderRadius:5,borderColor:"#cccccc",borderStyle:"solid",justifyContent:"center",alignItems:"center",padding:10},children:[Object(a.jsx)("input",Object(r.a)({},i())),Object(a.jsx)("p",{style:{fontWeight:"bold",marginBottom:0,color:(null===l||void 0===l||null===(t=l.documents)||void 0===t?void 0:t.length)>9?"gray":void 0},children:"Add document"}),ve&&Object(a.jsxs)(Q,{children:[Object(a.jsx)("i",{style:{color:T.a.error},className:"fas fa-exclamation-triangle"}),Object(a.jsx)(Z,{children:ve})]})]}))}})}),"update"===D&&("Disable"===(null===B||void 0===B?void 0:B.status)||"Posted"===(null===B||void 0===B?void 0:B.status))&&Object(a.jsxs)(s.B,{style:{display:"flex",marginTop:T.c[4]},children:[Object(a.jsx)(C.a,{onChange:function(){"Posted"===(null===l||void 0===l?void 0:l.status)&&g("status","Disable"),"Disable"===(null===l||void 0===l?void 0:l.status)&&g("status","Posted")},checked:"Posted"===(null===l||void 0===l?void 0:l.status),disabled:"Uploading"===(null===l||void 0===l?void 0:l.status)||"Draft"===(null===l||void 0===l?void 0:l.status)}),Object(a.jsx)("p",{style:{marginTop:T.c[1],marginLeft:T.c[2]},children:"Posted"})]})]})]}),Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end"},children:[(!!dt||"update"===D)&&Object(a.jsx)(s.d,{color:"danger",style:{width:100,marginRight:T.c[3]},className:"px-4",onClick:function(){return dt?rt({show:!0,title:"Are you sure you want to cancel? If yes, the video will be deleted.",left:"Yes",right:"No",callback:st}):ct("Are you sure you want to discard your changes?","Discard","Keep Editing",(function(){rt(Object(r.a)(Object(r.a)({},ot),{},{show:!1})),lt()}))},children:"Cancel"}),Object(a.jsx)(s.d,{color:"primary",className:"px-4",style:{width:100},type:"submit",disabled:"create"===D?!b:!b||!u&&(null===we||void 0===we?void 0:we.id)===B.category_id&&(null===Ue||void 0===Ue?void 0:Ue.id)===B.trainer_id,children:"Save"})]})]}),"create"===D&&!me&&Object(a.jsx)(X,{children:Object(a.jsx)(P.a,{accept:".mp4,.wmv,.flv,.mov,.avi",maxFiles:1,maxSize:5e9,onDropRejected:function(e){de(e[0].errors[0].message||"")},onDropAccepted:function(e){var t,n;pe(!0);var i=e[0];Qe(e),re(i),g("title",(null===i||void 0===i||null===(t=i.name)||void 0===t?void 0:t.substr(0,null===i||void 0===i||null===(n=i.name)||void 0===n?void 0:n.lastIndexOf(".")))||""),setTimeout((function(){j("title")})),g("video",URL.createObjectURL(i)),de("")},children:function(e){var t=e.getRootProps,n=e.getInputProps;return Object(a.jsxs)($,Object(r.a)(Object(r.a)({},t()),{},{children:[Object(a.jsx)("input",Object(r.a)({},n())),Object(a.jsx)("p",{style:{fontWeight:"bold"},children:"Drop and Drag file here, or click to select file"}),ce&&Object(a.jsxs)(Q,{children:[Object(a.jsx)("i",{style:{color:T.a.error},className:"fas fa-exclamation-triangle"}),Object(a.jsx)(Z,{children:ce})]})]}))}})})]})}})})})})})})]})]})})},J=_.a.div(K()),X=_.a.div(H()),$=_.a.div(Y()),Q=_.a.div(W()),Z=_.a.p(z(),T.c[2],T.a.error),ee=n(166),te=n.n(ee),ne=n(68),ie=n(611),ae=[{key:"no",_style:{width:"4%"}},{key:"name",label:"Title",_style:{width:160}},{key:"description",_style:{width:"20%"}},{key:"category_name",label:"Category",_style:{width:"8%"}},{key:"trainer_name",label:"Trainer",_style:{width:"8%"}},{key:"created_date",_style:{width:"8%"}},{key:"modified_date",label:"Last modified",_style:{width:"8%"}},{key:"uploader",_style:{width:"10%"}},{key:"tag",_style:{width:"4%"}},{key:"posture_type",label:"Type",_style:{width:"5%"}},{key:"views",_style:{width:"5%"}},{key:"comment",_style:{width:"5%"}},{key:"status",_style:{width:"8%"}},{key:"action",_style:{width:"10%"}}],oe={title:"",posture_type:"standing",description:"",category_id:"",trainer_id:"",tags:"",timeSchedule:null,video:null},re=10,le={show:!1,type:"create",videoId:""};t.a=function(e){var t=e.trainerId,n=Object(h.b)(),i=function(e,t){return n(Object(g.d)(e,t))},c=Object(h.c)((function(e){return e.auth})),j=(Object(m.h)(),Object(u.useState)({data:[],loading:!1,page:1,total:0,totalPage:0,trainerName:""})),y=Object(l.a)(j,2),O=y[0],F=y[1],x=Object(u.useState)(""),D=Object(l.a)(x,2),C=D[0],k=D[1],B=Object(u.useState)(null),A=Object(l.a)(B,2),w=A[0],E=A[1],_=Object(u.useState)(null),S=Object(l.a)(_,2),P=S[0],N=S[1],L=Object(u.useState)(le),I=Object(l.a)(L,2),R=I[0],U=I[1],z=Object(u.useState)(null),W=Object(l.a)(z,2),Y=W[0],H=W[1],K=Object(u.useState)(!1),J=Object(l.a)(K,2),X=J[0],$=J[1],Q=Object(u.useState)(""),Z=Object(l.a)(Q,2),ee=Z[0],se=Z[1],ce=Object(u.useState)({data:[],loading:!0,full:!1,page:1}),de=Object(l.a)(ce,2),ue=de[0],he=de[1],me=Object(u.useState)(null),pe=Object(l.a)(me,2),fe=pe[0],be=pe[1],ve=Object(u.useState)(""),ge=Object(l.a)(ve,2),je=ge[0],ye=ge[1],Oe=Object(u.useState)({data:[],loading:!0,full:!1,page:1}),Fe=Object(l.a)(Oe,2),xe=Fe[0],De=Fe[1],Ce=Object(u.useState)(null),ke=Object(l.a)(Ce,2),Be=ke[0],Ae=ke[1],we=Object(u.useState)([]),Ee=Object(l.a)(we,2),_e=Ee[0],Se=Ee[1],Pe=JSON.parse(G.g.get("videosUploading"))||[],Te=Object(a.jsx)("div",{children:"No videos were found matching your search"});O.loading&&(Te=Object(a.jsx)("div",{}));var Ne=function(e,t,n){return isNaN(n)&&(n=O.page),Object(r.a)(Object(r.a)({},e),{},{no:t+1+re*(n-1)})};Object(u.useEffect)((function(){Le(C)}),[w,fe,Be,P]),Object(u.useEffect)((function(){return(R.show||0!==_e.length)&&(window.onbeforeunload=function(){return!0}),function(){window.onbeforeunload=null}}),[_e,R.show]),Object(u.useEffect)((function(){Ie("",1),Re("",1),Pe.length>0&&i({method:"put",api:"/api/v1/mobility/videos",body:{videos:Pe.map((function(e){return{id:e,status:"Upload Failed"}}))}});var e=te.a.on(b.c.socketEvent.processedVideo,(function(e){var t=e.data,i=null===t||void 0===t?void 0:t.video_id,a=null===t||void 0===t?void 0:t.status;i&&(n(Object(ne.c)("Video ".concat(null===t||void 0===t?void 0:t.title," has been Successfully processed"),"success",5e3)),F((function(e){var t=Object(r.a)({},e),n=t.data.findIndex((function(e){return e.id===i}));return n>-1&&(t.data[n].status=a),t})))}));return function(){te.a.rm(e)}}),[]);var Le=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;F((function(e){return Object(r.a)(Object(r.a)({},e),{},{loading:!0})})),i({method:"get",api:t?b.c.rest.getVideosOfTrainer(t,fe?fe.id:"",w?w.id:"",re,n,e,P?P.id:""):b.c.rest.getVideos(fe?fe.id:"",Be?Be.id:"",w?w.id:"",re,n,e,P?P.id:"")},(function(e){var t=e.status,i=e.data;if(t===g.c){F({data:i.video.map((function(e,t){return Ne(e,t,n)})),loading:!1,total:i.total,totalPage:Math.ceil(i.total/re),trainerName:i.trainer_name,page:n});var a=i.video.map((function(e){return e.status})).filter((function(e){return"Upload Failed"===e}));if(Pe.length>0){var o=Pe.filter((function(e){return!a.includes(e)}));G.g.set("videosUploading",JSON.stringify(o))}}else F((function(e){return Object(r.a)(Object(r.a)({},e),{},{loading:!1})}))}))},Ie=function(e,t){i({method:"get",api:"/api/v1/admin/categories?page_size=10&search_name=".concat(e,"&page_number=").concat(t)},(function(n){var i=n.status,a=n.data;i===g.c&&he((function(n){var i=a.data.map((function(e){return{id:e.id,name:e.title}}));return{data:1===t?""===e?[null,{id:"1",name:"Non-category"}].concat(Object(o.a)(i)):i:[].concat(Object(o.a)(n.data),Object(o.a)(i)),loading:!1,full:a.data.length<10,page:t}}))}))},Re=function(e,t){i({method:"get",api:b.c.rest.adminGetMobilityTrainers(t,e,!0)},(function(n){var i=n.status,a=n.data;i===g.c&&De((function(n){var i=a.trainers.map((function(e){return{id:e.id,name:e.first_name+" "+e.last_name}}));return{data:1===t?""===e?[null,{id:"%23",name:"Non-trainer"}].concat(Object(o.a)(i)):i:[].concat(Object(o.a)(n.data),Object(o.a)(i)),loading:!1,full:a.trainers.length<10,page:t}}))}))};return Object(a.jsxs)(v.a,{children:[Object(a.jsx)(q,Object(r.a)(Object(r.a)({},R),{},{formValue:Y,handleClose:function(){U(le),H(Object(r.a)({},oe))},addNo:Ne,satisfyFilter:function(e,t){return e.includes(w)&&t.includes(fe.name)&&c.user_id.includes(Be.id)},auth:c,uploadingVideos:_e,setUploadingVideos:Se,videos:O,setVideos:F,onSuccess:function(e,t){F((function(n){var i=Object(r.a)({},n),a=i.data.findIndex((function(t){return t.id===e}));if(a>-1){var o=i.data[a].status;t?i.data[a]=Object(r.a)(Object(r.a)(Object(r.a)({},i.data[a]),t),{},{status:"Uploading"===o||"Processing"===o?o:1===t.status?"Posted":"Disable"}):"create"===R.type&&"Uploading"===o&&(i.data[a].status="Processing"),"Posted"!==o&&"Disable"!==o||(i.data[a].modified_date=(new Date).getTime()/1e3)}return i}))}})),_e.length>0&&Object(a.jsx)(m.a,{when:!0,message:"Changes you made may not be saved."}),Object(a.jsx)(f.b,{isVisible:X,title:"Delete Video?",content:"Are you want to delete video ".concat(null===Y||void 0===Y?void 0:Y.name),leftButtonText:"No",rightButtonText:"Yes",leftButtonOnPress:function(){$(!1)},rightButtonOnPress:function(){$(!1),i({method:"delete",api:b.c.rest.editVideo(null===Y||void 0===Y?void 0:Y.id),loading:!0},(function(e){e.status===g.c&&Le(C)}))},centered:!0}),Object(a.jsx)("div",{children:Object(a.jsx)("h2",{children:t?Object(a.jsxs)("div",{className:"d-flex",children:[Object(a.jsx)(p.a,{className:"d-flex align-items-center mr-3",to:"/admin/mobility/trainers",children:Object(a.jsx)("i",{className:"fas fa-angle-left"})}),"Videos Of ",O.trainerName]}):"Video Management"})}),Object(a.jsxs)("div",{className:"d-flex justify-content-between my-4",children:[Object(a.jsxs)("div",{className:"d-flex",children:[Object(a.jsx)("div",{style:{width:250},children:Object(a.jsx)(ie.a,{searchName:C,setSearchName:k,className:"mr-3",searchEmpty:!0,callbackSearch:Le})}),Object(a.jsx)("div",{style:{width:250},children:Object(a.jsx)(f.k,{className:"mr-3",selected:w,setSelected:E,defaultValue:"Select status",data:b.f,loading:!1,full:!0,value:w?w.name:""})}),Object(a.jsx)("div",{style:{width:250},children:Object(a.jsx)(f.k,Object(r.a)(Object(r.a)({className:"mr-3",selected:fe,setSelected:be,defaultValue:"Select category",value:ee,setValue:se,callbackSearch:Ie},ue),{},{maxLength:100}))}),!t&&Object(a.jsx)("div",{style:{width:250},children:Object(a.jsx)(f.k,Object(r.a)(Object(r.a)({className:"mr-3",selected:Be,setSelected:Ae,defaultValue:"Select trainer",value:je,setValue:ye,callbackSearch:Re},xe),{},{validation:b.c.validate.valueTypingExpressionsName,maxLength:50}))}),Object(a.jsx)("div",{style:{width:250},children:Object(a.jsx)(f.k,{className:"mr-3",selected:P,setSelected:N,defaultValue:"Select type",data:b.e,loading:!1,full:!0,value:P?P.name:""})})]}),!t&&Object(a.jsx)(s.d,{onClick:function(){H(oe),U({show:!0,type:"create",videoId:""})},color:"primary",children:"Upload new video"})]}),Object(a.jsx)("div",{children:Object(a.jsx)(s.l,{loading:O.loading,items:O.data,fields:t?ae.filter((function(e){return"trainer_name"!==e.key})):ae,noItemsViewSlot:Te,hover:!0,striped:!0,scopedSlots:{no:function(e){return Object(a.jsx)("td",{className:"align-middle",children:e.no})},name:function(e){var t,n,i;return Object(a.jsx)("td",{className:"align-middle",title:(null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.length)>35?null===e||void 0===e?void 0:e.name:"",children:Object(a.jsx)("span",{style:{overflowWrap:"break-word",display:"inline-block",width:150},children:(null===e||void 0===e||null===(n=e.name)||void 0===n?void 0:n.length)>35?(null===e||void 0===e||null===(i=e.name)||void 0===i?void 0:i.substring(0,32))+"...":null===e||void 0===e?void 0:e.name})})},description:function(e){var t,n,i;return Object(a.jsx)("td",{style:{height:80},className:"align-middle",title:(null===e||void 0===e||null===(t=e.description)||void 0===t?void 0:t.length)>70?null===e||void 0===e?void 0:e.description:"",children:(null===e||void 0===e||null===(n=e.description)||void 0===n?void 0:n.length)>70?(null===e||void 0===e||null===(i=e.description)||void 0===i?void 0:i.substring(0,67))+"...":null===e||void 0===e?void 0:e.description})},category_name:function(e){return Object(a.jsx)("td",{className:"align-middle",children:e.category_name})},trainer_name:function(e){return Object(a.jsx)("td",{className:"align-middle",children:e.trainer_name||"Non trainer"})},created_date:function(e){return Object(a.jsx)("td",{className:"align-middle",children:(null===e||void 0===e?void 0:e.created_date)?d()(1e3*parseInt(null===e||void 0===e?void 0:e.created_date)).format("DD/MM/YYYY"):"-"})},uploader:function(e){return Object(a.jsx)("td",{className:"align-middle",children:e.uploader})},views:function(e){return Object(a.jsx)("td",{className:"align-middle",children:e.views})},comment:function(e){return Object(a.jsx)("td",{className:"align-middle",children:e.comment})},like:function(e){return Object(a.jsx)("td",{className:"align-middle",children:e.like})},modified_date:function(e){return Object(a.jsx)("td",{className:"align-middle",children:(null===e||void 0===e?void 0:e.modified_date)?d()(1e3*parseInt(null===e||void 0===e?void 0:e.modified_date)).format("DD/MM/YYYY"):"-"})},status:function(e){var t=Pe.findIndex((function(t){return t===e.id}))>-1&&-1===_e.findIndex((function(t){return t.id===e.id}))?"Upload Failed":e.status,n=_e.findIndex((function(t){return t.id===e.id})),i=null;return n>-1?i=Object(a.jsx)("div",{style:{borderRadius:100,overflow:"hidden"},children:Object(a.jsx)(V.a,{labelColor:"var(--primary)",isLabelVisible:!1,completed:_e[n].progress,height:"10px",baseBgColor:T.a.palette.lightBlue,bgColor:T.a.blue,transitionDuration:"0.5s",transitionTimingFunction:"linear"})}):"Processing"===e.status&&(i=Object(a.jsx)("div",{className:"d-flex",style:{height:20,marginLeft:10},children:Object(a.jsx)(M.a,{type:"bubbles",color:"var(--primary)",width:40})})),Object(a.jsxs)("td",{className:"align-middle",children:[t,i]})},tag:function(e){if(!e.tag)return Object(a.jsx)("td",{className:"align-middle",children:"-"});var t=e.tag.split(","),n=t.length>2;return n&&(t[1]+=" ..."),Object(a.jsx)("td",{title:n?e.tag:"",className:"align-middle",children:t.slice(0,2).map((function(e){return Object(a.jsx)("div",{children:e},e)}))})},posture_type:function(e){return Object(a.jsx)("td",{className:"align-middle",children:b.i[e.posture_type]})},action:function(e){var t=Pe.findIndex((function(t){return t===e.id}))>-1&&-1===_e.findIndex((function(t){return t.id===e.id}))?"Upload Failed":e.status;return Object(a.jsxs)("td",{className:"align-middle",children:[Object(a.jsx)(s.d,{onClick:function(t){var n;t.stopPropagation(),H(Object(r.a)(Object(r.a)({},e),{},{title:null===e||void 0===e?void 0:e.name,tags:(null===e||void 0===e?void 0:e.tag)?null===e||void 0===e||null===(n=e.tag)||void 0===n?void 0:n.split(","):[]})),U({show:!0,type:"update",videoId:e.id})},style:{visibility:"Upload Failed"===t?"hidden":"visible"},color:"primary",variant:"outline",shape:"square",size:"sm",children:Object(a.jsx)("i",{className:"fas fa-pencil-alt",children:" "})}),Object(a.jsx)(s.d,{onClick:function(t){t.stopPropagation(),H(Object(r.a)({},e)),$(!0)},color:"primary",variant:"outline",shape:"square",size:"sm",children:Object(a.jsx)("i",{className:"fas fa-trash-alt",children:" "})})]})}}})}),Object(G.h)(O.totalPage,O.page,(function(e){O.page!==e&&Le(C,e)}),O.total)]})}}}]);
//# sourceMappingURL=23.35c093ee.chunk.js.map