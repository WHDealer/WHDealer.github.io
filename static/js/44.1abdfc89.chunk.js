(this["webpackJsonphb-frontend"]=this["webpackJsonphb-frontend"]||[]).push([[44],{1180:function(e,t,n){"use strict";n.r(t),n.d(t,"ScheduleWebinar",(function(){return y}));var r=n(58),o=n(4),i=n(8),c=n(27),s=n(1),a=n(102),l=n.n(a),u=n(605),d=n(59),f=n(31),h=n(28),p=n(45),b=n(34),m=n(57),j=function(e){var t=e.show,n=e.treatments,i=e.selectedTreatments,c=e.setSelectedTreatments,s=e.handleClose;return Object(o.jsxs)(m.D,{size:"lg",style:{height:"90vh"},centered:!0,show:t,onClose:s,closeOnBackdrop:!1,children:[Object(o.jsx)(m.G,{closeButton:!0,children:"Treatments"}),Object(o.jsx)(m.E,{className:"px-0 py-3",style:{overflowY:"auto",overflowX:"hidden"},children:Object(o.jsxs)("div",{className:"py-2 px-5",children:[Object(o.jsx)("h3",{className:"mb-3",children:"Treatments"}),n.data.map((function(e,t){return Object(o.jsxs)("div",{className:"d-flex justify-content-between p-2",children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("img",{className:"mr-3",alt:"treatment-thumbnail",style:{width:60,height:40,borderRadius:10},src:e.thumbnail}),e.tile]}),Object(o.jsx)("div",{children:Object(o.jsx)("input",{style:{width:20,height:20},type:"checkbox",className:"form-control",checked:i.includes(t),onChange:function(){return function(e){c((function(t){return t.includes(e)?t.filter((function(t){return t!==e})):[].concat(Object(r.a)(t),[e])}))}(t)}})})]},e.id)}))]})})]})},v=Array.from({length:24},(function(e,t){return("0"+t).substr(-2)})),O=Array.from({length:60},(function(e,t){return("0"+t).substr(-2)})),w=Array.from({length:48},(function(e,t){return("0"+Math.floor(t/2)).substr(-2)+":"+("0"+30*Math.floor(t%2)).substr(-2)})),y=function(e){var t=e.callApi,n=e.treatments,r=Object(f.h)(),a=Object(s.useState)(!1),h=Object(c.a)(a,2),y=h[0],x=h[1],g=1800*Math.ceil((new Date).getTime()/18e5),N=Object(s.useState)(new Date(1e3*g)),T=Object(c.a)(N,2),S=T[0],E=T[1],_=Object(s.useState)(Object(d.p)(g)),k=Object(c.a)(_,2),B=k[0],C=k[1],D=new Date(1e3*g),P=w.findIndex((function(e){return D<=new Date("".concat(l()(S).format("MM/DD/YYYY")," ").concat(e))})),A=new Date,L=Object(s.useState)([]),R=Object(c.a)(L,2),Y=R[0],H=R[1],M=Object(s.useState)(""),W=Object(c.a)(M,2),z=W[0],U=W[1],F=Object(s.useState)("01"),J=Object(c.a)(F,2),V=J[0],I=J[1],G=Object(s.useState)("00"),K=Object(c.a)(G,2),X=K[0],q=K[1],Q=Object(s.useState)(""),Z=Object(c.a)(Q,2),$=Z[0],ee=Z[1],te=Object(s.useState)(!1),ne=Object(c.a)(te,2),re=ne[0],oe=ne[1],ie=Object(s.useState)(!1),ce=Object(c.a)(ie,2),se=ce[0],ae=ce[1],le=Object(s.useState)(0),ue=Object(c.a)(le,2),de=ue[0],fe=ue[1];Object(s.useEffect)((function(){D>new Date("".concat(l()(S).format("MM/DD/YYYY")," ").concat(B))&&C(Object(d.p)(g)),A.toDateString()!==S.toDateString()&&C("00:00")}),[S]);var he=Object(s.useState)({show:!1}),pe=Object(c.a)(he,2),be=pe[0],me=pe[1],je=""===z&&"01"===V&&"00"===X&&S.toDateString()===D.toDateString()&&B===Object(d.p)(g)&&""===$&&0===Y.length&&!1===re&&!1===se&&0===de;return Object(o.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(o.jsxs)(m.D,{size:"sm",show:be.show,centered:!0,closeOnBackdrop:!1,children:[Object(o.jsx)(m.E,{style:{textAlign:"center"},children:"Are you sure you want to discard this new webinar?"}),Object(o.jsxs)(m.F,{style:{display:"flex",justifyContent:"space-around"},children:[Object(o.jsx)("button",{className:"btn btn-danger",style:{width:160},color:"danger",onClick:function(){return r.push("/consulting")},children:"Discard Changes"}),Object(o.jsx)("button",{style:{width:160},className:"btn btn-primary",onClick:function(){return me(Object(i.a)(Object(i.a)({},be),{},{show:!1}))},children:"Keep Editing"})]})]}),Object(o.jsxs)("div",{style:{width:"50%"},children:[Object(o.jsx)(j,{show:y,handleClose:function(){return x(!1)},treatments:n,selectedTreatments:Y,setSelectedTreatments:H}),Object(o.jsxs)("h3",{className:"mt-4",style:{position:"relative",display:"flex",alignItems:"center"},children:["Schedule a Webinar",Object(o.jsx)("i",{className:"fa fa-angle-left mr-2 cursor-pointer size-2",style:{position:"absolute",left:-24},onClick:function(){je?r.push("/consulting"):me(Object(i.a)(Object(i.a)({},be),{},{show:!0}))}})]}),Object(o.jsx)("input",{maxLength:100,value:z,onChange:function(e){return U(e.target.value)},className:"form-control my-3",placeholder:"Title"}),Object(o.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[Object(o.jsx)("div",{className:"font-weight-bold",style:{width:100},children:"When"}),Object(o.jsx)("div",{children:Object(o.jsx)(u.e,{format:"DD.MM.YYYY",date:S,setDate:E,minDate:A,fullWidth:!0})})]}),Object(o.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[Object(o.jsx)("div",{className:"font-weight-bold",style:{width:100},children:"Start"}),Object(o.jsx)("div",{children:Object(o.jsx)("select",{className:"form-control",value:B,onChange:function(e){return C(e.target.value)},children:w.slice(P).map((function(e,t){return Object(o.jsx)("option",{children:e},e)}))})})]}),Object(o.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[Object(o.jsx)("div",{className:"font-weight-bold",style:{width:100},children:"Duration"}),Object(o.jsx)("div",{className:"mr-3",children:Object(o.jsx)("select",{className:"form-control",value:V,onChange:function(e){return I(e.target.value)},children:v.map((function(e){return Object(o.jsx)("option",{children:e},e)}))})}),"hr",Object(o.jsx)("div",{className:"ml-4 mr-3",children:Object(o.jsx)("select",{className:"form-control",value:X,onChange:function(e){return q(e.target.value)},children:O.map((function(e){return Object(o.jsx)("option",{children:e},e)}))})}),"min"]}),Object(o.jsxs)("div",{className:"my-4 py-3",style:{borderTop:"2px solid #ccc",borderBottom:"2px solid #ccc"},children:[Object(o.jsx)("div",{className:"d-flex align-items-center my-2",children:Object(o.jsxs)("div",{className:"d-flex align-items-center cursor-pointer",onClick:function(){return x(!0)},children:[Object(o.jsx)("div",{className:"size-0 mr-3",children:"Treatments"}),Object(o.jsx)("i",{className:"fa fa-angle-right size-0"})]})}),Object(o.jsx)("div",{className:"px-4",children:Y.map((function(e){var t=n.data[e];return Object(o.jsxs)("div",{className:"d-flex justify-content-between pt-2 px-4 pb-1",children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("img",{className:"mr-3",alt:"treatment-thumbnail",style:{width:60,height:40,borderRadius:5},src:t.thumbnail}),t.tile]}),Object(o.jsx)("i",{className:"fa fa-times cursor-pointer",style:{color:"gray"},onClick:function(){return H(Y.filter((function(t){return t!==e})))}})]})}))})]}),Object(o.jsx)("div",{className:"my-4",children:Object(o.jsx)("textarea",{maxLength:500,className:"form-control",rows:5,placeholder:"Description",value:$,onChange:function(e){return ee(e.target.value)}})}),Object(o.jsxs)("div",{className:"pt-4 pb-3",style:{borderTop:"2px solid #ccc"},children:[Object(o.jsx)("div",{className:"font-weight-bold mb-3",children:"Paticipant Settings"}),Object(o.jsxs)("div",{className:"ml-4",children:[Object(o.jsxs)("div",{className:"d-flex mb-3",children:[Object(o.jsx)("div",{style:{width:120},children:"Raised hands"}),"On"," ",Object(o.jsx)("input",{name:"raisedHands",type:"radio",className:"form-control",onChange:function(){return oe(!0)},checked:!0===re}),"Off"," ",Object(o.jsx)("input",{name:"raisedHands",type:"radio",className:"form-control",onChange:function(){return oe(!1)},checked:!1===re})]}),Object(o.jsxs)("div",{className:"d-flex mb-3",children:[Object(o.jsx)("div",{style:{width:120},children:"Video"}),"On"," ",Object(o.jsx)("input",{name:"video",type:"radio",className:"form-control",onChange:function(){return ae(!0)},checked:!0===se}),"Off"," ",Object(o.jsx)("input",{name:"video",type:"radio",className:"form-control",onChange:function(){return ae(!1)},checked:!1===se})]})]})]}),Object(o.jsxs)("div",{className:"mb-2",children:[Object(o.jsx)("div",{className:"font-weight-bold mb-3",children:"Who can join the webinar?"}),Object(o.jsxs)("div",{className:"d-flex ml-4",children:["All"," ",Object(o.jsx)("input",{name:"whoJoin",type:"radio",className:"form-control",onChange:function(){return fe(0)},checked:0===de}),"Nurses"," ",Object(o.jsx)("input",{name:"whoJoin",type:"radio",className:"form-control",onChange:function(){return fe(1)},checked:1===de}),"Basic members"," ",Object(o.jsx)("input",{name:"whoJoin",type:"radio",className:"form-control",onChange:function(){return fe(2)},checked:2===de})]})]}),Object(o.jsx)("div",{className:"d-flex justify-content-evenly my-5",children:Object(o.jsx)("button",{className:"btn btn-primary",style:{width:150},disabled:!(""!==z.trim()),onClick:function(){t({method:"post",api:b.c.rest.nurseCreateMeeting(),body:{title:z,start_date:new Date("".concat(l()(S).format("MM/DD/YYYY")," ").concat(B)).getTime()/1e3,duration:3600*Number(V)+60*Number(X),diseases:Y.map((function(e){return{id:n.data[e].id}})),description:$,raised_hand:re,video_enable:se,permission_view:de},loading:!0},(function(e){e.status===p.c&&r.push("/consulting")}))},children:"Schedule"})})]})]})};t.default=function(e){var t=Object(h.b)(),n=function(e,n){return t(Object(p.d)(e,n))},i=Object(s.useState)({data:[],loading:!0}),a=Object(c.a)(i,2),l=a[0],u=a[1];return Object(s.useEffect)((function(){n({method:"get",api:b.c.rest.getAllTreatments(),loading:!0},(function(e){var t=e.data;e.status===p.c&&u({data:t.group_treatments.reduce((function(e,t){return[].concat(Object(r.a)(e),Object(r.a)(t.list_diseases))}),[]),loading:!1})}))}),[]),l.loading?Object(o.jsx)("div",{}):Object(o.jsx)(y,{callApi:n,treatments:l})}},606:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=!("undefined"===typeof window||!window.document||!window.document.createElement);var o=void 0;function i(){return void 0===o&&(o=function(){if(!r)return!1;if(!window.addEventListener||!window.removeEventListener||!Object.defineProperty)return!1;var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t)}catch(o){}return e}()),o}function c(e){e.handlers===e.nextHandlers&&(e.nextHandlers=e.handlers.slice())}function s(e){this.target=e,this.events={}}s.prototype.getEventHandlers=function(e,t){var n,r=String(e)+" "+String((n=t)?!0===n?100:(n.capture<<0)+(n.passive<<1)+(n.once<<2):0);return this.events[r]||(this.events[r]={handlers:[],handleEvent:void 0},this.events[r].nextHandlers=this.events[r].handlers),this.events[r]},s.prototype.handleEvent=function(e,t,n){var r=this.getEventHandlers(e,t);r.handlers=r.nextHandlers,r.handlers.forEach((function(e){e&&e(n)}))},s.prototype.add=function(e,t,n){var r=this,o=this.getEventHandlers(e,n);c(o),0===o.nextHandlers.length&&(o.handleEvent=this.handleEvent.bind(this,e,n),this.target.addEventListener(e,o.handleEvent,n)),o.nextHandlers.push(t);var i=!0;return function(){if(i){i=!1,c(o);var s=o.nextHandlers.indexOf(t);o.nextHandlers.splice(s,1),0===o.nextHandlers.length&&(r.target&&r.target.removeEventListener(e,o.handleEvent,n),o.handleEvent=void 0)}}};var a="__consolidated_events_handlers__";function l(e,t,n,r){e[a]||(e[a]=new s(e));var o=function(e){if(e)return i()?e:!!e.capture}(r);return e[a].add(t,n,o)}},607:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return x}));var r=n(606),o=(n(0),n(1)),i=n.n(o),c=n(103);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function f(e,t){var n,r=(n=e,!isNaN(parseFloat(n))&&isFinite(n)?parseFloat(n):"px"===n.slice(-2)?parseFloat(n.slice(0,-2)):void 0);if("number"===typeof r)return r;var o=function(e){if("%"===e.slice(-1))return parseFloat(e.slice(0,-1))/100}(e);return"number"===typeof o?o*t:void 0}var h="above",p="inside",b="below",m="invisible";function j(e){return"string"===typeof e.type}var v;var O=[];function w(e){O.push(e),v||(v=setTimeout((function(){var e;for(v=null;e=O.shift();)e()}),0));var t=!0;return function(){if(t){t=!1;var n=O.indexOf(e);-1!==n&&(O.splice(n,1),!O.length&&v&&(clearTimeout(v),v=null))}}}var y={debug:!1,scrollableAncestor:void 0,children:void 0,topOffset:"0px",bottomOffset:"0px",horizontal:!1,onEnter:function(){},onLeave:function(){},onPositionChange:function(){},fireOnRapidScroll:!0},x=function(t){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(v,t);var n,o,a,u=d(v);function v(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),(t=u.call(this,e)).refElement=function(e){t._ref=e},t}return n=v,(o=[{key:"componentDidMount",value:function(){var e=this;v.getWindow()&&(this.cancelOnNextTick=w((function(){e.cancelOnNextTick=null;var t=e.props,n=t.children;t.debug,function(e,t){if(e&&!j(e)&&!t)throw new Error("<Waypoint> needs a DOM element to compute boundaries. The child you passed is neither a DOM element (e.g. <div>) nor does it use the innerRef prop.\n\nSee https://goo.gl/LrBNgw for more info.")}(n,e._ref),e._handleScroll=e._handleScroll.bind(e),e.scrollableAncestor=e._findScrollableAncestor(),e.scrollEventListenerUnsubscribe=Object(r.a)(e.scrollableAncestor,"scroll",e._handleScroll,{passive:!0}),e.resizeEventListenerUnsubscribe=Object(r.a)(window,"resize",e._handleScroll,{passive:!0}),e._handleScroll(null)})))}},{key:"componentDidUpdate",value:function(){var e=this;v.getWindow()&&this.scrollableAncestor&&(this.cancelOnNextTick||(this.cancelOnNextTick=w((function(){e.cancelOnNextTick=null,e._handleScroll(null)}))))}},{key:"componentWillUnmount",value:function(){v.getWindow()&&(this.scrollEventListenerUnsubscribe&&this.scrollEventListenerUnsubscribe(),this.resizeEventListenerUnsubscribe&&this.resizeEventListenerUnsubscribe(),this.cancelOnNextTick&&this.cancelOnNextTick())}},{key:"_findScrollableAncestor",value:function(){var t=this.props,n=t.horizontal,r=t.scrollableAncestor;if(r)return function(t){return"window"===t?e.window:t}(r);for(var o=this._ref;o.parentNode;){if((o=o.parentNode)===document.body)return window;var i=window.getComputedStyle(o),c=(n?i.getPropertyValue("overflow-x"):i.getPropertyValue("overflow-y"))||i.getPropertyValue("overflow");if("auto"===c||"scroll"===c||"overlay"===c)return o}return window}},{key:"_handleScroll",value:function(e){if(this._ref){var t=this._getBounds(),n=function(e){return e.viewportBottom-e.viewportTop===0?m:e.viewportTop<=e.waypointTop&&e.waypointTop<=e.viewportBottom||e.viewportTop<=e.waypointBottom&&e.waypointBottom<=e.viewportBottom||e.waypointTop<=e.viewportTop&&e.viewportBottom<=e.waypointBottom?p:e.viewportBottom<e.waypointTop?b:e.waypointTop<e.viewportTop?h:m}(t),r=this._previousPosition,o=this.props,i=(o.debug,o.onPositionChange),c=o.onEnter,s=o.onLeave,a=o.fireOnRapidScroll;if(this._previousPosition=n,r!==n){var l={currentPosition:n,previousPosition:r,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom};i.call(this,l),n===p?c.call(this,l):r===p&&s.call(this,l),a&&(r===b&&n===h||r===h&&n===b)&&(c.call(this,{currentPosition:p,previousPosition:r,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom}),s.call(this,{currentPosition:n,previousPosition:p,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom}))}}}},{key:"_getBounds",value:function(){var e,t,n=this.props,r=n.horizontal,o=(n.debug,this._ref.getBoundingClientRect()),i=o.left,c=o.top,s=o.right,a=o.bottom,l=r?i:c,u=r?s:a;this.scrollableAncestor===window?(e=r?window.innerWidth:window.innerHeight,t=0):(e=r?this.scrollableAncestor.offsetWidth:this.scrollableAncestor.offsetHeight,t=r?this.scrollableAncestor.getBoundingClientRect().left:this.scrollableAncestor.getBoundingClientRect().top);var d=this.props,h=d.bottomOffset;return{waypointTop:l,waypointBottom:u,viewportTop:t+f(d.topOffset,e),viewportBottom:t+e-f(h,e)}}},{key:"render",value:function(){var e=this,t=this.props.children;return t?j(t)||Object(c.isForwardRef)(t)?i.a.cloneElement(t,{ref:function(n){e.refElement(n),t.ref&&("function"===typeof t.ref?t.ref(n):t.ref.current=n)}}):i.a.cloneElement(t,{innerRef:this.refElement}):i.a.createElement("span",{ref:this.refElement,style:{fontSize:0}})}}])&&s(n.prototype,o),a&&s(n,a),v}(i.a.PureComponent);x.above=h,x.below=b,x.inside=p,x.invisible=m,x.getWindow=function(){if("undefined"!==typeof window)return window},x.defaultProps=y,x.displayName="Waypoint"}).call(this,n(29))},624:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n.d(t,"a",(function(){return r}))}}]);
//# sourceMappingURL=44.1abdfc89.chunk.js.map