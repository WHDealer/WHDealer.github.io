{"version":3,"sources":["views/user/personalInformation/DocumentItemWrapper.tsx","views/user/personalInformation/Documents.tsx"],"names":["DocumentItemWrapper","props","title","children","className","Documents","dispatch","useDispatch","useState","data","loading","information","setInformation","show","name","url","modalViewDocument","setModalViewDocument","getInformationNurse","payload","callback","method","api","config","rest","response","status","SUCCESS","callApiAction","useEffect","renderImg","splitItems","split","length","file","pageNumber","height","src","defaultAvatar","alt","handleClose","style","paddingBottom","marginTop","card_number","card_location","moment","card_expires","format","onClick","image_front","image_back","files_professional","map","item","index","file_name","link","files_consultation","signature"],"mappings":"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","file":"static/js/87.7b41f2ed.chunk.js","sourcesContent":["import React from 'react';\n\ninterface Props {\n  title: string;\n}\n\nconst DocumentItemWrapper: React.FC<Props> = (props) => {\n  const { title, children } = props;\n\n  return (\n    <div className=\"hb-document-item\">\n      <div className=\"title\">{title}</div>\n      <div className=\"content\">{children}</div>\n    </div>\n  );\n};\nexport default DocumentItemWrapper;\n","import React, { useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { RouteComponentProps } from 'react-router';\nimport { useHistory } from 'react-router-dom';\nimport config from '../../../config';\nimport { defaultAvatar } from '../../../extensions';\nimport { HBModalViewDocument } from '../../../hbBaseClass';\nimport { callApiAction, SUCCESS } from '../../../store/callApi/actions';\nimport DocumentItemWrapper from './DocumentItemWrapper';\nimport { Document, Page } from 'react-pdf';\nimport moment from 'moment';\n\nconst Documents: React.FC<RouteComponentProps> = (props) => {\n  const dispatch = useDispatch();\n  const callApi = (payload: any, callback?: (result: any) => void) => dispatch(callApiAction(payload, callback));\n  const [information, setInformation] = useState<any>({ data: {}, loading: true });\n  const [modalViewDocument, setModalViewDocument] = useState({ show: false, name: '', url: '' });\n\n  const getInformationNurse = () => {\n    callApi(\n      {\n        method: 'get',\n        api: config.rest.getInformationNurse(),\n        loading: true,\n      },\n      (response) => {\n        const { data, status } = response;\n        if (status === SUCCESS) {\n          setInformation({\n            data: data,\n            loading: false,\n          });\n        }\n      },\n    );\n  };\n\n  useEffect(() => {\n    getInformationNurse();\n    // eslint-disable-next-line\n  }, []);\n\n  if (information.loading) return <div />;\n\n  const renderImg = (url: string) => {\n    const splitItems = url?.split?.('.');\n\n    if (splitItems[splitItems.length - 1] === 'pdf')\n      return (\n        <Document file={url}>\n          <Page pageNumber={1} height={360} />\n        </Document>\n      );\n\n    return <img src={url || defaultAvatar} alt=\"passport\" />;\n  };\n\n  return (\n    <div className=\"hb-wrapper\">\n      <HBModalViewDocument\n        {...modalViewDocument}\n        handleClose={() => setModalViewDocument({ ...modalViewDocument, show: false })}\n      />\n      <div className=\"hb-mx-20\" style={{ paddingBottom: 50 }}>\n        {/* <div className=\"hb-my-28\">\n          <HBButtonSmall color=\"nightblue\" onClick={() => history.goBack()}>\n            <i className=\"hb-icon-arrow-left hb-icon-md\" /> Zurück\n          </HBButtonSmall>\n        </div> */}\n        <div className=\"hb-title\" style={{ marginTop: 28 }}>\n          Dokumente\n        </div>\n        <DocumentItemWrapper title=\"Informationen zur Identintät\">\n          <div className=\"child-title\">Reisepassnummer</div>\n          <div className=\"child-content\">{information.data.card_number}</div>\n          <div className=\"child-title\">Ausstellungsort</div>\n          <div className=\"child-content\">{information.data.card_location}</div>\n          <div className=\"child-title\">Gültig bis</div>\n          <div className=\"child-content\">{moment(information.data.card_expires * 1000).format('DD.MM.YYYY')}</div>\n          <div className=\"row\">\n            <div className=\"col-md-6\">\n              <div className=\"child-title\">Vorderseite Pass</div>\n              <div\n                className=\"child-document\"\n                onClick={() =>\n                  setModalViewDocument({\n                    show: true,\n                    name: 'Vorderseite Pass',\n                    url: information.data.image_front,\n                  })\n                }\n              >\n                {renderImg(information.data.image_front)}\n              </div>\n            </div>\n            <div className=\"col-md-6\">\n              <div className=\"child-title\">Rückseite Pass</div>\n              <div\n                className=\"child-document\"\n                onClick={() =>\n                  setModalViewDocument({\n                    show: true,\n                    name: 'Rückseite Pass',\n                    url: information.data.image_back,\n                  })\n                }\n              >\n                {renderImg(information.data.image_back)}\n              </div>\n            </div>\n          </div>\n        </DocumentItemWrapper>\n        <DocumentItemWrapper title=\"Berufsbescheinigung &amp; Zertifikate\">\n          <div>\n            <div className=\"child-title\">Pflegezertifikat</div>\n            <div className=\"row\">\n              {information.data.files_professional.map((item: any, index: number) => {\n                const splitItems = item?.file_name?.split('.');\n                return (\n                  <div className=\"col-md-6\">\n                    <div\n                      key={index}\n                      className=\"child-document\"\n                      onClick={() =>\n                        setModalViewDocument({\n                          show: true,\n                          name: 'Pflegezertifikat',\n                          url: item.link,\n                        })\n                      }\n                    >\n                      {splitItems[splitItems.length - 1] === 'pdf' ? (\n                        <Document file={item.link}>\n                          <Page pageNumber={1} height={360} />\n                        </Document>\n                      ) : (\n                        <img src={item.link} />\n                      )}\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n            <div className=\"child-title\">Berufsukunde</div>\n            <div className=\"row\">\n              {information.data.files_consultation.map((item: any, index: number) => {\n                const splitItems = item?.file_name?.split('.');\n                return (\n                  <div className=\"col-md-6\">\n                    <div\n                      key={index}\n                      className=\"child-document\"\n                      onClick={() =>\n                        setModalViewDocument({\n                          show: true,\n                          name: 'Berufsukunde',\n                          url: item.link,\n                        })\n                      }\n                    >\n                      {splitItems[splitItems.length - 1] === 'pdf' ? (\n                        <Document file={item.link}>\n                          <Page pageNumber={1} height={360} />\n                        </Document>\n                      ) : (\n                        <img src={item.link} />\n                      )}\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </DocumentItemWrapper>\n        <DocumentItemWrapper title=\"Ihre Unterschrift\">\n          <div\n            className=\"child-signature\"\n            onClick={() =>\n              setModalViewDocument({\n                show: true,\n                name: 'Ihre Unterschrift',\n                url: information.data.signature,\n              })\n            }\n          >\n            <img src={information.data.signature || defaultAvatar} alt=\"e-signature\" />\n          </div>\n        </DocumentItemWrapper>\n      </div>\n    </div>\n  );\n};\n\nexport default Documents;\n"],"sourceRoot":""}