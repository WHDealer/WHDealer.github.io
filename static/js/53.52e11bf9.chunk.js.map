{"version":3,"sources":["views/user/consulting/AddFriendMainPage.tsx","views/user/mobility/Frame.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"],"names":["AddFriendMainPage","dispatch","useDispatch","callApi","payload","callback","callApiAction","useState","data","loading","full","page","friends","setFriends","searchName","setSearchName","show","top","left","friendId","title","menuPopup","setMenuPopup","popupCancel","setPopupCancel","getListFriend","method","api","config","rest","getListUsers","response","status","SUCCESS","length","useEffect","searchParams","className","searchEmpty","callbackSearch","searchValue","validate","valueTypingExpressionsName","inputStyle","width","handleOpenPopup","e","bound","target","getBoundingClientRect","window","scrollY","scrollX","handleClosePopup","style","margin","padding","display","justifyContent","alignItems","zIndex","listStyle","paddingLeft","marginBottom","placeholder","to","handleClose","items","id","label","icon","handle","isVisible","content","leftButtonText","rightButtonText","leftButtonOnPress","rightButtonOnPress","userId","deleteFriend","filter","friend","console","log","textAlign","map","md","marginTop","first_name","last_name","img","avatar","changeStatus","handleOpen","search","size","render","loadingSmall","onEnter","mappingSize","large","medium","small","Frame","props","height","_objectWithoutProperties","source","excluded","key","i","sourceKeys","Object","keys","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call"],"mappings":"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","file":"static/js/53.52e11bf9.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { CCol, CContainer, CHeader, CRow } from '@coreui/react';\nimport { RouteComponentProps } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { callApiAction, SUCCESS } from '../../../store/callApi/actions';\nimport config from '../../../config';\nimport Search from '../../../components/search/Search';\nimport { Waypoint } from 'react-waypoint';\nimport { loadingSmall } from '../../../extensions';\nimport Frame from '../mobility/Frame';\nimport FriendItem from './FriendItem';\nimport { ConfirmPopup, MenuPopup } from '../../../components';\n\nconst AddFriendMainPage: React.FC<RouteComponentProps> = () => {\n  const dispatch = useDispatch();\n  const callApi = (payload: any, callback?: (result: any) => void) => dispatch(callApiAction(payload, callback));\n  const [friends, setFriends] = useState({ data: [], loading: true, full: false, page: 0 });\n  const [searchName, setSearchName] = useState('');\n  const pageSize = 10;\n  const [menuPopup, setMenuPopup] = useState<any>({ show: false, top: 0, left: 0, friendId: '', title: '' });\n  const [popupCancel, setPopupCancel] = useState({ show: false });\n\n  const getListFriend = (searchName: any, page: any) => {\n    callApi(\n      {\n        method: 'get',\n        api: config.rest.getListUsers(searchName, page, pageSize),\n        loading: page === 1,\n      },\n      (response) => {\n        const { data, status } = response;\n        if (status === SUCCESS) {\n          setFriends({\n            data: page === 1 ? data.friends : [...friends.data, ...data.friends],\n            full: data.friends.length < pageSize,\n            loading: false,\n            page: page,\n          });\n        }\n      },\n    );\n  };\n\n  useEffect(() => {\n    getListFriend(searchName, 1);\n  }, []);\n\n  const loadMoreFriends = () => {\n    if (friends.loading || friends.full) return;\n    setFriends({ ...friends, loading: true });\n    getListFriend(searchName, friends.page + 1);\n  };\n\n  const searchParams: any = {\n    className: 'header-topic--wrapper__search--selection__world',\n    searchName,\n    setSearchName,\n    searchEmpty: true,\n    callbackSearch: (searchValue: string) => getListFriend(searchValue, 1),\n    validate: config.validate.valueTypingExpressionsName,\n    inputStyle: { width: 400 },\n  };\n  const unFriend = (userId: any, page: any) => {\n    callApi(\n      {\n        method: 'delete',\n        api: config.rest.deleteFriend(userId),\n        loading: true,\n      },\n      (response) => {\n        const { status } = response;\n        if (status === SUCCESS) {\n          setFriends((friends: any) => ({\n            ...friends,\n            data: friends.data.filter((friend: any) => friend.id !== userId),\n          }));\n        }\n      },\n    );\n  };\n\n  const handleCancel = () => {\n    setPopupCancel({ show: false });\n    unFriend(menuPopup.id, 1);\n    console.log('Cancel ' + menuPopup.id);\n  };\n\n  const handleOpenPopup = (e: any, data: any) => {\n    const bound = e.target.getBoundingClientRect();\n    let offsetLeft = 120;\n    let width = 160;\n\n    setMenuPopup({\n      show: true,\n      top: bound.top + window.scrollY + 10,\n      left: bound.left - offsetLeft + window.scrollX + 140,\n      width: width,\n      ...data,\n    });\n  };\n\n  const handleClosePopup = () => {\n    setMenuPopup((menuPopup: any) => {\n      return { ...menuPopup, show: false };\n    });\n  };\n\n  return (\n    <div className=\"add-friend-main-page\" style={{ margin: '0 150px' }}>\n      <CContainer>\n        <div className=\"add-friend-page-wrapper\">\n          <CHeader\n            style={{ padding: 10, display: 'flex', justifyContent: 'space-between', alignItems: 'center', zIndex: 1 }}\n          >\n            <h4>Friends</h4>\n            <div style={{ width: 650 }}>\n              <ul\n                style={{\n                  listStyle: 'none',\n                  display: 'flex',\n                  paddingLeft: 0,\n                  justifyContent: 'space-between',\n                  marginBottom: 0,\n                  alignItems: 'center',\n                }}\n              >\n                <li>\n                  <Search {...searchParams} className=\"add-friend__search\" placeholder=\"Search friend\" />\n                </li>\n                <li>\n                  <Link to=\"/consulting/friend-request\">Friend Requests</Link>\n                </li>\n                <li>\n                  <Link to=\"/consulting/search-friend\">Search Friend</Link>\n                </li>\n              </ul>\n            </div>\n          </CHeader>\n          <div className=\"add-friend-main-page-body\">\n            <MenuPopup\n              {...menuPopup}\n              handleClose={handleClosePopup}\n              items={[\n                {\n                  id: 'edit',\n                  label: 'Unfriend',\n                  icon: 'fas fa-user-alt-slash',\n                  handle: () => setPopupCancel({ show: true }),\n                },\n\n                {\n                  id: 'cancel',\n                  label: 'Cancel',\n                  icon: 'fas fa-trash',\n                  handle: () => setMenuPopup({ show: false }),\n                },\n              ]}\n            />\n            <ConfirmPopup\n              isVisible={popupCancel.show}\n              title=\"Cancel\"\n              content=\"Are you sure you want to unfriend?\"\n              leftButtonText=\"No\"\n              rightButtonText=\"Yes\"\n              leftButtonOnPress={() => setPopupCancel({ show: false })}\n              rightButtonOnPress={handleCancel}\n            />\n            <CRow>\n              {friends.data.length === 0 ? (\n                <div style={{ width: 100 + '%', textAlign: 'center' }}>No result</div>\n              ) : (\n                friends.data.map((friend: any) => (\n                  <CCol md={6} style={{ marginTop: '15px' }}>\n                    <FriendItem\n                      first_name={friend.first_name}\n                      last_name={friend.last_name}\n                      img={friend.avatar}\n                      id={friend.id}\n                      changeStatus={null}\n                      status=\"friend\"\n                      menuPopup={menuPopup}\n                      handleOpen={handleOpenPopup}\n                      handleClose={handleClosePopup}\n                      search={false}\n                    />\n                  </CCol>\n                ))\n              )}\n            </CRow>\n          </div>\n          {friends.page !== 0 && friends.loading && <Frame size=\"large\" render={loadingSmall} />}\n          <Waypoint onEnter={loadMoreFriends} />\n        </div>\n      </CContainer>\n    </div>\n  );\n};\n\nexport default AddFriendMainPage;\n","import React from 'react';\n\ninterface Props {\n  size: 'large' | 'medium' | 'small';\n  render: any;\n}\n\nconst mappingSize = { large: 80, medium: 48, small: 36 };\n\nconst Frame: React.FC<Props> = (props) => {\n  const { size, render } = props;\n\n  return (\n    <div className=\"video-comments--comment\">\n      <div style={{ width: '100%', height: mappingSize[size] }}>{render}</div>\n    </div>\n  );\n};\n\nexport default Frame;\n","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}"],"sourceRoot":""}