(this["webpackJsonphb-frontend"]=this["webpackJsonphb-frontend"]||[]).push([[71],{1207:function(e,t,s){"use strict";s.r(t);var a,i=s(4),n=s(8),c=s(27),r=s(1),l=s(57),d=s(34),o=s(45),u=["success","error","warning"],j={success:"#006644",error:"#BF2600",warning:"#DF6B00"};!function(e){e[e.Success=200]="Success"}(a||(a={}));var h=s(609),p=s(610),b=s(28),x=s(59),m=s(628),O=function(e,t){return p.b().shape({message_id:p.d().required("Required.").notOneOf(t.map((function(e){return e.message_id.toString()})),"This message id already exists. Please choose another message id."),text:p.d().required("Required."),text_de:p.d().required("Required."),descriptions:p.d().required("Required.")})},g=function(e,t){return function(s){var a=e(s,t);try{return a.validateSync(s,{abortEarly:!1}),{}}catch(i){return Object(x.g)(i)}}},f=function(e){var t=Object(b.b)(),s=e.reload,a=e.handleClose,n=e.show,c=e.initialValues,r=e.data;return Object(i.jsx)("div",{className:"flex-row align-items-center",children:Object(i.jsxs)(l.D,{size:"lg",centered:!0,show:n,onClose:a,closeOnBackdrop:!1,children:[Object(i.jsx)(l.G,{closeButton:!0,children:"Create Message"}),Object(i.jsx)(l.E,{className:"popup--update-user",children:Object(i.jsx)(l.L,{className:"justify-content-center",children:Object(i.jsx)(l.j,{md:"12",children:Object(i.jsx)(l.h,{children:Object(i.jsx)(l.e,{className:"popup--update-user__card--wrapper",children:Object(i.jsx)(l.f,{children:Object(i.jsx)(h.a,{enableReinitialize:!0,initialValues:c,validate:g(O,r),onSubmit:function(e){var i,n,c={message_id:e.message_id,popup:"true"===e.popup,status:e.status,text:e.text.trim(),text_de:e.text_de.trim(),duration:"false"===e.popup?0:parseInt(e.duration),descriptions:e.descriptions.trim()},r=JSON.stringify(c);i={method:"post",api:d.c.rest.createMessage(),body:r,loading:!0,msg:d.c.messages.createMessageFailure},n=function(e){e.status===o.c&&(s(),a())},t(Object(o.d)(i,n))},children:function(e){var t=e.values,s=e.errors,a=e.touched,n=(e.status,e.dirty),c=e.handleChange,r=e.handleBlur,d=e.handleSubmit,o=(e.isSubmitting,e.isValid);e.handleReset,e.setTouched;return Object(i.jsxs)(l.q,{onSubmit:d,children:[Object(i.jsx)(m.a,{label:"Message Id",width:140,children:Object(i.jsxs)(l.r,{className:"m-0",children:[Object(i.jsx)(l.u,{placeholder:"Message Id",value:t.message_id,onChange:function(e){/^[0-9]*$/.test(e.target.value)&&c(e)},name:"message_id",invalid:""!==t.message_id&&a.message_id&&!!s.message_id,onBlur:r}),Object(i.jsx)(l.A,{children:s.message_id})]})}),Object(i.jsx)(m.a,{label:"Popup",width:140,children:Object(i.jsx)(l.r,{className:"m-0",children:Object(i.jsxs)(l.M,{value:t.popup,onChange:c,name:"popup",children:[Object(i.jsx)("option",{children:"true"}),Object(i.jsx)("option",{children:"false"})]})})}),Object(i.jsx)(m.a,{label:"Status",width:140,children:Object(i.jsx)(l.r,{className:"m-0",children:Object(i.jsx)(l.M,{value:t.status,onChange:c,name:"status",children:u.map((function(e){return Object(i.jsx)("option",{children:e},e)}))})})}),Object(i.jsx)(m.a,{label:"English Message",width:140,children:Object(i.jsx)(l.r,{className:"m-0",children:Object(i.jsx)(l.u,{required:!0,maxLength:200,type:"text",placeholder:"English Message",value:t.text,name:"text",onChange:c})})}),Object(i.jsx)(m.a,{label:"German Message",width:140,children:Object(i.jsx)(l.r,{className:"m-0",children:Object(i.jsx)(l.u,{required:!0,maxLength:200,type:"text",placeholder:"German Message",value:t.text_de,name:"text_de",onChange:c})})}),Object(i.jsx)(m.a,{label:"Duration",width:140,children:Object(i.jsx)(l.r,{className:"m-0",children:Object(i.jsx)(l.u,{type:"number",min:1,step:1,disabled:"false"===t.popup,placeholder:"Duration",value:"false"===t.popup?0:t.duration,name:"duration",onChange:c})})}),Object(i.jsx)(m.a,{label:"Description",width:140,children:Object(i.jsx)(l.r,{className:"m-0",children:Object(i.jsx)(l.Q,{type:"text",placeholder:"Description",value:t.descriptions,name:"descriptions",maxLength:50,onChange:c})})}),Object(i.jsx)(l.r,{className:"d-flex justify-content-end mb-0",children:Object(i.jsx)(l.d,{color:"primary",className:"px-4",type:"submit",disabled:!(o&&n),children:"Create"})})]})}})})})})})})})]})})},y=function(e){return p.b().shape({text:p.d().required("Required."),text_de:p.d().required("Required."),descriptions:p.d().required("Required.")})},v=function(e){var t,s=Object(b.b)(),a=e.reload,n=e.handleClose,c=e.show,r=e.initialValues;return Object(i.jsx)("div",{className:"flex-row align-items-center",children:Object(i.jsxs)(l.D,{size:"lg",centered:!0,show:c,onClose:n,closeOnBackdrop:!1,children:[Object(i.jsx)(l.G,{closeButton:!0,children:"Update Message"}),Object(i.jsx)(l.E,{className:"popup--update-user",children:Object(i.jsx)(l.L,{className:"justify-content-center",children:Object(i.jsx)(l.j,{md:"12",children:Object(i.jsx)(l.h,{children:Object(i.jsx)(l.e,{className:"popup--update-user__card--wrapper",children:Object(i.jsx)(l.f,{children:Object(i.jsx)(h.a,{enableReinitialize:!0,initialValues:r,validate:(t=y,function(e){var s=t(e);try{return s.validateSync(e,{abortEarly:!1}),{}}catch(a){return Object(x.g)(a)}}),onSubmit:function(e){var t,i,c={popup:"true"===e.popup,status:e.status,text:e.text.trim(),text_de:e.text_de.trim(),duration:"false"===e.popup?0:parseInt(e.duration),descriptions:e.descriptions.trim()},r=JSON.stringify(c);t={method:"put",api:d.c.rest.updateMessage(e.message_id),body:r,loading:!0,msg:d.c.messages.updateMessageFailure},i=function(e){e.status===o.c&&(a(),n())},s(Object(o.d)(t,i))},children:function(e){var t=e.values,s=(e.errors,e.touched,e.status,e.dirty),a=e.handleChange,n=(e.handleBlur,e.handleSubmit),c=(e.isSubmitting,e.isValid);e.handleReset,e.setTouched;return Object(i.jsxs)(l.q,{onSubmit:n,children:[Object(i.jsx)(m.a,{label:"Message Id",width:140,children:Object(i.jsx)(l.r,{className:"m-0",children:Object(i.jsx)(l.u,{disabled:!0,type:"number",value:t.message_id,name:"message_id"})})}),Object(i.jsx)(m.a,{label:"Popup",width:140,children:Object(i.jsx)(l.r,{className:"m-0",children:Object(i.jsxs)(l.M,{value:t.popup,onChange:a,name:"popup",children:[Object(i.jsx)("option",{children:"true"}),Object(i.jsx)("option",{children:"false"})]})})}),Object(i.jsx)(m.a,{label:"Status",width:140,children:Object(i.jsx)(l.r,{className:"m-0",children:Object(i.jsx)(l.M,{value:t.status,onChange:a,name:"status",children:u.map((function(e){return Object(i.jsx)("option",{children:e},e)}))})})}),Object(i.jsx)(m.a,{label:"English Message",width:140,children:Object(i.jsx)(l.r,{className:"m-0",children:Object(i.jsx)(l.u,{required:!0,maxLength:200,type:"text",placeholder:"English Message",value:t.text,name:"text",onChange:a})})}),Object(i.jsx)(m.a,{label:"German Message",width:140,children:Object(i.jsx)(l.r,{className:"m-0",children:Object(i.jsx)(l.u,{required:!0,maxLength:200,type:"text",placeholder:"German Message",value:t.text_de,name:"text_de",onChange:a})})}),Object(i.jsx)(m.a,{label:"Duration",width:140,children:Object(i.jsx)(l.r,{className:"m-0",children:Object(i.jsx)(l.u,{type:"number",min:1,disabled:"false"===t.popup||!t.popup,placeholder:"Duration",value:"false"!==t.popup&&t.popup?t.duration:0,name:"duration",onChange:a})})}),Object(i.jsx)(m.a,{label:"Description",width:140,children:Object(i.jsx)(l.r,{className:"m-0",children:Object(i.jsx)(l.Q,{type:"text",placeholder:"Description",value:t.descriptions,name:"descriptions",maxLength:50,onChange:a})})}),Object(i.jsx)(l.r,{className:"d-flex justify-content-end mb-0",children:Object(i.jsx)(l.d,{color:"primary",className:"px-4",type:"submit",disabled:!(c&&s),children:"Update"})})]})}})})})})})})})]})})},w=[{key:"message_id",label:"Id",_style:{width:"1%"}},{key:"popup",label:"Popup",_style:{width:"1%"}},{key:"status",label:"Status",_style:{width:"1%"}},{key:"text",label:"English Message",_style:{width:"20%"}},{key:"text_de",label:"German Message",_style:{width:"20%"}},{key:"duration",label:"Duration",_style:{width:"1%"}},{key:"descriptions",label:"Description",_style:{width:"20%"}},{key:"action",label:"Action",_style:{width:"1%"}}];t.default=function(){var e=Object(b.b)(),t=Object(r.useState)(!0),s=Object(c.a)(t,2),a=s[0],h=s[1],p=Object(r.useState)(""),x=Object(c.a)(p,2),m=x[0],O=x[1],g=Object(r.useState)(""),y=Object(c.a)(g,2),_=y[0],N=y[1],C=Object(r.useState)(""),S=Object(c.a)(C,2),M=S[0],q=S[1],V=Object(r.useState)([]),k=Object(c.a)(V,2),D=k[0],L=k[1],R=Object(r.useState)({show:!1,initialValues:{}}),B=Object(c.a)(R,2),E=B[0],I=B[1],G=Object(r.useState)({show:!1,initialValues:{}}),T=Object(c.a)(G,2),z=T[0],A=T[1],F=function(){var t,s;h(!0),t={method:"get",api:d.c.rest.getAllMessages()},s=function(e){var t=e.status,s=e.data;t===o.c&&L(s.map((function(e){return Object(n.a)(Object(n.a)({},e),{},{message_id:parseInt(e.message_id)})})).sort((function(e,t){return t.message_id-e.message_id}))),h(!1)},e(Object(o.d)(t,s))};Object(r.useEffect)((function(){F()}),[]);var J=Object(i.jsx)("div",{}),P="true"===_,Q=D;if(""!==m){var U=m.toLowerCase();Q=Q.filter((function(e){return e.text.toLowerCase().includes(U)||e.message_id.toString().includes(U)}))}return""!==_&&(Q=Q.filter((function(e){return e.popup===P}))),""!==M&&(Q=Q.filter((function(e){return e.status===M}))),a||0===Q.length&&(J=Object(i.jsx)("div",{children:"No items found!"})),Object(i.jsxs)("div",{style:{width:"90%",margin:"10px auto"},children:[Object(i.jsx)(f,{data:D,show:E.show,initialValues:E.initialValues,handleClose:function(){return I({show:!1,initialValues:{}})},reload:F}),Object(i.jsx)(v,{show:z.show,initialValues:z.initialValues,handleClose:function(){return A({show:!1,initialValues:{}})},reload:F}),Object(i.jsx)("div",{children:Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"row",marginTop:20,marginBottom:30},children:[Object(i.jsxs)("div",{className:"mr-3",style:{position:"relative",width:220},children:[Object(i.jsx)(l.u,{style:{width:220,position:"absolute",paddingLeft:32},type:"text",placeholder:"search",value:m,maxLength:50,onChange:function(e){return O(e.target.value)}}),Object(i.jsx)("i",{style:{position:"absolute",left:10,top:11,color:"#777"},className:"fa fa-search icon"})]}),Object(i.jsxs)(l.M,{className:"mr-3",style:{width:160},value:_,onChange:function(e){return N(e.target.value)},children:[Object(i.jsx)("option",{value:"",children:"Show popup?"}),Object(i.jsx)("option",{children:"true"}),Object(i.jsx)("option",{children:"false"})]}),Object(i.jsxs)(l.M,{style:{width:160},value:M,onChange:function(e){return q(e.target.value)},children:[Object(i.jsx)("option",{value:"",children:"Status?"}),u.map((function(e){return Object(i.jsx)("option",{children:e},e)}))]}),Object(i.jsx)("div",{style:{textAlign:"right",flex:1},children:Object(i.jsx)(l.d,{color:"primary",onClick:function(){I({show:!0,initialValues:{message_id:"",popup:"true",status:"success",text:"",text_de:"",duration:5,descriptions:""}})},children:"Create message"})})]})}),Object(i.jsx)(l.l,{items:Q,fields:w,loading:a,noItemsViewSlot:J,hover:!0,striped:!0,sorter:!0,sorterValue:{column:"message_id",desc:"true"},scopedSlots:{popup:function(e){return Object(i.jsx)("td",{children:e.popup?"true":"false"})},status:function(e){return Object(i.jsx)("td",{style:{fontWeight:"bold",color:j[e.status]},children:e.status})},duration:function(e){return Object(i.jsx)("td",{children:!1===e.popup?0:e.duration})},action:function(e){return Object(i.jsx)("td",{className:"py-2",children:Object(i.jsx)(l.d,{color:"primary",variant:"outline",shape:"square",size:"sm",onClick:function(){A({show:!0,initialValues:e})},children:Object(i.jsx)("i",{className:"fas fa-pencil-alt",children:" "})})})}}}),0!==Q.length&&Object(i.jsxs)("div",{style:{textAlign:"right",marginRight:100},children:["Total: ",Q.length]})]})}},628:function(e,t,s){"use strict";var a=s(4);s(1);t.a=function(e){var t=e.className,s=e.label,i=e.children,n=e.width,c=e.centered,r=e.style;return n=n||110,Object(a.jsxs)("div",{className:"d-flex mb-3 ".concat(c?"align-items-center":""," ").concat(t||""),style:r,children:[Object(a.jsx)("div",{style:{minWidth:n,marginTop:6},children:s}),Object(a.jsx)("div",{style:{width:"calc(100% - ".concat(n,"px)")},children:i})]})}}}]);
//# sourceMappingURL=71.2c588cb0.chunk.js.map