{"version":3,"sources":["views/user/newsfeed/ContentNewsfeed.tsx","views/user/newsfeed/YourTopicsIsSelected.tsx","views/user/newsfeed/SelectCategory.tsx"],"names":["ContentNewsfeed","props","label","your_topics","saveSetting","data","className","map","item","index","classNames","active","includes","onClick","name","YourTopicsIsSelected","style","marginRight","SelectCategory","dispatch","useDispatch","callApi","payload","callback","callApiAction","history","useHistory","email","useSelector","state","auth","hasBack","ls","get","newsfeed","top_topics","top_search_keywords","useEffect","set","length","method","api","config","rest","getNewsfeedCategories","loading","response","status","SUCCESS","setNewsfeedTopics","updateNewsfeedYourTopics","visibility","cloneNewsfeedYourTopics","push","color","textAlign","handleClick","readOnly","placeholder","marginTop","width","padding","body","keywords","id","disabled"],"mappings":"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","file":"static/js/58.4ca2e196.chunk.js","sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport { includes } from '../../../utils';\n\ninterface Props {\n  label: string;\n  your_topics: [];\n  data: any;\n  saveSetting: any;\n}\n\nconst ContentNewsfeed: React.FC<Props> = (props) => {\n  const { label, your_topics, saveSetting, data } = props;\n\n  return (\n    <div className=\"hb-categories-wrapper\">\n      <div className=\"label\">{label}</div>\n      <div className=\"items-wrapper\">\n        {data.map((item: any, index: number) => (\n          <div\n            key={index}\n            className={classNames('item', {\n              active: includes(your_topics, item),\n            })}\n            onClick={() => saveSetting(item)}\n          >\n            {item.name}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default ContentNewsfeed;\n","import React from 'react';\n\ninterface Props {\n  your_topics: any;\n  saveSetting: any;\n}\n\nconst YourTopicsIsSelected: React.FC<Props> = (props) => {\n  const { your_topics, saveSetting } = props;\n\n  return (\n    <div className=\"hb-my-categories-wrapper\">\n      <div className=\"label\">Ihre Auswahl</div>\n      <div className=\"items-wrapper hb-scroll\">\n        {your_topics.map((item: { id: string; name: string }, index: number) => (\n          <div key={index} className=\"item\" onClick={() => saveSetting(item)}>\n            <div className=\"d-flex align-items-center\">\n              <div style={{ marginRight: 10 }}>{item.name}</div>\n              <i className=\"hb-icon-close\" />\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default YourTopicsIsSelected;\n","import React, { useEffect } from 'react';\nimport config from '../../../config';\nimport ContentNewsfeed from './ContentNewsfeed';\nimport YourTopicsIsSelected from './YourTopicsIsSelected';\nimport { callApiAction, SUCCESS } from '../../../store/callApi/actions';\nimport { RouteComponentProps, useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { ls } from '../../../extensions';\nimport { HBButton, HBButtonSmall, HBSearch } from '../../../hbBaseClass';\nimport './Newsfeed.scss';\nimport { cloneNewsfeedYourTopics, setNewsfeedTopics, updateNewsfeedYourTopics } from '../../../store/newsfeed/actions';\n\nconst SelectCategory: React.FC<RouteComponentProps> = () => {\n  const dispatch = useDispatch();\n  const callApi = (payload: any, callback?: (result: any) => void) => dispatch(callApiAction(payload, callback));\n\n  const history = useHistory();\n\n  const email = useSelector((state: any) => state.auth.email);\n  const hasBack = ls.get(`has-back-${email}`);\n\n  const { top_topics, top_search_keywords, your_topics } = useSelector((state: any) => state.newsfeed);\n\n  useEffect(() => {\n    ls.set(`screen-${email}`, '/newsfeed/select-category');\n\n    if (top_topics.length === 0)\n      callApi(\n        {\n          method: 'get',\n          api: config.rest.getNewsfeedCategories(),\n          loading: true,\n        },\n        (response) => {\n          const { data, status } = response;\n          if (status === SUCCESS) {\n            dispatch(setNewsfeedTopics(data));\n          }\n        },\n      );\n  }, []);\n\n  const saveSetting = (item: { id: string; name: string }) => {\n    dispatch(updateNewsfeedYourTopics(item));\n  };\n\n  const startNewsfeed = () => {\n    callApi(\n      {\n        method: 'post',\n        api: '/api/v1/newsfeed/starts',\n        loading: true,\n        body: {\n          keywords: your_topics.map((item: any) => item.id),\n        },\n      },\n      (response) => {\n        const { status } = response;\n        if (status === SUCCESS) {\n          ls.set(`has-back-${email}`, 'ok');\n          dispatch(cloneNewsfeedYourTopics('Real'));\n          ls.set(`screen-${email}`, '/newsfeed');\n          history.push('/newsfeed');\n        }\n      },\n    );\n  };\n\n  return (\n    <>\n      <div className=\"hb-wrapper\">\n        <div className=\"hb-mx-20\">\n          <div className=\"d-flex justify-content-between hb-my-28\">\n            <HBButtonSmall\n              style={{ visibility: hasBack ? 'visible' : 'hidden' }}\n              onClick={() => {\n                dispatch(cloneNewsfeedYourTopics('Fake'));\n                ls.set(`screen-${email}`, '/newsfeed');\n                history.push('/newsfeed');\n              }}\n            >\n              <i className=\"hb-icon-arrow-left hb-icon-md\" /> Zurück\n            </HBButtonSmall>\n          </div>\n          <h1 style={{ color: 'white', textAlign: 'center' }}>Themenauswahl</h1>\n          <div className=\"hb-select-category-intro\">\n            Zeigen Sie uns hier, für welche Themen Sie sich interessieren. Bitte wählen Sie mindestens drei Themen aus.\n          </div>\n          <HBSearch\n            handleClick={() => history.push('/newsfeed/select-category/search')}\n            readOnly\n            placeholder=\"Nach Themen suchen\"\n            className=\"hb-select-category-search\"\n          />\n          <div className=\"row p-0\">\n            <div className=\"col-md-8\">\n              <ContentNewsfeed\n                label=\"Top Themen\"\n                your_topics={your_topics}\n                saveSetting={saveSetting}\n                data={top_topics}\n              />\n              <ContentNewsfeed\n                label=\"Meistgesucht\"\n                your_topics={your_topics}\n                saveSetting={saveSetting}\n                data={top_search_keywords}\n              />\n            </div>\n            <div className=\"col-md-4\">\n              <YourTopicsIsSelected your_topics={your_topics} saveSetting={saveSetting} />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div style={{ marginTop: 100 }}>\n        <div className=\"hb-start-newsfeed-wrapper\">\n          <HBButton\n            style={{ width: '100%', padding: '12px 0' }}\n            className=\"hb-start-newsfeed\"\n            onClick={startNewsfeed}\n            disabled={your_topics.length < 3}\n          >\n            Pflege Magazin erstellen\n          </HBButton>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default SelectCategory;\n"],"sourceRoot":""}