(this["webpackJsonphb-frontend"]=this["webpackJsonphb-frontend"]||[]).push([[34],{1168:function(e,t,n){"use strict";n.r(t);var i=n(4),r=n(8),a=n(27),s=n(1),c=n(45),o=n(34),l=n(28),d=n(31),u=n(57),j=function(e){var t=e.setToMe,n=e.back,r=e.next;return Object(i.jsx)("div",{className:"treatment-for-who",children:Object(i.jsxs)(u.k,{children:[Object(i.jsx)("h3",{className:"treatment-for-who__title",children:"Who is the treatment for?"}),Object(i.jsxs)("div",{className:"treatment-for-who__content",children:[Object(i.jsx)(u.d,{color:"primary",style:{width:140},onClick:function(){r(),t(!0)},children:"To me"}),Object(i.jsx)(u.d,{color:"primary",style:{width:140},onClick:function(){r(),t(!1)},children:"Others"})]}),Object(i.jsx)("div",{className:"d-flex mx-5 my-5",children:Object(i.jsx)(u.d,{style:{width:100},variant:"outline",color:"primary",onClick:n,children:"Back"})})]})})},b=n(58),p=function e(t){var n,r,c=t.questionTreatment,o=t.answers,l=t.setAnswers,d=Object(s.useRef)(null===o||void 0===o?void 0:o.findIndex((function(e){return e.question_id===c.id}))),j=Object(s.useState)(d.current>-1?null===(n=o[d.current])||void 0===n?void 0:n.answer_title:""),p=Object(a.a)(j,2),m=p[0],f=p[1],h=function(e,t){l((function(n){var i=Object(b.a)(n),r=null===n||void 0===n?void 0:n.findIndex((function(t){return t.question_id===e.id}));return-1===r?[].concat(Object(b.a)(n),[{question_id:e.id,question_title:e.question_title,answer_title:t}]):(i[r]={question_id:e.id,question_title:e.question_title,answer_title:t},i)}))};return Object(i.jsx)("div",{style:{marginBottom:40},children:Object(i.jsxs)("div",{children:[Object(i.jsxs)("h3",{style:{marginBottom:20,marginTop:20},children:[c.question_title," "]}),(r=c,1===r.question_type?Object(i.jsx)("div",{children:Object(i.jsx)("div",{style:{marginTop:8},children:Object(i.jsx)("div",{className:"d-flex",children:Object(i.jsx)(u.u,{className:"form-control",onChange:function(e){f(e.target.value),h(r,e.target.value)},maxLength:200,placeholder:"Please specify",value:m,required:1===r.required})})})}):2===r.question_type?Object(i.jsx)("div",{children:r.answers.map((function(e,t){return Object(i.jsx)("div",{style:{marginTop:8},children:Object(i.jsxs)("div",{className:"d-flex",children:[Object(i.jsx)("input",{type:"radio",onChange:function(t){f(e.answer_title),h(r,e.answer_title)},checked:e.answer_title===m,name:r.id,className:"form-control",required:1===r.required}),Object(i.jsx)("label",{children:e.answer_title})]})},t)}))}):4===r.question_type?Object(i.jsx)("div",{className:"d-flex",children:r.answers.map((function(e,t){return Object(i.jsx)("div",{className:"mx-3",children:Object(i.jsxs)("div",{className:"d-flex",children:[Object(i.jsx)("input",{type:"radio",onChange:function(){f(e.answer_title),h(r,e.answer_title)},checked:e.answer_title===m,name:r.id,style:{width:30},className:"form-control mr-2",required:1===r.required}),Object(i.jsx)("label",{children:e.answer_title})]})},t)}))}):Object(i.jsx)("div",{children:r.answers.map((function(e,t){return Object(i.jsx)("div",{style:{marginTop:8},children:Object(i.jsxs)("div",{className:"d-flex",children:[Object(i.jsx)("input",{className:"form-control",style:{fontSize:5,maxWidth:60},type:"checkbox",name:r.id,onChange:function(){f(m.includes(e.answer_title)?m.replace(e.answer_title,""):m+e.answer_title),h(r,e.answer_title)},checked:m.includes(e.answer_title)}),Object(i.jsx)("label",{children:e.answer_title})]})},t)}))})),c.answers.map((function(t,n){return Object(i.jsx)("div",{children:m.includes(t.answer_title)&&Object(i.jsx)("div",{children:t.sub_questions.map((function(t){return Object(i.jsx)(e,{questionTreatment:t,answers:o,setAnswers:l},t.id)}))})},n)}))]})})},m=function(e){var t=e.step,n=e.steps,r=e.back,a=e.next,s=e.answers,c=e.setAnswers,o=n[t-1].questions;return Object(i.jsx)("div",{style:{padding:"10px 40px"},children:Object(i.jsxs)(u.q,{onSubmit:function(e){e.preventDefault(),a()},children:[o.map((function(e){return Object(i.jsx)(p,{questionTreatment:e,answers:s,setAnswers:c},e.id)})),Object(i.jsxs)("div",{className:"d-flex justify-content-evenly my-5",children:[Object(i.jsx)(u.d,{style:{width:100},variant:"outline",color:"primary",onClick:r,children:"Back"}),Object(i.jsx)(u.d,{style:{width:100},variant:"outline",color:"primary",type:"submit",children:"Continue"})]})]})})},f=n(611),h=n(696),v=n.n(h),x=n(638),O=n.n(x),y=(n(637),n(102)),g=n.n(y),w=n(59),_=n(702),N=n(35),k=function(e){var t=e.id,n=e.first_name,a=e.last_name,s=e.thumbnail,c=e.rating,o=e.setBook,l=e.active,d=e.setModalFeedbacks,u=t?n+" "+a:"HerzBegleiter",j="";u.length>15&&(j=u.slice(0,12)+"...");var b=Object(i.jsxs)("div",{className:"book-appointment-nurse",children:[Object(i.jsx)("div",{className:"book-appointment-nurse-avatar",style:{backgroundImage:"url(https://d1aettbyeyfilo.cloudfront.net/herzbegleiter/16281202_1610961997217tom-circle.webp)"}}),Object(i.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:70},children:"HerzBegleiter choose for you"})]});return t&&(b=Object(i.jsxs)("div",{className:"book-appointment-nurse",children:[Object(i.jsx)("div",{className:"book-appointment-nurse-avatar",style:{backgroundImage:'url("'.concat(s||N.a,'")')}}),Object(i.jsxs)("div",{style:0===c?{height:70,display:"flex",alignItems:"center"}:{},children:[Object(i.jsx)("div",{children:j||u}),0!==c&&Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{style:{marginTop:2},children:[Object(i.jsx)("i",{className:"fa fa-star mr-1",style:{color:"orange"}}),null===c||void 0===c?void 0:c.toFixed(1)," / 5.0"]}),Object(i.jsx)("div",{style:{marginTop:2},className:"link",onClick:function(e){e.stopPropagation(),d({show:!0,nurseId:t,nurseName:u,nurseThumbnail:s,nurseRating:c})},children:"View feedbacks"})]})]})]})),Object(i.jsx)("div",{style:{padding:"4px 3px"},title:u,children:Object(i.jsx)("div",{className:"book-appointment-nurse-wrapper ".concat(l?"active":""),style:{margin:"".concat(t?"0":"1px"," 0.4rem 0 0.4rem")},onClick:function(){return o((function(e){return Object(r.a)(Object(r.a)({},e),{},{nurse:t})}))},children:b})})},T=["23:15","23:30","23:45"],D=function(e){var t=Object(s.useState)(!1),n=Object(a.a)(t,2),c=n[0],l=n[1],d=e.nurses,j=e.getNurses,b=e.book,p=e.setBook,m=e.back,h=Object(s.forwardRef)((function(e,t){e.value;var n=e.onClick,r=V!==M&&V!==A;return Object(i.jsx)("div",{className:"book-appointment-date ".concat(r?"active":""),style:{maxWidth:140},onClick:n,ref:t,children:r?g()(W).format("DD-MM-YYYY"):"Later"})})),x=Object(s.useState)(""),y=Object(a.a)(x,2),N=y[0],D=y[1],C=Object(s.useState)({show:!1,nurseId:"",nurseName:"",nurseThumbnail:"",nurseRating:0}),S=Object(a.a)(C,2),E=S[0],B=S[1],q=new Date,Y=new Date;Y.setDate(Y.getDate()+1);var M=q.toDateString(),A=Y.toDateString(),P=900*Math.ceil((new Date).getTime()/9e5)+7200,L=P+3600,R=b.appointment_time_begin||P,z=b.appointment_time_end||L,I=new Date(1e3*P).toDateString(),F=Object(s.useState)(new Date(1e3*R)),H=Object(a.a)(F,2),W=H[0],U=H[1],V=W.toDateString(),J=new Date;J.setDate((new Date).getDate()+2);var G=new Date;G.setDate((new Date).getDate()+21);var K=Object(s.useState)(I!==M?"08:00":Object(w.p)(R)),X=Object(a.a)(K,2),Q=X[0],Z=X[1],$=Object(s.useState)(I!==M?"09:00":Object(w.p)(z)),ee=Object(a.a)($,2),te=ee[0],ne=ee[1],ie=new Date(1e3*P),re=o.d.findIndex((function(e){return ie<=new Date("".concat(g()(W).format("MM/DD/YYYY")," ").concat(e))})),ae=new Date("".concat(g()(W).format("MM/DD/YYYY")," ").concat(Q));ae.setMinutes(ae.getMinutes()+14);var se=o.d.findIndex((function(e){return ae<=new Date("".concat(g()(W).format("MM/DD/YYYY")," ").concat(e))}));Object(s.useEffect)((function(){if(c){if(V!==M)Z("08:00"),ne("09:00");else if(ie>new Date("".concat(g()(W).format("MM/DD/YYYY")," ").concat(Q))){var e=Object(w.p)(P);Z(e),T.includes(e)?ne("24:00"):ne(Object(w.p)(P+3600))}}else l(!0)}),[W]);return Object(i.jsxs)("div",{className:"mx-3",style:{overflow:"hidden"},children:[Object(i.jsx)(_.a,Object(r.a)(Object(r.a)({},E),{},{handleClose:function(){return B({show:!1,nurseId:"",nurseName:"",nurseThumbnail:"",nurseRating:0})}})),Object(i.jsx)("div",{className:"book-appointment-title",children:"Choose nurse"}),Object(i.jsx)("div",{className:"px-5",children:Object(i.jsx)(f.a,{searchName:N,setSearchName:D,inputStyle:{borderRadius:10},searchEmpty:!0,callbackSearch:j,validate:o.c.validate.valueTypingExpressionsName})}),Object(i.jsxs)("div",{className:"d-flex mt-4",children:[Object(i.jsx)("div",{children:Object(i.jsx)(k,{active:!b.nurse,setBook:p})}),Object(i.jsx)("div",{style:{width:"83%"},children:Object(i.jsx)(v.a,Object(r.a)(Object(r.a)({},o.l),{},{data:d.data.map((function(e){return Object(i.jsx)(k,Object(r.a)(Object(r.a)({},e),{},{active:b.nurse===e.id,setBook:p,setModalFeedbacks:B}),e.id)}))}))})]}),Object(i.jsx)("div",{className:"book-appointment-title mt-4",children:"Date"}),Object(i.jsxs)("div",{className:"d-flex justify-content-evenly",children:[I===M&&Object(i.jsx)("div",{className:"book-appointment-date ".concat(V===M?"active":""),onClick:function(){return U(q)},children:"Today"}),Object(i.jsx)("div",{className:"book-appointment-date ".concat(V===A?"active":""),onClick:function(){return U(Y)},children:"Tomorrow"}),Object(i.jsx)("div",{children:Object(i.jsx)(O.a,{minDate:J,maxDate:G,onChange:function(e){return U(e)},customInput:Object(i.jsx)(h,{})})})]}),Object(i.jsx)("div",{className:"book-appointment-title mt-4",children:"Between"}),Object(i.jsxs)("div",{className:"d-flex justify-content-evenly",children:[Object(i.jsx)("select",{value:Q,className:"form-control",style:{width:160},onChange:function(e){var t=e.target.value,n=o.d.findIndex((function(e){return e===t}));ne(n>=93?o.d[96]:o.d[n+4]),Z(t)},children:o.d.slice(re,-1).map((function(e,t){return Object(i.jsx)("option",{itemID:t,value:e,children:e},e)}))}),"and",Object(i.jsx)("select",{value:te,className:"form-control",style:{width:160},onChange:function(e){var t=e.target.value;ne(t)},children:o.d.slice(se).map((function(e){return Object(i.jsx)("option",{value:e,children:e},e)}))})]}),Object(i.jsxs)("div",{className:"d-flex justify-content-evenly my-5",children:[Object(i.jsx)(u.d,{style:{width:100},variant:"outline",color:"primary",onClick:m,children:"Back"}),Object(i.jsx)(u.d,{style:{width:100},variant:"outline",color:"primary",onClick:function(){p((function(e){return Object(r.a)(Object(r.a)({},e),{},{appointment_time_begin:new Date("".concat(g()(W).format("MM/DD/YYYY")," ").concat(Q)).getTime()/1e3,appointment_time_end:new Date("".concat(g()(W).format("MM/DD/YYYY")," ").concat(te)).getTime()/1e3})})),e.next()},children:"Continue"})]})]})},C=n(609),S=n(610),E=function(e){return S.b().shape({first_name:S.d().trim().required(),last_name:S.d().trim().required(),gender:S.d().trim().required(),date_of_birth:S.d().trim().required(),phone:S.d().trim().required(),street:S.d().trim().required(),no:S.d().trim().required(),post_code:S.d().trim().required(),place:S.d().trim().required()})},B=function(e){var t=e.info,n=e.setInfo,r=e.toMe,a=e.back,c=e.next,d=Object(s.useRef)(null),j=Object(l.c)((function(e){return e.auth}));Object(s.useEffect)((function(){d.current.validateForm()}),[]);return Object(i.jsx)("div",{className:"text-center",children:Object(i.jsx)(C.a,{validate:Object(w.q)(E),onSubmit:function(e){n(e),c()},initialValues:{gender:(r?j.gender:"")||t.gender,first_name:(r?j.first_name:"")||t.first_name,last_name:(r?j.last_name:"")||t.last_name,date_of_birth:(r?j.birthday:"")||t.date_of_birth,phone:(r?j.mobile:"")||t.phone,street:(r?j.street:"")||t.street,no:(r?j.no:"")||t.no,post_code:(r?j.postcode:"")||t.post_code,place:(r?j.place:"")||t.place},innerRef:d,children:function(e){var t,n,s,c,l,d,j,b=e.values,p=e.errors,m=e.touched,f=e.handleChange,h=e.handleBlur,v=e.handleSubmit,x=e.isValid;e.dirty;return Object(i.jsxs)(u.q,{onSubmit:v,name:"simpleForm",className:"px-5",children:[Object(i.jsxs)("div",{style:{textAlign:"left"},className:"mb-5",children:[Object(i.jsx)("div",{className:"size-0",children:"All most done!"}),Object(i.jsx)("div",{className:"mt-2",children:"All you have to do is enter your address and mobile number."}),Object(i.jsx)("div",{className:"mt-2",children:"A nurse can take care of your request."})]}),Object(i.jsx)(u.r,{children:Object(i.jsxs)(u.w,{className:"mb-4",children:[Object(i.jsx)(u.u,{type:"radio",name:"gender",value:"female",onChange:f,checked:"female"===b.gender}),"Female",Object(i.jsx)(u.u,{type:"radio",name:"gender",value:"male",onChange:f,checked:"male"===b.gender}),"Male",Object(i.jsx)(u.u,{type:"radio",name:"gender",value:"others",onChange:f,checked:"others"===b.gender}),"Other"]})}),Object(i.jsxs)(u.r,{children:[Object(i.jsx)(u.u,{type:"text",placeholder:"First Name*",invalid:""!==(null===(t=b.first_name)||void 0===t?void 0:t.trim())&&m.first_name&&!!p.first_name,maxLength:50,value:Object(w.c)(b.first_name),onBlur:h,onChange:function(e){o.c.validate.valueTypingExpressionsName(e)&&f(e)},name:"first_name",disabled:r,required:!0}),Object(i.jsx)(u.A,{children:p.first_name})]}),Object(i.jsxs)(u.r,{children:[Object(i.jsx)(u.u,{type:"text",placeholder:"Last Name*",invalid:""!==(null===(n=b.last_name)||void 0===n?void 0:n.trim())&&m.last_name&&!!p.last_name,maxLength:50,value:Object(w.c)(b.last_name),onBlur:h,onChange:function(e){o.c.validate.valueTypingExpressionsName(e)&&f(e)},name:"last_name",disabled:r,required:!0}),Object(i.jsx)(u.A,{children:p.last_name})]}),Object(i.jsx)(u.r,{children:Object(i.jsx)(u.L,{children:Object(i.jsx)(u.j,{xs:"12",children:Object(i.jsx)(u.u,{type:"date",min:"1800-01-01",max:g()().format("YYYY-MM-DD"),name:"date_of_birth",value:b.date_of_birth,onChange:f,required:!0})})})}),Object(i.jsxs)(u.r,{children:[Object(i.jsx)(u.u,{type:"text",placeholder:"Mobile phone number*",invalid:""!==(null===(s=b.phone)||void 0===s?void 0:s.trim())&&m.phone&&!!p.phone,maxLength:20,value:b.phone,onBlur:h,onChange:function(e){(""===e.target.value||o.c.validate.valueTypingExpressionsPhone(e))&&f(e)},name:"phone",required:!0}),Object(i.jsx)(u.A,{children:p.phone})]}),Object(i.jsxs)(u.L,{children:[Object(i.jsx)(u.j,{xs:"6",children:Object(i.jsxs)(u.r,{children:[Object(i.jsx)(u.u,{type:"text",placeholder:"Street*",invalid:""!==(null===(c=b.street)||void 0===c?void 0:c.trim())&&m.street&&!!p.street,maxLength:50,value:b.street,onBlur:h,onChange:function(e){o.c.validate.valueTypingExpressionsName(e)&&f(e)},name:"street",required:!0}),Object(i.jsx)(u.A,{children:p.street})]})}),Object(i.jsx)(u.j,{xs:"6",children:Object(i.jsxs)(u.r,{children:[Object(i.jsx)(u.u,{type:"text",placeholder:"No*",invalid:""!==(null===(l=b.no)||void 0===l?void 0:l.trim())&&m.no&&!!p.no,maxLength:10,value:b.no,onBlur:h,onChange:function(e){(""===e.target.value||o.c.validate.valueTypingExpressionsNumber(e))&&f(e)},name:"no",required:!0}),Object(i.jsx)(u.A,{children:p.no})]})})]}),Object(i.jsxs)(u.L,{children:[Object(i.jsx)(u.j,{xs:"6",children:Object(i.jsxs)(u.r,{children:[Object(i.jsx)(u.u,{type:"text",placeholder:"POSTCODE*",invalid:""!==(null===(d=b.post_code)||void 0===d?void 0:d.trim())&&m.post_code&&!!p.post_code,maxLength:10,value:b.post_code,onBlur:h,onChange:function(e){(""===e.target.value||o.c.validate.valueTypingExpressionsNumber(e))&&f(e)},name:"post_code",required:!0}),Object(i.jsx)(u.A,{children:p.post_code})]})}),Object(i.jsx)(u.j,{xs:"6",children:Object(i.jsxs)(u.r,{children:[Object(i.jsx)(u.u,{type:"text",placeholder:"Place*",invalid:""!==(null===(j=b.place)||void 0===j?void 0:j.trim())&&m.place&&!!p.place,maxLength:50,value:b.place,onBlur:h,onChange:function(e){o.c.validate.valueTypingExpressionsName(e)&&f(e)},name:"place",required:!0}),Object(i.jsx)(u.A,{children:p.place})]})})]}),Object(i.jsxs)("div",{className:"d-flex justify-content-evenly my-5",children:[Object(i.jsx)(u.d,{style:{width:100},variant:"outline",color:"primary",onClick:a,children:"Back"}),Object(i.jsx)(u.d,{type:"submit",style:{width:100},variant:"outline",color:"primary",disabled:!x,children:"Continue"})]})]})}})})},q=function(e){var t=e.sendData,n=e.book,r=e.info,a=e.setStep,s=e.back;return Object(i.jsxs)("div",{className:"px-5",children:[Object(i.jsx)("h3",{className:"mb-5",children:"Overview of your request"}),Object(i.jsx)("div",{className:"d-flex justify-content-between pt-3 pb-2",children:Object(i.jsx)("div",{children:"Your treatment"})}),Object(i.jsx)("input",{value:N.g.get("treatmentTitle")||"",className:"form-control overview-disabled",disabled:!0}),Object(i.jsxs)("div",{className:"d-flex justify-content-between pt-3 pb-2",children:[Object(i.jsx)("div",{children:"Date"}),Object(i.jsxs)("div",{className:"link",onClick:function(){return a("book-appointment")},children:["Change ",Object(i.jsx)("i",{className:"fa fa-pencil"})]})]}),Object(i.jsx)("input",{value:g()(1e3*n.appointment_time_begin).format("dddd DD.MM.YYYY"),className:"form-control overview-disabled",disabled:!0}),Object(i.jsxs)("div",{className:"d-flex justify-content-between pt-3 pb-2",children:[Object(i.jsx)("div",{children:"Time"}),Object(i.jsxs)("div",{className:"link",onClick:function(){return a("book-appointment")},children:["Change ",Object(i.jsx)("i",{className:"fa fa-pencil"})]})]}),Object(i.jsx)("input",{value:"".concat(Object(w.p)(n.appointment_time_begin)," - ").concat(Object(w.p)(n.appointment_time_end)),className:"form-control overview-disabled",disabled:!0}),Object(i.jsxs)("div",{className:"d-flex justify-content-between pt-3 pb-2",children:[Object(i.jsx)("div",{children:"Your phone number"}),Object(i.jsxs)("div",{className:"link",onClick:function(){return a("enter-info")},children:["Change ",Object(i.jsx)("i",{className:"fa fa-pencil"})]})]}),Object(i.jsx)("input",{value:r.phone,className:"form-control overview-disabled",disabled:!0}),Object(i.jsxs)("div",{className:"d-flex justify-content-evenly my-5",children:[Object(i.jsx)(u.d,{style:{width:100},variant:"outline",color:"primary",onClick:s,children:"Back"}),Object(i.jsx)(u.d,{style:{width:100},variant:"outline",color:"primary",onClick:t,children:"Done"})]})]})},Y=function(e){var t=Object(d.h)();return Object(i.jsx)("div",{className:"d-flex justfy-content-center align-items-center",style:{height:"50vh"},children:Object(i.jsxs)(u.k,{children:[Object(i.jsx)(u.L,{className:"justify-content-center",style:{margin:15},children:Object(i.jsx)("i",{className:"fa fa-check-circle",style:{fontSize:30,color:"#0B98D5"}})}),Object(i.jsxs)(u.L,{className:"flex-column align-items-center",children:[Object(i.jsx)("div",{style:{fontSize:16,padding:"5px 10px",textAlign:"center"},children:"You have successfully booked an appointment!"}),Object(i.jsx)("div",{style:{fontSize:16,padding:"5px 10px",textAlign:"center"},children:"Thank you for your request. Please check your email or Request menu to follow the request!"}),Object(i.jsx)(u.d,{className:"my-3",style:{width:100},variant:"outline",color:"primary",onClick:function(){return t.push("/consulting/view-appointments")},children:"OK"})]})]})})},M=n(694),A=n(64);t.default=function(e){var t,n=Object(l.b)(),u=function(e,t){return n(Object(c.d)(e,t))},b=Object(d.h)(),p=null===(t=e.match)||void 0===t?void 0:t.params,f=null===p||void 0===p?void 0:p.id,h=Object(s.useState)(!1),v=Object(a.a)(h,2),x=v[0],O=v[1],y=Object(s.useState)({data:[],loading:!0,full:!1,page:0}),g=Object(a.a)(y,2),_=g[0],N=g[1],k=Object(s.useState)({nurse:null,appointment_time_begin:null,appointment_time_end:null}),T=Object(a.a)(k,2),C=T[0],S=T[1],E=Object(s.useState)({gender:"",first_name:"",last_name:"",date_of_birth:"",phone:"",street:"",no:"",post_code:"",place:""}),P=Object(a.a)(E,2),L=P[0],R=P[1],z=Object(s.useState)([]),I=Object(a.a)(z,2),F=I[0],H=I[1],W=Object(s.useState)({loading:!0,data:{}}),U=Object(a.a)(W,2),V=U[0],J=U[1],G=Object(s.useState)("for-whom"),K=Object(a.a)(G,2),X=K[0],Q=K[1],Z=V.data.length,$=1,ee=1+Z+4,te=function(e){u({method:"get",api:o.c.rest.getNurses(e,_.page,10),loading:!V.loading},(function(e){var t=e.data,n=e.status;N(n?Object(r.a)(Object(r.a)({},_),{},{data:t.nurses,loading:!1}):Object(r.a)(Object(r.a)({},_),{},{loading:!1}))}))};if(Object(s.useEffect)((function(){var e;e=f,u({method:"get",api:o.c.rest.getSurveys(e),loading:!0},(function(e){var t=e.data;e.status===c.c&&J({data:t.steps,loading:!1})})),te("")}),[]),V.loading)return Object(i.jsx)("div",{});if(0===Z)return Object(i.jsx)("h3",{children:"Error"});var ne=Object(i.jsx)("div",{});if(!V.loading)switch(X){case"for-whom":ne=Object(i.jsx)(j,{setToMe:O,next:function(){Q(1)},back:function(){return b.push("/consulting/treatments")}}),$=1;break;case"book-appointment":ne=Object(i.jsx)(D,{nurses:_,getNurses:te,book:C,setBook:S,next:function(){return Q("enter-info")},back:function(){return Q(Z)}}),$=1+Z+1;break;case"enter-info":ne=Object(i.jsx)(B,{info:L,setInfo:R,toMe:x,next:function(){return Q("overview")},back:function(){return Q("book-appointment")}}),$=1+Z+2;break;case"overview":ne=Object(i.jsx)(q,{sendData:function(){var e={result_survey:{questions:F},appointment_time_begin:C.appointment_time_begin,appointment_time_end:C.appointment_time_end,request_nurses_id:C.nurse||"",selected_treatments_id:f,customer_gender:"male"===L.gender?0:"female"===L.gender?1:2,first_name:L.first_name,last_name:L.last_name,birthday:L.date_of_birth,phone_number:L.phone,street:L.street,postcode:L.post_code,no:L.no,place:L.place,is_me:x?1:0};u({method:"post",api:o.c.rest.createAppointment(),body:e,loading:!0},(function(e){if(e.status===c.c&&(Q("book-successfully"),x)){var t={gender:L.gender,birthday:L.date_of_birth,mobile:L.phone,street:L.street,no:L.no,place:L.place,postcode:L.post_code};Object(w.b)(t),n(Object(A.h)(t))}}))},book:C,info:L,setStep:Q,back:function(){return Q("enter-info")}}),$=1+Z+3;break;case"book-successfully":ne=Object(i.jsx)(Y,{}),$=1+Z+4;break;default:ne=Object(i.jsx)(m,{step:X,steps:V.data,next:function(){return Q(X===Z?"book-appointment":X+1)},back:function(){return Q(1===X?"for-whom":X-1)},answers:F,setAnswers:H}),$=1+X}return Object(i.jsxs)("div",{style:{flex:1},children:[Object(i.jsx)(M.a,{backgroundColor:"transparent",visualParts:[{id:"1",percentage:"".concat(Math.floor(100*$/ee),"%"),color:"var(--primary)"}]}),Object(i.jsx)("div",{className:"treatment-step-wrapper",children:ne})]})}},606:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=!("undefined"===typeof window||!window.document||!window.document.createElement);var r=void 0;function a(){return void 0===r&&(r=function(){if(!i)return!1;if(!window.addEventListener||!window.removeEventListener||!Object.defineProperty)return!1;var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t)}catch(r){}return e}()),r}function s(e){e.handlers===e.nextHandlers&&(e.nextHandlers=e.handlers.slice())}function c(e){this.target=e,this.events={}}c.prototype.getEventHandlers=function(e,t){var n,i=String(e)+" "+String((n=t)?!0===n?100:(n.capture<<0)+(n.passive<<1)+(n.once<<2):0);return this.events[i]||(this.events[i]={handlers:[],handleEvent:void 0},this.events[i].nextHandlers=this.events[i].handlers),this.events[i]},c.prototype.handleEvent=function(e,t,n){var i=this.getEventHandlers(e,t);i.handlers=i.nextHandlers,i.handlers.forEach((function(e){e&&e(n)}))},c.prototype.add=function(e,t,n){var i=this,r=this.getEventHandlers(e,n);s(r),0===r.nextHandlers.length&&(r.handleEvent=this.handleEvent.bind(this,e,n),this.target.addEventListener(e,r.handleEvent,n)),r.nextHandlers.push(t);var a=!0;return function(){if(a){a=!1,s(r);var c=r.nextHandlers.indexOf(t);r.nextHandlers.splice(c,1),0===r.nextHandlers.length&&(i.target&&i.target.removeEventListener(e,r.handleEvent,n),r.handleEvent=void 0)}}};var o="__consolidated_events_handlers__";function l(e,t,n,i){e[o]||(e[o]=new c(e));var r=function(e){if(e)return a()?e:!!e.capture}(i);return e[o].add(t,n,r)}},607:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g}));var i=n(606),r=(n(0),n(1)),a=n.n(r),s=n(103);function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=o(e);if(t){var r=o(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return d(this,n)}}function j(e,t){var n,i=(n=e,!isNaN(parseFloat(n))&&isFinite(n)?parseFloat(n):"px"===n.slice(-2)?parseFloat(n.slice(0,-2)):void 0);if("number"===typeof i)return i;var r=function(e){if("%"===e.slice(-1))return parseFloat(e.slice(0,-1))/100}(e);return"number"===typeof r?r*t:void 0}var b="above",p="inside",m="below",f="invisible";function h(e){return"string"===typeof e.type}var v;var x=[];function O(e){x.push(e),v||(v=setTimeout((function(){var e;for(v=null;e=x.shift();)e()}),0));var t=!0;return function(){if(t){t=!1;var n=x.indexOf(e);-1!==n&&(x.splice(n,1),!x.length&&v&&(clearTimeout(v),v=null))}}}var y={debug:!1,scrollableAncestor:void 0,children:void 0,topOffset:"0px",bottomOffset:"0px",horizontal:!1,onEnter:function(){},onLeave:function(){},onPositionChange:function(){},fireOnRapidScroll:!0},g=function(t){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(v,t);var n,r,o,d=u(v);function v(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),(t=d.call(this,e)).refElement=function(e){t._ref=e},t}return n=v,(r=[{key:"componentDidMount",value:function(){var e=this;v.getWindow()&&(this.cancelOnNextTick=O((function(){e.cancelOnNextTick=null;var t=e.props,n=t.children;t.debug,function(e,t){if(e&&!h(e)&&!t)throw new Error("<Waypoint> needs a DOM element to compute boundaries. The child you passed is neither a DOM element (e.g. <div>) nor does it use the innerRef prop.\n\nSee https://goo.gl/LrBNgw for more info.")}(n,e._ref),e._handleScroll=e._handleScroll.bind(e),e.scrollableAncestor=e._findScrollableAncestor(),e.scrollEventListenerUnsubscribe=Object(i.a)(e.scrollableAncestor,"scroll",e._handleScroll,{passive:!0}),e.resizeEventListenerUnsubscribe=Object(i.a)(window,"resize",e._handleScroll,{passive:!0}),e._handleScroll(null)})))}},{key:"componentDidUpdate",value:function(){var e=this;v.getWindow()&&this.scrollableAncestor&&(this.cancelOnNextTick||(this.cancelOnNextTick=O((function(){e.cancelOnNextTick=null,e._handleScroll(null)}))))}},{key:"componentWillUnmount",value:function(){v.getWindow()&&(this.scrollEventListenerUnsubscribe&&this.scrollEventListenerUnsubscribe(),this.resizeEventListenerUnsubscribe&&this.resizeEventListenerUnsubscribe(),this.cancelOnNextTick&&this.cancelOnNextTick())}},{key:"_findScrollableAncestor",value:function(){var t=this.props,n=t.horizontal,i=t.scrollableAncestor;if(i)return function(t){return"window"===t?e.window:t}(i);for(var r=this._ref;r.parentNode;){if((r=r.parentNode)===document.body)return window;var a=window.getComputedStyle(r),s=(n?a.getPropertyValue("overflow-x"):a.getPropertyValue("overflow-y"))||a.getPropertyValue("overflow");if("auto"===s||"scroll"===s||"overlay"===s)return r}return window}},{key:"_handleScroll",value:function(e){if(this._ref){var t=this._getBounds(),n=function(e){return e.viewportBottom-e.viewportTop===0?f:e.viewportTop<=e.waypointTop&&e.waypointTop<=e.viewportBottom||e.viewportTop<=e.waypointBottom&&e.waypointBottom<=e.viewportBottom||e.waypointTop<=e.viewportTop&&e.viewportBottom<=e.waypointBottom?p:e.viewportBottom<e.waypointTop?m:e.waypointTop<e.viewportTop?b:f}(t),i=this._previousPosition,r=this.props,a=(r.debug,r.onPositionChange),s=r.onEnter,c=r.onLeave,o=r.fireOnRapidScroll;if(this._previousPosition=n,i!==n){var l={currentPosition:n,previousPosition:i,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom};a.call(this,l),n===p?s.call(this,l):i===p&&c.call(this,l),o&&(i===m&&n===b||i===b&&n===m)&&(s.call(this,{currentPosition:p,previousPosition:i,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom}),c.call(this,{currentPosition:n,previousPosition:p,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom}))}}}},{key:"_getBounds",value:function(){var e,t,n=this.props,i=n.horizontal,r=(n.debug,this._ref.getBoundingClientRect()),a=r.left,s=r.top,c=r.right,o=r.bottom,l=i?a:s,d=i?c:o;this.scrollableAncestor===window?(e=i?window.innerWidth:window.innerHeight,t=0):(e=i?this.scrollableAncestor.offsetWidth:this.scrollableAncestor.offsetHeight,t=i?this.scrollableAncestor.getBoundingClientRect().left:this.scrollableAncestor.getBoundingClientRect().top);var u=this.props,b=u.bottomOffset;return{waypointTop:l,waypointBottom:d,viewportTop:t+j(u.topOffset,e),viewportBottom:t+e-j(b,e)}}},{key:"render",value:function(){var e=this,t=this.props.children;return t?h(t)||Object(s.isForwardRef)(t)?a.a.cloneElement(t,{ref:function(n){e.refElement(n),t.ref&&("function"===typeof t.ref?t.ref(n):t.ref.current=n)}}):a.a.cloneElement(t,{innerRef:this.refElement}):a.a.createElement("span",{ref:this.refElement,style:{fontSize:0}})}}])&&c(n.prototype,r),o&&c(n,o),v}(a.a.PureComponent);g.above=b,g.below=m,g.inside=p,g.invisible=f,g.getWindow=function(){if("undefined"!==typeof window)return window},g.defaultProps=y,g.displayName="Waypoint"}).call(this,n(29))},624:function(e,t,n){"use strict";function i(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}n.d(t,"a",(function(){return i}))},702:function(e,t,n){"use strict";var i=n(4),r=n(8),a=n(27),s=n(1),c=n(57),o=n(605),l=n(102),d=n.n(l),u=(n(703),n(28)),j=n(45),b=n(34),p=n(35),m=[0,5,4,3,2,1];t.a=function(e){var t,n=e.show,l=e.nurseId,f=e.nurseName,h=e.nurseThumbnail,v=e.nurseRating,x=e.handleClose,O=Object(u.b)(),y=Object(s.useState)({data:[],loading:!0,full:!0,page:1}),g=Object(a.a)(y,2),w=g[0],_=g[1],N=Object(s.useState)(0),k=Object(a.a)(N,2),T=k[0],D=k[1];Object(s.useEffect)((function(){var e,t;n&&(D(0),_(Object(r.a)(Object(r.a)({},w),{},{loading:!0})),e={method:"get",api:b.c.rest.getDetailFeedbacks(l,1)},t=function(e){var t=e.status,n=e.data;t===j.c&&_((function(e){return{data:n,loading:!1,full:!0,page:1}}))},O(Object(j.d)(e,t)))}),[l]);return Object(i.jsxs)(c.D,{size:"xl",style:{height:"90vh"},centered:!0,show:n,onClose:x,closeOnBackdrop:!1,children:[Object(i.jsx)(c.G,{closeButton:!0,children:"Feedbacks"}),Object(i.jsxs)(c.E,{className:"px-0 py-3",style:{overflowY:"auto",overflowX:"hidden"},children:[Object(i.jsxs)("div",{className:"p-5 nurse-wrapper",children:[Object(i.jsxs)("div",{className:"text-center",children:[Object(i.jsx)("img",{alt:"nurse-avatar",src:h||p.a,className:"nurse-avatar"}),Object(i.jsx)("div",{className:"nurse-name",children:f})]}),Object(i.jsxs)("div",{className:"text-center",children:[Object(i.jsxs)("span",{className:"rating-wrapper",children:[Object(i.jsx)("span",{className:"rating",children:null===(t=Number(v))||void 0===t?void 0:t.toFixed(1)}),Object(i.jsx)("span",{className:"max-rating",children:"/5.0"})]}),Object(i.jsx)(o.l,{size:"lg",rating:v})]})]}),w.loading?Object(i.jsx)("div",{className:"mt-5",children:p.e}):Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:"row px-5 py-3",children:m.map((function(e){return function(e){var t;return t=0===e?Object(i.jsx)("span",{children:"All"}):Array.from({length:e}).map((function(e,t){return Object(i.jsx)("i",{className:"fa fa-star"},t)})),Object(i.jsx)("div",{onClick:function(){return D(e)},className:"col-md-2",children:Object(i.jsxs)("div",{className:"rating-select ".concat(e===T?"active":""),style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(i.jsx)("div",{children:t}),Object(i.jsxs)("div",{children:["(",w.data[e].number_feedback,")"]})]})},e)}(e)}))}),Object(i.jsx)("div",{children:w.data[T].user_comments.map((function(e){return function(e){var t=e.user_id,n=e.avatar,r=e.first_name,a=e.last_name,s=e.feedback,c=e.customer_comments,l=e.modified_date;return Object(i.jsxs)("div",{className:"feedback-wrapper",children:[Object(i.jsx)("div",{className:"mx-3",children:Object(i.jsx)("img",{alt:"user-avatar",src:n||p.a,className:"user-avatar"})}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:"feedback-username",children:r+" "+a}),Object(i.jsx)(o.m,{size:"sm",rating:s}),Object(i.jsx)("div",{className:"feedback-content",children:c}),Object(i.jsx)("div",{className:"feedback-created-date",children:d()(1e3*l).format("DD.MM.YYYY hh:mm")})]})]},t)}(e)}))}),0===w.data[T].user_comments.length&&Object(i.jsx)("div",{className:"mt-5",style:{textAlign:"center",fontSize:20},children:"There is no feedback yet"})]})]})]})}},703:function(e,t,n){}}]);
//# sourceMappingURL=34.4eca9a9a.chunk.js.map