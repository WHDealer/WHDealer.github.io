(this["webpackJsonphb-frontend"]=this["webpackJsonphb-frontend"]||[]).push([[38],{1055:function(e,t,n){e.exports={mobilityWrapper:"MobilitySaved_mobilityWrapper__sMArV",btn:"MobilitySaved_btn__sv5Xg",title:"MobilitySaved_title__14cu5",searchBtn:"MobilitySaved_searchBtn__3shZs",altere:"MobilitySaved_altere__3ia4r",image:"MobilitySaved_image__iWSR3",imageContentWrap:"MobilitySaved_imageContentWrap__1-zaJ",imageContentTitle:"MobilitySaved_imageContentTitle__10OFy",imageContent:"MobilitySaved_imageContent__3MQbi",informationTrainer:"MobilitySaved_informationTrainer__pw6EV",amountView:"MobilitySaved_amountView__1Fxxs",hashtag:"MobilitySaved_hashtag__2NyTU",content:"MobilitySaved_content__2xWEz",hbSave:"MobilitySaved_hbSave__1JuA_"}},1177:function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(8),r=n(58),a=n(27),c=n(1),s=n(45),l=n(34),d=n(31),u=n(28),h=n(607),v=n(35),p=n(608),f=n(163),b=n(1055),m=n.n(b),w=n.p+"static/media/Saly-24.2d5934e8.svg",g=86400,j=7*g,y=30*g,O=31104e3;t.default=function(e){var t=Object(d.i)().search,n=new URLSearchParams(t).get("history")||"",b=Object(u.b)(),_=function(e,t){return b(Object(s.d)(e,t))},x=Object(d.h)(),S=Object(c.useState)({data:[],loading:!0,full:!1,page:0}),N=Object(a.a)(S,2),T=N[0],E=N[1],k=Object(c.useState)(""),B=Object(a.a)(k,2),C=B[0],P=B[1],M=Object(c.useState)(!1),W=Object(a.a)(M,2),R=W[0],A=W[1],V=function(e,t){_({method:"get",api:n?l.c.rest.getHistoryWatch(e,t,12):l.c.rest.getSearchVideos("1",e,"",12,t),loading:1===t},(function(e){var n=e.data;if(e.status===s.c){var i=1===t?n.videos:[].concat(Object(r.a)(T.data),Object(r.a)(n.videos));E({data:i,full:n.videos.length<12,loading:!1,page:t})}}))},H=function(){A(!1)};Object(c.useEffect)((function(){var e;V(C,1),null===(e=window)||void 0===e||e.scrollTo(0,0)}),[]);var L={className:"header-topic--wrapper__search--selection__world",searchName:C,setSearchName:P,searchEmpty:!0,callbackSearch:function(e){return V(e,1)},isNew:!0,clearBtn:!0,onKeyPress:function(e){return V(e,1)},timeoutSearch:0},z=function(e){return Object(i.jsx)("div",{className:"col-lg-6 col-md-6 hb-card-item",children:Object(i.jsxs)("div",{style:{backgroundColor:"white",padding:15,borderRadius:32,height:181,display:"flex",alignItems:"center"},children:[Object(i.jsx)("div",{children:Object(i.jsx)("div",{style:{overflow:"hidden",display:"block",borderRadius:20,width:150,height:150,backgroundImage:'url("'.concat(null===e||void 0===e?void 0:e.thumbnail,'")'),backgroundSize:"cover",marginRight:20,cursor:"pointer"},onClick:function(){return x.push("/mobility/watch?video=".concat(null===e||void 0===e?void 0:e.id))}})}),Object(i.jsxs)("div",{style:{marginLeft:10,marginRight:28,width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",flex:1},children:[Object(i.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(i.jsxs)("div",{className:"".concat(m.a.informationTrainer," d-flex justify-content-between"),children:[Object(i.jsx)("div",{style:{borderRadius:"50%",width:32,height:32,backgroundImage:'url("'.concat((null===e||void 0===e?void 0:e.trainer_avatar)||v.b,'")'),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",cursor:(null===e||void 0===e?void 0:e.trainer_id)?"pointer":"default"},onClick:function(){(null===e||void 0===e?void 0:e.trainer_id)&&x.push("/mobility/trainer-detail/".concat(null===e||void 0===e?void 0:e.trainer_id))}}),Object(i.jsxs)("div",{className:m.a.amountView,children:[Object(i.jsx)("i",{className:"hb-icon-eye"}),null===e||void 0===e?void 0:e.viewed_amount]})]}),Object(i.jsx)("div",{className:"".concat(n?m.a.hbSave:"hb-save"),onClick:function(){return n?function(e){var t=Object(o.a)({},T),n=Object(r.a)(null===T||void 0===T?void 0:T.data);n=n.filter((function(t){return(null===t||void 0===t?void 0:t.watch_history_id)!==e})),t.data=n,E(t),_({method:"delete",api:l.c.rest.removeHistoryWatch(e)},(function(e){e.status,console.log("response",e),s.c}))}(e.watch_history_id):(t=e.id,i=e.is_saved,E((function(e){var n=Object(r.a)(e.data),i=n.findIndex((function(e){return e.id===t}));return n[i].is_saved=!n[i].is_saved,Object(o.a)(Object(o.a)({},e),{},{data:n})})),void _({method:i?"put":"post",api:i?l.c.rest.unsaveVideo(t):l.c.rest.saveVideo(t)},(function(e){e.status,s.c})));var t,i},children:n?Object(i.jsx)("i",{className:"hb-icon-cross"}):Object(i.jsx)("i",{className:"".concat(e.is_saved?"hb-icon-heart-s":"hb-icon-heart-r")})})]}),Object(i.jsx)("div",{className:m.a.content,onClick:function(){return x.push("/mobility/watch?video=".concat(null===e||void 0===e?void 0:e.id))},children:(null===e||void 0===e?void 0:e.title.length)>30?(null===e||void 0===e?void 0:e.title.slice(0,27))+"...":null===e||void 0===e?void 0:e.title}),Object(i.jsx)("div",{className:"d-flex",style:{cursor:"pointer"},onClick:function(){return x.push("/mobility/watch?video=".concat(null===e||void 0===e?void 0:e.id))},children:Object(i.jsx)("div",{className:"hb-card-hashtag",children:e.category_name})})]})]},n?null===e||void 0===e?void 0:e.watch_history_id:null===e||void 0===e?void 0:e.id)},e.id)},D=[],U=function(e,t){var i=D.findIndex((function(t){return t.label===e}));-1===i?D.push({label:e,arr:[t],count:n||t.is_saved?1:0}):(D[i].arr.push(t),D[i].count+=n||t.is_saved?1:0)},F=(new Date).getTime();return T.data.forEach((function(e){return function(e){var t=new Date(1e3*(e.saved_date||e.created_date)),n=(F-t.getTime())/1e3;U(n<g?"Heute":n<2*g?"1 Tag":n<j?Math.floor(n/g)+" Tage":n<2*j?"1 Woche":n<y?Math.floor(n/j)+" Wochen":n<5184e3?"1 Monat":n<O?Math.floor(n/y)+" Monate":n<2*O?"1 Jahr":Math.floor(n/O)+" Jahre",e)}(e)})),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(f.h,{show:R,handleClose:H,title:"Gesehene l\xf6schen",content:"Sind Sie sicher, dass Sie Ihre gesehenen Videos vollst\xe4ndig l\xf6schen m\xf6chten?",up:"Ja, l\xf6schen",upCallback:function(){E({data:[],loading:!1}),_({method:"delete",api:n?l.c.rest.clearAllHistoryWatch():l.c.rest.unsaveALLMobility(),loading:!0},(function(e){e.status===s.c&&(A(!1),E(Object(o.a)(Object(o.a)({},T),{},{data:[]})))}))},down:"Abbrechen",downCallback:H}),Object(i.jsxs)("div",{className:"hb-mx-20",children:[Object(i.jsxs)("div",{className:"d-flex justify-content-between hb-my-28",children:[Object(i.jsxs)(f.d,{className:m.a.btn,onClick:function(){return x.goBack()},children:[Object(i.jsx)("i",{className:"hb-icon-arrow-left hb-icon-md"})," Zur\xfcck"]}),Object(i.jsx)(f.d,{className:m.a.btn,onClick:function(){return A(!0)},children:"alle l\xf6schen"})]}),Object(i.jsx)("h1",{className:m.a.title,children:n?"Angesehene Videos":" Gespeicherte Videos"})]}),Object(i.jsx)("div",{className:"hb-card",children:Object(i.jsxs)("div",{className:"videos-saved--page",children:[Object(i.jsx)("div",{className:"row",style:{marginBottom:T.loading?20:0},children:Object(i.jsx)("div",{className:"col-md-12",children:Object(i.jsx)(f.k,Object(o.a)(Object(o.a)({placeholder:"Videos suchen"},L),{},{nightBlue:!0}))})}),D.map((function(e){return Object(i.jsxs)("div",{className:"levelDateWrapper",children:[Object(i.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(i.jsx)("div",{className:"levelDateWrapperTitle",children:e.label}),Object(i.jsx)("div",{className:"levelDateWrapperAmountVideos",children:e.count+" Video"+(e.count>2?"s":"")})]}),Object(i.jsx)("div",{className:"row ".concat(m.a.mobilityWrapper),children:e.arr.map((function(e){return z(e)}))})]},e.label)})),0===D.length&&!T.loading&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:m.a.image,children:[Object(i.jsxs)("div",{className:m.a.imageContentWrap,children:[Object(i.jsx)("div",{className:m.a.imageContentTitle,children:"Keine ".concat(n?"Angesehene":"Gespeicherten"," Videos")}),Object(i.jsx)("p",{className:m.a.imageContent,children:"Um Videos zu speicher, tippen Sie auf das Herz beim Video."})]}),Object(i.jsx)("div",{style:{width:300,display:"block",height:300,backgroundImage:'url("'.concat(w,'")'),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"20px 10px"},className:m.a.imagesaly})]}),0!==T.page&&T.loading&&Object(i.jsx)(p.a,{size:"large",render:v.e}),Object(i.jsx)(h.a,{onEnter:function(){T.loading||T.full||(E(Object(o.a)(Object(o.a)({},T),{},{loading:!0})),V(C,T.page+1))}})]})]})})]})}},606:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=!("undefined"===typeof window||!window.document||!window.document.createElement);var o=void 0;function r(){return void 0===o&&(o=function(){if(!i)return!1;if(!window.addEventListener||!window.removeEventListener||!Object.defineProperty)return!1;var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t)}catch(o){}return e}()),o}function a(e){e.handlers===e.nextHandlers&&(e.nextHandlers=e.handlers.slice())}function c(e){this.target=e,this.events={}}c.prototype.getEventHandlers=function(e,t){var n,i=String(e)+" "+String((n=t)?!0===n?100:(n.capture<<0)+(n.passive<<1)+(n.once<<2):0);return this.events[i]||(this.events[i]={handlers:[],handleEvent:void 0},this.events[i].nextHandlers=this.events[i].handlers),this.events[i]},c.prototype.handleEvent=function(e,t,n){var i=this.getEventHandlers(e,t);i.handlers=i.nextHandlers,i.handlers.forEach((function(e){e&&e(n)}))},c.prototype.add=function(e,t,n){var i=this,o=this.getEventHandlers(e,n);a(o),0===o.nextHandlers.length&&(o.handleEvent=this.handleEvent.bind(this,e,n),this.target.addEventListener(e,o.handleEvent,n)),o.nextHandlers.push(t);var r=!0;return function(){if(r){r=!1,a(o);var c=o.nextHandlers.indexOf(t);o.nextHandlers.splice(c,1),0===o.nextHandlers.length&&(i.target&&i.target.removeEventListener(e,o.handleEvent,n),o.handleEvent=void 0)}}};var s="__consolidated_events_handlers__";function l(e,t,n,i){e[s]||(e[s]=new c(e));var o=function(e){if(e)return r()?e:!!e.capture}(i);return e[s].add(t,n,o)}},607:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return O}));var i=n(606),o=(n(0),n(1)),r=n.n(o),a=n(103);function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return d(this,n)}}function h(e,t){var n,i=(n=e,!isNaN(parseFloat(n))&&isFinite(n)?parseFloat(n):"px"===n.slice(-2)?parseFloat(n.slice(0,-2)):void 0);if("number"===typeof i)return i;var o=function(e){if("%"===e.slice(-1))return parseFloat(e.slice(0,-1))/100}(e);return"number"===typeof o?o*t:void 0}var v="above",p="inside",f="below",b="invisible";function m(e){return"string"===typeof e.type}var w;var g=[];function j(e){g.push(e),w||(w=setTimeout((function(){var e;for(w=null;e=g.shift();)e()}),0));var t=!0;return function(){if(t){t=!1;var n=g.indexOf(e);-1!==n&&(g.splice(n,1),!g.length&&w&&(clearTimeout(w),w=null))}}}var y={debug:!1,scrollableAncestor:void 0,children:void 0,topOffset:"0px",bottomOffset:"0px",horizontal:!1,onEnter:function(){},onLeave:function(){},onPositionChange:function(){},fireOnRapidScroll:!0},O=function(t){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(w,t);var n,o,s,d=u(w);function w(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,w),(t=d.call(this,e)).refElement=function(e){t._ref=e},t}return n=w,(o=[{key:"componentDidMount",value:function(){var e=this;w.getWindow()&&(this.cancelOnNextTick=j((function(){e.cancelOnNextTick=null;var t=e.props,n=t.children;t.debug,function(e,t){if(e&&!m(e)&&!t)throw new Error("<Waypoint> needs a DOM element to compute boundaries. The child you passed is neither a DOM element (e.g. <div>) nor does it use the innerRef prop.\n\nSee https://goo.gl/LrBNgw for more info.")}(n,e._ref),e._handleScroll=e._handleScroll.bind(e),e.scrollableAncestor=e._findScrollableAncestor(),e.scrollEventListenerUnsubscribe=Object(i.a)(e.scrollableAncestor,"scroll",e._handleScroll,{passive:!0}),e.resizeEventListenerUnsubscribe=Object(i.a)(window,"resize",e._handleScroll,{passive:!0}),e._handleScroll(null)})))}},{key:"componentDidUpdate",value:function(){var e=this;w.getWindow()&&this.scrollableAncestor&&(this.cancelOnNextTick||(this.cancelOnNextTick=j((function(){e.cancelOnNextTick=null,e._handleScroll(null)}))))}},{key:"componentWillUnmount",value:function(){w.getWindow()&&(this.scrollEventListenerUnsubscribe&&this.scrollEventListenerUnsubscribe(),this.resizeEventListenerUnsubscribe&&this.resizeEventListenerUnsubscribe(),this.cancelOnNextTick&&this.cancelOnNextTick())}},{key:"_findScrollableAncestor",value:function(){var t=this.props,n=t.horizontal,i=t.scrollableAncestor;if(i)return function(t){return"window"===t?e.window:t}(i);for(var o=this._ref;o.parentNode;){if((o=o.parentNode)===document.body)return window;var r=window.getComputedStyle(o),a=(n?r.getPropertyValue("overflow-x"):r.getPropertyValue("overflow-y"))||r.getPropertyValue("overflow");if("auto"===a||"scroll"===a||"overlay"===a)return o}return window}},{key:"_handleScroll",value:function(e){if(this._ref){var t=this._getBounds(),n=function(e){return e.viewportBottom-e.viewportTop===0?b:e.viewportTop<=e.waypointTop&&e.waypointTop<=e.viewportBottom||e.viewportTop<=e.waypointBottom&&e.waypointBottom<=e.viewportBottom||e.waypointTop<=e.viewportTop&&e.viewportBottom<=e.waypointBottom?p:e.viewportBottom<e.waypointTop?f:e.waypointTop<e.viewportTop?v:b}(t),i=this._previousPosition,o=this.props,r=(o.debug,o.onPositionChange),a=o.onEnter,c=o.onLeave,s=o.fireOnRapidScroll;if(this._previousPosition=n,i!==n){var l={currentPosition:n,previousPosition:i,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom};r.call(this,l),n===p?a.call(this,l):i===p&&c.call(this,l),s&&(i===f&&n===v||i===v&&n===f)&&(a.call(this,{currentPosition:p,previousPosition:i,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom}),c.call(this,{currentPosition:n,previousPosition:p,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom}))}}}},{key:"_getBounds",value:function(){var e,t,n=this.props,i=n.horizontal,o=(n.debug,this._ref.getBoundingClientRect()),r=o.left,a=o.top,c=o.right,s=o.bottom,l=i?r:a,d=i?c:s;this.scrollableAncestor===window?(e=i?window.innerWidth:window.innerHeight,t=0):(e=i?this.scrollableAncestor.offsetWidth:this.scrollableAncestor.offsetHeight,t=i?this.scrollableAncestor.getBoundingClientRect().left:this.scrollableAncestor.getBoundingClientRect().top);var u=this.props,v=u.bottomOffset;return{waypointTop:l,waypointBottom:d,viewportTop:t+h(u.topOffset,e),viewportBottom:t+e-h(v,e)}}},{key:"render",value:function(){var e=this,t=this.props.children;return t?m(t)||Object(a.isForwardRef)(t)?r.a.cloneElement(t,{ref:function(n){e.refElement(n),t.ref&&("function"===typeof t.ref?t.ref(n):t.ref.current=n)}}):r.a.cloneElement(t,{innerRef:this.refElement}):r.a.createElement("span",{ref:this.refElement,style:{fontSize:0}})}}])&&c(n.prototype,o),s&&c(n,s),w}(r.a.PureComponent);O.above=v,O.below=f,O.inside=p,O.invisible=b,O.getWindow=function(){if("undefined"!==typeof window)return window},O.defaultProps=y,O.displayName="Waypoint"}).call(this,n(29))},608:function(e,t,n){"use strict";var i=n(4),o=(n(1),{large:80,medium:48,small:36});t.a=function(e){var t=e.size,n=e.render;return Object(i.jsx)("div",{className:"video-comments--comment",children:Object(i.jsx)("div",{style:{width:"100%",height:o[t]},children:n})})}}}]);
//# sourceMappingURL=38.545d9859.chunk.js.map